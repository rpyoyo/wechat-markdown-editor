const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/md-vendor_.pnpm-1sQTNX3v.js","static/js/md-codemirror-BOTzsbw9.js","static/css/md-vendor_-DppCjOAl.css"])))=>i.map(i=>d[i]);
import{_ as __vitePreload,h as highlightActiveLineGutter,a as highlightSpecialChars,b as history,f as foldGutter,d as drawSelection,c as dropCursor,E as EditorState,i as indentOnInput,s as syntaxHighlighting,e as bracketMatching,g as closeBrackets,j as autocompletion,r as rectangularSelection,k as crosshairCursor,l as highlightActiveLine,m as highlightSelectionMatches,n as indentationMarkers,o as keymap,p as closeBracketsKeymap,q as defaultKeymap,t as searchKeymap,u as historyKeymap,v as foldKeymap,w as completionKeymap,x as lintKeymap,y as acceptCompletion,z as indentWithTab,A as defaultHighlightStyle,B as EditorView,C as css$1,D as undo,F as redo,G as javascript$1,H as markdown$1,P as Prec,I as placeholder,J as EditorSelection,K as languages,L as markdownLanguage,M as vsCodeDark,N as vsCodeLight,O as Compartment,S as StateEffect,Q as StateField,R as Decoration}from"./md-codemirror-BOTzsbw9.js";import{U as yaml,V as xml,W as wasm,X as vbnet,Y as typescript,Z as swift,_ as sql,$ as shell,a0 as scss,a1 as rust,a2 as ruby,a3 as r,a4 as pythonRepl,a5 as python,a6 as plaintext,a7 as phpTemplate,a8 as php,a9 as perl,aa as objectivec,ab as markdown,ac as makefile,ad as lua,ae as less,af as kotlin,ag as json,ah as javascript,ai as java,aj as ini,ak as graphql,al as go,am as diff,an as css,ao as csharp,ap as cpp,aq as c,ar as bash,as as d,at as DOMPurify,au as defineComponent,av as onMounted,aw as openBlock,ax as createBlock,ay as withCtx,az as unref,aA as createElementBlock,aB as createBaseVNode,aC as createCommentVNode,aD as Transition,aE as ref,aF as mergeProps,aG as Toaster_default,aH as deflateSync,aI as HighlightJS,aJ as frontMatter,aK as readingTime,aL as postcss,aM as creator,aN as postcssCalc,aO as axios,aP as watch,aQ as customRef,aR as B,aS as juice,aT as defineStore,aU as useDark,aV as onBeforeUnmount,aW as useToggle,aX as computed,aY as reactive,aZ as storeToRefs,a_ as toDisplayString,a$ as Se,b0 as renderSlot,b1 as normalizeProps,b2 as guardReactiveProps,b3 as Tv,b4 as twMerge,b5 as clsx,b6 as createVNode,b7 as kv,b8 as Ov,b9 as Av,ba as normalizeClass,bb as O,bc as cva,bd as Nv,be as Mv,bf as Fv,bg as Vv,bh as nu,bi as $u,bj as Pu,bk as Xl,bl as X,bm as Iv,bn as useVModel,bo as withDirectives,bp as vModelText,bq as isRef,br as useAttrs,bs as vModelDynamic,bt as Vh,bu as Ot,bv as Iu,bw as Bu,bx as toast,by as v4,bz as onBeforeMount,bA as Fragment,bB as Package,bC as createTextVNode,bD as Search,bE as Plus,bF as renderList,bG as FileText,bH as Calendar,bI as Clock,bJ as FileInput,bK as FileDown,bL as Pencil,bM as Trash2,bN as reactiveOmit,bO as useForwardPropsEmits,bP as RadioGroupRoot_default,bQ as useForwardProps,bR as RadioGroupIndicator_default,bS as Circle,bT as RadioGroupItem_default,bU as toTypedSchema,bV as create$3,bW as create$6,bX as Form,bY as Field,bZ as toRaw,b_ as gy,b$ as Cy,c0 as by,c1 as Minus,c2 as wy,c3 as Cg,c4 as useTemplateRef,c5 as onUnmounted,c6 as _g,c7 as Ay,c8 as normalizeStyle,c9 as Ry,ca as bg,cb as gg,cc as Ky,cd as Xy,ce as Yy,cf as Check,cg as Jy,ch as qy,ci as tg,cj as ChevronDown,ck as eg,cl as ChevronUp,cm as ng,cn as Hy,co as ag,cp as jy,cq as Qy,cr as Wy,cs as wg,ct as xg,cu as create$7,cv as useFileDialog,cw as withModifiers,cx as CloudUpload,cy as markRaw,cz as Re,cA as nextTick,cB as vShow,cC as Cloud,cD as CloudOff,cE as Settings,cF as FileUp,cG as RefreshCw,cH as Copy,cI as Download,cJ as PenLine,cK as Eye,cL as List,cM as throttle,cN as ArrowUpFromLine,cO as rm,cP as dm,cQ as um,cR as vm,cS as fm,cT as im,cU as toPng,cV as Rv,cW as ap,cX as uh,cY as fh,cZ as ch,c_ as hh,c$ as vh,d0 as dh,d1 as resolveComponent,d2 as ChevronRight,d3 as Ellipsis,d4 as SquarePlus,d5 as History,d6 as Ch,d7 as gh,d8 as wh,d9 as ou,da as Hg,db as Wg,dc as Ug,dd as qg,de as jg,df as withKeys,dg as ArrowUpNarrowWide,dh as ChevronsDownUp,di as ChevronsUpDown,dj as EyeOff,dk as Info,dl as Image,dm as MessageCircle,dn as LoaderCircle,dp as RefreshCcw,dq as vModelCheckbox,dr as Expand,ds as Send,dt as Wv,du as jv,dv as Gh,dw as Xh,dx as Yh,dy as qh,dz as Uh,dA as sy,dB as ry,dC as ey,dD as Jh,dE as iy,dF as toRefs,dG as Undo2,dH as Redo2,dI as ClipboardPaste,dJ as WandSparkles,dK as Replace,dL as FolderOpen,dM as Upload,dN as FileCode,dO as FolderKanban,dP as FileCog,dQ as Rh,dR as kh,dS as Oh,dT as Ah,dU as Bold,dV as Italic,dW as Strikethrough,dX as Link,dY as Code,dZ as Palette,d_ as Heading1,d$ as Heading2,e0 as Heading3,e1 as Heading4,e2 as Heading5,e3 as Heading6,e4 as ListOrdered,e5 as Link2,e6 as MessageSquare,e7 as Tag,e8 as CircleQuestionMark,e9 as Heart,ea as Table,eb as Contact,ec as ay,ed as ty,ee as resolveDynamicComponent,ef as Moon,eg as Sun,eh as PanelLeft,ei as Smartphone,ej as Monitor,ek as useClipboard,el as Menu,em as Pause,en as Settings2,eo as Bot,ep as Folder,eq as File,er as FolderTree$1,es as FolderPlus,et as FolderClosed,eu as GripVertical,ev as SplitterResizeHandle_default,ew as SplitterGroup_default,ex as CaseSensitive,ey as Regex,ez as WholeWord,eA as ReplaceAll,eB as useDebounceFn,eC as getSignedUrl,eD as PutObjectCommand,eE as S3Client,eF as qiniu,eG as Buffer,eH as CryptoJS,eI as upload,eJ as SplitterPanel_default,eK as Pen,eL as imageCompression,eM as createApp,eN as createPinia}from"./md-vendor_.pnpm-1sQTNX3v.js";import{s as standaloneExports,p as parserPostcss,a as parserBabel,b as parserMarkdown}from"./md-prettier-BduxhJ40.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();function ucfirst(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}function simpleHash(e){let t=0;for(let o=0;o<e.length;o++){const a=e.charCodeAt(o);t=(t<<5)-t+a,t=t&t}return Math.abs(t).toString(36)}async function initializeMermaid(){typeof window<"u"&&window.mermaid?window.mermaid.initialize({startOnLoad:!1}):(await __vitePreload(()=>import("mermaid"),[])).default.initialize({startOnLoad:!1})}const COMMON_LANGUAGES={bash,c,cpp,csharp,css,diff,go,graphql,ini,java,javascript,json,kotlin,less,lua,makefile,markdown,objectivec,perl,php,"php-template":phpTemplate,plaintext,python,"python-repl":pythonRepl,r,ruby,rust,scss,shell,sql,swift,typescript,vbnet,wasm,xml,yaml},HLJS_VERSION="11.11.1",HLJS_CDN_BASE=`https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/npm/highlightjs/${HLJS_VERSION}`,loadingLanguages=new Map;function grammarUrlFor(e){return`${HLJS_CDN_BASE}/es/languages/${e}.min.js`}async function loadAndRegisterLanguage(e,t){if(t.getLanguage(e))return;if(loadingLanguages.has(e)){await loadingLanguages.get(e);return}const o=(async()=>{try{const a=await import(grammarUrlFor(e));t.registerLanguage(e,a.default)}catch(a){throw console.warn(`Failed to load language: ${e}`,a),a}finally{loadingLanguages.delete(e)}})();loadingLanguages.set(e,o),await o}function formatHighlightedCode(e,t=!1){let o=e;return o=o.replace(/(<span[^>]*>[^<]*<\/span>)(\s+)(<span[^>]*>[^<]*<\/span>)/g,(a,n,s,i)=>n+i.replace(/^(<span[^>]*>)/,`$1${s}`)),o=o.replace(/(\s+)(<span[^>]*>)/g,(a,n,s)=>s.replace(/^(<span[^>]*>)/,`$1${n}`)),o=o.replace(/\t/g,"    "),t?o=o.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/(>[^<]+)|(^[^<]+)/g,a=>a.replace(/\s/g,"&nbsp;")):o=o.replace(/(>[^<]+)|(^[^<]+)/g,a=>a.replace(/\s/g,"&nbsp;")),o}function highlightAndFormatCode(e,t,o,a){let n="";if(a){const i=e.replace(/\r\n/g,`
`).split(`
`).map(h=>{const x=o.highlight(h,{language:t}).value,_=formatHighlightedCode(x,!1);return _===""?"&nbsp;":_}),f=i.map((h,x)=>`<section style="padding:0 10px 0 0;line-height:1.75">${x+1}</section>`).join(""),g=`<div style="white-space:pre;min-width:max-content;line-height:1.75">${i.join("<br/>")}</div>`;n=`
      <section style="display:flex;align-items:flex-start;overflow-x:hidden;overflow-y:auto;width:100%;max-width:100%;padding:0;box-sizing:border-box">
        <section class="line-numbers" style="text-align:right;padding:8px 0;border-right:1px solid rgba(0,0,0,0.04);user-select:none;background:var(--code-bg,transparent);">${f}</section>
        <section class="code-scroll" style="flex:1 1 auto;overflow-x:auto;overflow-y:visible;padding:8px;min-width:0;box-sizing:border-box">${g}</section>
      </section>
    `}else{const s=o.highlight(e,{language:t}).value;n=formatHighlightedCode(s,!0)}return n}function highlightCodeBlock(e,t,o){const a=e.getAttribute("data-raw-code"),n=e.getAttribute("data-show-line-number")==="true";if(!a)return;const s=a.replace(/&quot;/g,'"'),i=highlightAndFormatCode(s,t,o,n);e.innerHTML=i,e.removeAttribute("data-language-pending"),e.removeAttribute("data-raw-code"),e.removeAttribute("data-show-line-number")}function highlightPendingBlocks(e,t=document){t.querySelectorAll("code[data-language-pending]").forEach(a=>{const n=a.getAttribute("data-language-pending");n&&(e.getLanguage(n)?highlightCodeBlock(a,n,e):loadAndRegisterLanguage(n,e).then(()=>{highlightCodeBlock(a,n,e)}).catch(()=>{a.removeAttribute("data-language-pending"),a.removeAttribute("data-raw-code"),a.removeAttribute("data-show-line-number")}))})}function sanitizeHtml(e){const t=[];return e=e.replace(/<!--infographic-start-->[\s\S]*?<!--infographic-end-->/g,o=>(t.push(o),`<span data-md-protected="${t.length-1}"></span>`)),e=e.replace(/<!--mermaid-start-->[\s\S]*?<!--mermaid-end-->/g,o=>(t.push(o),`<span data-md-protected="${t.length-1}"></span>`)),e=DOMPurify.sanitize(e,{ADD_TAGS:["mp-common-profile"]}),e=e.replace(/<span data-md-protected="(\d+)"><\/span>/g,(o,a)=>t[Number(a)]),e}function renderMarkdown(e,t){const{markdownContent:o,readingTime:a}=t.parseFrontMatterAndContent(e);let n=d.parse(o);return n=sanitizeHtml(n),{html:n,readingTime:a}}function postProcessHtml(e,t,o){let a=e;return a=o.buildReadingTime(t)+a,a+=o.buildFootnotes(),a+=o.buildAddition(),a+=`
    <style>
      .hljs.code__pre > .mac-sign {
        display: ${o.getOpts().isMacCodeBlock?"flex":"none"};
      }
    </style>
  `,a+=`
    <style>
      h2 strong {
        color: inherit !important;
      }
    </style>
  `,o.createContainer(a)}const _hoisted_1$C={key:0,class:"loading"},_sfc_main$1W=defineComponent({__name:"AppSplash",setup(e){const t=ref(!0);return onMounted(()=>{setTimeout(()=>{t.value=!1},100)}),(o,a)=>(openBlock(),createBlock(Transition,{name:"fade"},{default:withCtx(()=>[unref(t)?(openBlock(),createElementBlock("div",_hoisted_1$C,[...a[0]||(a[0]=[createBaseVNode("strong",null,"致力于让 Markdown 编辑更简单",-1)])])):createCommentVNode("",!0)]),_:1}))}}),_export_sfc=(e,t)=>{const o=e.__vccOpts||e;for(const[a,n]of t)o[a]=n;return o},__unplugin_components_0$1=_export_sfc(_sfc_main$1W,[["__scopeId","data-v-c0a583f4"]]),_sfc_main$1V=defineComponent({__name:"Sonner",props:{id:{},invert:{type:Boolean},theme:{},position:{},closeButtonPosition:{},hotkey:{},richColors:{type:Boolean},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(Toaster_default),mergeProps({class:"toaster group"},t),null,16))}});function markedAlert(e={}){const{className:t="markdown-alert",variants:o=[],withoutStyle:a=!1}=e,n=resolveVariants(o);function s(f,u,g=!1){return{className:t,variant:f,icon:u.icon,title:u.title??ucfirst(f),titleClassName:`${t}-title`,fromContainer:g}}function i(f){const{meta:u,tokens:g=[]}=f,p=this.parser.parse(g);let h=`<blockquote class="${u.className} ${u.className}-${u.variant}">
`;return h+=`<p class="${u.titleClassName} alert-title-${u.variant}">`,a||(h+=u.icon.replace("<svg",`<svg class="alert-icon-${u.variant}"`)),h+=u.title,h+=`</p>
`,h+=p,h+=`</blockquote>
`,h}return{walkTokens(f){if(f.type!=="blockquote")return;const u=n.find(({type:g})=>new RegExp(createSyntaxPattern(g),"i").test(f.text));if(u){const{type:g}=u,p=new RegExp(createSyntaxPattern(g),"i");Object.assign(f,{type:"alert",meta:s(g,u)});const h=f.tokens?.[0];if(h.raw?.replace(p,"").trim()){const _=h.tokens[0];Object.assign(_,{raw:_.raw.replace(p,""),text:_.text.replace(p,"")}),h.tokens[1]?.type==="br"&&h.tokens.splice(1,1)}else f.tokens?.shift()}},extensions:[{name:"alert",level:"block",renderer:i},{name:"alertContainer",level:"block",start(f){return f.match(/^:::/)?.index},tokenizer(f,u){const g=/^:::\s*(\w+)\s*\n([\s\S]*?)\n:::/.exec(f);if(g){const[p,h,x]=g,_=n.find(w=>w.type===h);return _?{type:"alert",raw:p,text:x.trim(),tokens:this.lexer.blockTokens(x.trim()),meta:s(h,_,!0)}:void 0}},renderer:i}]}}const defaultAlertVariant=[{type:"note",icon:'<svg class="octicon octicon-info" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"info",icon:'<svg class="octicon octicon-info" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"tip",icon:'<svg class="octicon octicon-light-bulb" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>'},{type:"important",icon:'<svg class="octicon octicon-report" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"warning",icon:'<svg class="octicon octicon-alert" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"caution",icon:'<svg class="octicon octicon-stop" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"abstract",title:"Abstract",icon:'<svg class="octicon octicon-clipboard" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M5.75 1a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75Zm4.5-1.5a2.25 2.25 0 0 1 2.122 1.5H13a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h.628A2.25 2.25 0 0 1 5.75-.5ZM3.5 3v10a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5Z"></path></svg>'},{type:"summary",title:"Summary",icon:'<svg class="octicon octicon-clipboard" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M5.75 1a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75Zm4.5-1.5a2.25 2.25 0 0 1 2.122 1.5H13a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h.628A2.25 2.25 0 0 1 5.75-.5ZM3.5 3v10a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5Z"></path></svg>'},{type:"tldr",title:"TL;DR",icon:'<svg class="octicon octicon-clipboard" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M5.75 1a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75Zm4.5-1.5a2.25 2.25 0 0 1 2.122 1.5H13a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h.628A2.25 2.25 0 0 1 5.75-.5ZM3.5 3v10a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5Z"></path></svg>'},{type:"todo",title:"Todo",icon:'<svg class="octicon octicon-checklist" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm10.97 8.72a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1-1.06 1.06l-1.22-1.22v4.94a.75.75 0 0 1-1.5 0v-4.94l-1.22 1.22a.75.75 0 0 1-1.06-1.06Z"></path></svg>'},{type:"success",title:"Success",icon:'<svg class="octicon octicon-check-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>'},{type:"done",title:"Done",icon:'<svg class="octicon octicon-check-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>'},{type:"question",title:"Question",icon:'<svg class="octicon octicon-question" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"help",title:"Help",icon:'<svg class="octicon octicon-question" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"faq",title:"FAQ",icon:'<svg class="octicon octicon-question" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"failure",title:"Failure",icon:'<svg class="octicon octicon-x-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>'},{type:"fail",title:"Fail",icon:'<svg class="octicon octicon-x-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>'},{type:"missing",title:"Missing",icon:'<svg class="octicon octicon-x-circle" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>'},{type:"danger",title:"Danger",icon:'<svg class="octicon octicon-zap" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004ZM9.98 1.873a.016.016 0 0 0-.016.006L2.252 9.021a.75.75 0 0 0 .488 1.212h3.838a.75.75 0 0 1 .694 1.034L5.545 15.02a.016.016 0 0 0 .003.017.017.017 0 0 0 .018.004h.302a.016.016 0 0 0 .012-.005l7.34-7.142a.75.75 0 0 0-.488-1.212h-3.838a.75.75 0 0 1-.694-1.034l1.527-3.628a.016.016 0 0 0-.003-.017.017.017 0 0 0-.018-.004h-.302Z"></path></svg>'},{type:"error",title:"Error",icon:'<svg class="octicon octicon-zap" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004ZM9.98 1.873a.016.016 0 0 0-.016.006L2.252 9.021a.75.75 0 0 0 .488 1.212h3.838a.75.75 0 0 1 .694 1.034L5.545 15.02a.016.016 0 0 0 .003.017.017.017 0 0 0 .018.004h.302a.016.016 0 0 0 .012-.005l7.34-7.142a.75.75 0 0 0-.488-1.212h-3.838a.75.75 0 0 1-.694-1.034l1.527-3.628a.016.016 0 0 0-.003-.017.017.017 0 0 0-.018-.004h-.302Z"></path></svg>'},{type:"bug",title:"Bug",icon:'<svg class="octicon octicon-bug" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292l.727.726a.75.75 0 1 1-1.06 1.06l-.727-.727a2.17 2.17 0 0 1-.292.026H9.25V7.5a.75.75 0 0 1-1.5 0V6.125H6.875a2.17 2.17 0 0 1-.292-.026l-.727.727a.75.75 0 1 1-1.06-1.06l.727-.726a2.17 2.17 0 0 1-.025-.292V4.5c0-.951.379-1.814.995-2.444l-.775-.776a.75.75 0 0 1 0-1.06Zm6.437 6.003A.608.608 0 0 0 11 6.072v-.026a3.999 3.999 0 0 0-.11-.936 2.488 2.488 0 0 0-5.78 0 3.992 3.992 0 0 0-.11.936v.026c0 .05.008.098.02.147h4.937a.612.612 0 0 0 .2-.02ZM2.25 7.5a.75.75 0 0 0 0 1.5h.5v1.25a4.75 4.75 0 0 0 2.478 4.166l.247.137a.75.75 0 1 0 .722-1.313l-.246-.137A3.25 3.25 0 0 1 4.25 10.25V9h7.5v1.25a3.25 3.25 0 0 1-1.701 2.853l-.246.137a.75.75 0 1 0 .722 1.313l.247-.137A4.75 4.75 0 0 0 13.25 10.25V9h.5a.75.75 0 0 0 0-1.5Z"></path></svg>'},{type:"example",title:"Example",icon:'<svg class="octicon octicon-list-unordered" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"quote",title:"Quote",icon:'<svg class="octicon octicon-quote" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25v-8.5C0 2.784.784 2 1.75 2ZM1.5 12.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM4 5.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 5.25Zm0 4a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z"></path></svg>'},{type:"cite",title:"Cite",icon:'<svg class="octicon octicon-quote" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25v-8.5C0 2.784.784 2 1.75 2ZM1.5 12.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM4 5.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 5.25Zm0 4a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z"></path></svg>'}];function resolveVariants(e){return e.length?Object.values([...defaultAlertVariant,...e].reduce((t,o)=>(t[o.type]=o,t),{})):defaultAlertVariant}function createSyntaxPattern(e){return`^(?:\\[!${e}])\\s*?
*`}const fnMap=new Map;function markedFootnotes(){return{extensions:[{name:"footnoteDef",level:"block",start(e){return fnMap.clear(),e.match(/^\[\^/)?.index},tokenizer(e){const t=e.match(/^\[\^(.*)\]:(.*)/);if(t){const[o,a,n]=t,s=fnMap.size+1;return fnMap.set(a,{index:s,text:n}),{type:"footnoteDef",raw:o,fnId:a,index:s,text:n}}},renderer(e){const{index:t,text:o,fnId:a}=e,n=`
                <code>${t}.</code> 
                <span>${o}</span> 
                    <a id="fnDef-${a}" href="#fnRef-${a}" style="color: var(--md-primary-color);">↩︎</a>
                <br>`;return t===1?`
            <p style="font-size: 80%;margin: 0.5em 8px;word-break:break-all;">${n}`:t===fnMap.size?`${n}</p>`:n}},{name:"footnoteRef",level:"inline",start(e){return e.match(/\[\^/)?.index},tokenizer(e){const t=e.match(/^\[\^(.*?)\]/);if(t){const[o,a]=t;if(fnMap.has(a))return{type:"footnoteRef",raw:o,fnId:a}}},renderer(e){const{fnId:t}=e,{index:o}=fnMap.get(t);return`<sup style="color: var(--md-primary-color);">
                    <a href="#fnDef-${t}" id="fnRef-${t}">[${o}]</a>
                </sup>`}}]}}const svgCache$2=new Map;let lastRenderedSvg$2=null;async function renderInfographic(e,t,o,a){if(!(typeof window>"u"))try{const{Infographic:n,setDefaultFont:s,setFontExtendFactor:i,exportToSVG:f}=await __vitePreload(async()=>{const{Infographic:g,setDefaultFont:p,setFontExtendFactor:h,exportToSVG:x}=await import("./md-vendor_.pnpm-1sQTNX3v.js").then(_=>_.eO);return{Infographic:g,setDefaultFont:p,setFontExtendFactor:h,exportToSVG:x}},__vite__mapDeps([0,1,2]));i(1.1),s('-apple-system-font, "system-ui", "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif');const u=(g=5,p=100)=>{const h=document.getElementById(e);if(h){const x=a?.themeMode==="dark",_=document.documentElement,w=getComputedStyle(_),C=w.getPropertyValue("--md-primary-color").trim(),l=w.getPropertyValue("--background").trim(),m=N=>{const v=N.split(" ");return v.length===3?`hsl(${v.join(", ")})`:v.length===4?`hsla(${v.join(", ")})`:""},k=new n({container:h,svg:{style:{width:"100%",height:"100%",background:x?"#000":"transparent"},background:!1},theme:x?"dark":"default",themeConfig:{colorPrimary:C||void 0,colorBg:m(l)||void 0}});k.on("loaded",({node:N})=>{f(N,{removeIds:!0}).then(v=>{h.replaceChildren(v),svgCache$2.set(o,h.innerHTML),lastRenderedSvg$2=h.innerHTML})}),k.render(t);return}g>0&&setTimeout(()=>u(g-1,p),p)};u()}catch(n){console.error("Failed to render Infographic:",n);const s=document.getElementById(e);s&&(s.innerHTML=`<div style="color: red; padding: 10px; border: 1px solid red;">Infographic 渲染失败: ${n instanceof Error?n.message:String(n)}</div>`)}}function markedInfographic(e){const t="infographic-diagram";return{extensions:[{name:"infographic",level:"block",start(o){return o.match(/^```infographic/m)?.index},tokenizer(o){const a=/^```infographic\r?\n([\s\S]*?)\r?\n```/.exec(o);if(a)return{type:"infographic",raw:a[0],text:a[1].trim()}},renderer(o){const a=o.text,n=simpleHash(`${a}-${e?.themeMode||"light"}`),s=svgCache$2.get(n);if(s)return`<!--infographic-start--><div class="${t}" style="width: 100%;">${s}</div><!--infographic-end-->`;const i=`infographic-${n}`;return renderInfographic(i,a,n,e),lastRenderedSvg$2?`<!--infographic-start--><div id="${i}" class="${t}" style="width: 100%;">${lastRenderedSvg$2}</div><!--infographic-end-->`:`<!--infographic-start--><div id="${i}" class="${t}" style="width: 100%;">正在加载 Infographic...</div><!--infographic-end-->`}}],walkTokens(o){o.type==="code"&&o.lang==="infographic"&&(o.type="infographic")}}}const inlineRule=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n$]))\1(?=[\s?!.,:？！。，：]|$)/,inlineRuleNonStandard=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n$]))\1/,blockRule=/^\s{0,3}(\${1,2})[ \t]*\n([\s\S]+?)\n\s{0,3}\1[ \t]*(?:\n|$)/,inlineLatexRule=/^\\\(([^\\]*(?:\\.[^\\]*)*?)\\\)/,blockLatexRule=/^\\\[([^\\]*(?:\\.[^\\]*)*?)\\\]/;function createRenderer(e,t=!0){return o=>{const a=o.displayMode??e;window.MathJax.texReset();const s=window.MathJax.tex2svg(o.text,{display:a}).firstChild,i=s.style["min-width"]||s.getAttribute("width");return s.removeAttribute("width"),t&&(s.style.display="initial",s.style.setProperty("max-width","300vw","important"),s.style.flexShrink="0",s.style.width=i),a?`<section class="katex-block">${s.outerHTML}</section>`:`<span class="katex-inline">${s.outerHTML}</span>`}}function inlineKatex(e,t){const o=e&&e.nonStandard,a=o?inlineRuleNonStandard:inlineRule;return{name:"inlineKatex",level:"inline",start(n){let s,i=n;for(;i;){if(s=i.indexOf("$"),s===-1)return;if((o?s>-1:s===0||i.charAt(s-1)===" ")&&i.substring(s).match(a))return s;i=i.substring(s+1).replace(/^\$+/,"")}},tokenizer(n){const s=n.match(a);if(s)return{type:"inlineKatex",raw:s[0],text:s[2].trim(),displayMode:s[1].length===2}},renderer:t}}function blockKatex(e,t){return{name:"blockKatex",level:"block",tokenizer(o){const a=o.match(blockRule);if(a)return{type:"blockKatex",raw:a[0],text:a[2].trim(),displayMode:!0}},renderer:t}}function inlineLatexKatex(e,t){return{name:"inlineLatexKatex",level:"inline",start(o){const a=o.indexOf("\\(");return a!==-1?a:void 0},tokenizer(o){const a=o.match(inlineLatexRule);if(a)return{type:"inlineLatexKatex",raw:a[0],text:a[1].trim(),displayMode:!1}},renderer:t}}function blockLatexKatex(e,t){return{name:"blockLatexKatex",level:"block",start(o){const a=o.indexOf("\\[");return a!==-1?a:void 0},tokenizer(o){const a=o.match(blockLatexRule);if(a)return{type:"blockLatexKatex",raw:a[0],text:a[1].trim(),displayMode:!0}},renderer:t}}function MDKatex(e,t=!0){return{extensions:[inlineKatex(e,createRenderer(!1,t)),blockKatex(e,createRenderer(!0,t)),inlineLatexKatex(e,createRenderer(!1,t)),blockLatexKatex(e,createRenderer(!0,t))]}}function markedMarkup(){return{extensions:[{name:"markup_highlight",level:"inline",start(e){return e.match(/==(?!=)/)?.index},tokenizer(e){const o=/^==((?:[^=]|=(?!=))+)==/.exec(e);if(o)return{type:"markup_highlight",raw:o[0],text:o[1]}},renderer(e){return`<span class="markup-highlight">${e.text}</span>`}},{name:"markup_underline",level:"inline",start(e){return e.match(/\+\+(?!\+)/)?.index},tokenizer(e){const o=/^\+\+((?:[^+]|\+(?!\+))+)\+\+/.exec(e);if(o)return{type:"markup_underline",raw:o[0],text:o[1]}},renderer(e){return`<span class="markup-underline">${e.text}</span>`}},{name:"markup_wavyline",level:"inline",start(e){return e.match(/~(?!~)/)?.index},tokenizer(e){const o=/^~([^~\n]+)~(?!~)/.exec(e);if(o)return{type:"markup_wavyline",raw:o[0],text:o[1]}},renderer(e){return`<span class="markup-wavyline">${e.text}</span>`}}]}}const svgCache$1=new Map;let lastRenderedSvg$1=null;function renderMermaid(e,t,o){if(typeof window>"u")return;const a=s=>{svgCache$1.set(o,s),lastRenderedSvg$1=s;const i=document.getElementById(e);i&&(i.innerHTML=s)},n=s=>{console.error("Failed to render Mermaid:",s);const i=document.getElementById(e);i&&(i.innerHTML=`<div style="color: red; padding: 10px; border: 1px solid red;">Mermaid 渲染失败: ${s instanceof Error?s.message:String(s)}</div>`)};window.mermaid?window.mermaid.render(`mermaid-svg-${o}`,t).then(i=>a(i.svg)).catch(n):__vitePreload(()=>import("mermaid"),[]).then(s=>s.default.render(`mermaid-svg-${o}`,t)).then(s=>a(s.svg)).catch(n)}function markedMermaid(){const e="mermaid-diagram";return{extensions:[{name:"mermaid",level:"block",start(t){return t.match(/^```mermaid/m)?.index},tokenizer(t){const o=/^```mermaid\r?\n([\s\S]*?)\r?\n```/.exec(t);if(o)return{type:"mermaid",raw:o[0],text:o[1].trim()}},renderer(t){const o=t.text,a=simpleHash(o),n=svgCache$1.get(a);if(n)return`<!--mermaid-start--><div class="${e}">${n}</div><!--mermaid-end-->`;const s=`mermaid-${a}`;return renderMermaid(s,o,a),lastRenderedSvg$1?`<!--mermaid-start--><div id="${s}" class="${e}">${lastRenderedSvg$1}</div><!--mermaid-end-->`:`<!--mermaid-start--><div id="${s}" class="${e}">正在加载 Mermaid...</div><!--mermaid-end-->`}}],walkTokens(t){t.type==="code"&&t.lang==="mermaid"&&(t.type="mermaid")}}}const svgCache=new Map;let lastRenderedSvg=null;function encode6bit(e){return e<10?String.fromCharCode(48+e):(e-=10,e<26?String.fromCharCode(65+e):(e-=26,e<26?String.fromCharCode(97+e):(e-=26,e===0?"-":e===1?"_":"?")))}function append3bytes(e,t,o){const a=e>>2,n=(e&3)<<4|t>>4,s=(t&15)<<2|o>>6,i=o&63;let f="";return f+=encode6bit(a&63),f+=encode6bit(n&63),f+=encode6bit(s&63),f+=encode6bit(i&63),f}function encode64(e){let t="";for(let o=0;o<e.length;o+=3)o+2===e.length?t+=append3bytes(e.charCodeAt(o),e.charCodeAt(o+1),0):o+1===e.length?t+=append3bytes(e.charCodeAt(o),0,0):t+=append3bytes(e.charCodeAt(o),e.charCodeAt(o+1),e.charCodeAt(o+2));return t}function performDeflate(e){try{const t=new TextEncoder().encode(e),o=deflateSync(t,{level:9});return String.fromCharCode(...o)}catch(t){return console.warn("Deflate compression failed:",t),e}}function encodePlantUML(e){try{const t=performDeflate(e);return encode64(t)}catch(t){console.warn("PlantUML encoding failed, using fallback:",t);const o=new TextEncoder().encode(e);return`~1${btoa(String.fromCharCode(...o)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}`}}function generatePlantUMLUrl(e,t){const o=encodePlantUML(e),a=t.format==="svg"?"svg":"png";return`${t.serverUrl}/${a}/${o}`}function renderPlantUMLDiagram(e,t,o){const{text:a}=e,n=!a.trim().includes("@start")||!a.trim().includes("@end")?`@startuml
${a.trim()}
@enduml`:a,s=generatePlantUMLUrl(n,t);if(t.inlineSvg&&t.format==="svg"){const i=`plantuml-${o}`;fetchSvgContent(s).then(u=>{const g=document.querySelector(`[data-placeholder="${i}"]`);if(g){const p=createPlantUMLHTML(s,t,u);g.outerHTML=p,svgCache.set(o,p),lastRenderedSvg=u}});const f=t.styles.container?Object.entries(t.styles.container).map(([u,g])=>`${u.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${g}`).join("; "):"";return lastRenderedSvg?`<div class="${t.className}" style="${f}" data-placeholder="${i}">${lastRenderedSvg}</div>`:`<div class="${t.className}" style="${f}" data-placeholder="${i}">
      <div style="color: #666; font-style: italic;">正在加载PlantUML图表...</div>
    </div>`}return createPlantUMLHTML(s,t)}async function fetchSvgContent(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}`);return(await t.text()).replace(/(<svg[^>]*)\swidth="[^"]*"/g,"$1").replace(/(<svg[^>]*)\sheight="[^"]*"/g,"$1").replace(/(<svg[^>]*style="[^"]*?)width:[^;]*;?/g,"$1").replace(/(<svg[^>]*style="[^"]*?)height:[^;]*;?/g,"$1")}catch(t){return console.warn(`Failed to fetch SVG content from ${e}:`,t),'<div style="color: #666; font-style: italic;">PlantUML图表加载失败</div>'}}function createPlantUMLHTML(e,t,o){const a=t.styles.container?Object.entries(t.styles.container).map(([n,s])=>`${n.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${s}`).join("; "):"";return o?`<div class="${t.className}" style="${a}">
      ${o}
    </div>`:`<div class="${t.className}" style="${a}">
    <img src="${e}" alt="PlantUML Diagram" style="max-width: 100%; height: auto;" />
  </div>`}function markedPlantUML(e={}){const t={serverUrl:e.serverUrl||"https://www.plantuml.com/plantuml",format:e.format||"svg",className:e.className||"plantuml-diagram",inlineSvg:e.inlineSvg||!1,styles:{container:{textAlign:"center",margin:"16px 8px",overflowX:"auto",...e.styles?.container}}};return{extensions:[{name:"plantuml",level:"block",start(o){return o.match(/^```plantuml/m)?.index},tokenizer(o){const a=/^```plantuml\r?\n([\s\S]*?)\r?\n```/.exec(o);if(a){const[n,s]=a;return{type:"plantuml",raw:n,text:s.trim()}}},renderer(o){const a=simpleHash(o.text),n=svgCache.get(a);return n||renderPlantUMLDiagram(o,t,a)}}],walkTokens(o){o.type==="code"&&o.lang==="plantuml"&&(o.type="plantuml")}}}function markedRuby(){return{extensions:[{name:"ruby",level:"inline",start(e){return e.match(/\[/)?.index},tokenizer(e){let o=/^\[([^\]]+)\]\{([^}]+)\}/.exec(e);if(o)return{type:"ruby",raw:o[0],text:o[1].trim(),ruby:o[2].trim(),format:"basic"};if(o=/^\[([^\]]+)\]\^\(([^)]+)\)/.exec(e),o)return{type:"ruby",raw:o[0],text:o[1].trim(),ruby:o[2].trim(),format:"basic-hat"}},renderer(e){const{text:t,ruby:o,format:a}=e,n=/[・．。-]/g;if(n.test(o)){const i=o.split(n).filter(g=>g.trim()!==""),f=t.split(""),u=[];if(f.length>=i.length){let g=0;for(let p=0;p<i.length;p++){const h=i[p],x=f.length-g,_=i.length-p;let w=1;_===1&&(w=x);const C=f.slice(g,g+w).join("");u.push(`<ruby data-text="${C}" data-ruby="${h}" data-format="${a}">${C}<rp>(</rp><rt>${h}</rt><rp>)</rp></ruby>`),g+=w}g<f.length&&u.push(f.slice(g).join(""))}else for(let g=0;g<f.length;g++){const p=f[g],h=i[g]||"";h?u.push(`<ruby data-text="${p}" data-ruby="${h}" data-format="${a}">${p}<rp>(</rp><rt>${h}</rt><rp>)</rp></ruby>`):u.push(p)}return u.join("")}return`<ruby data-text="${t}" data-ruby="${o}" data-format="${a}">${t}<rp>(</rp><rt>${o}</rt><rp>)</rp></ruby>`}}]}}function markedSlider(){return{extensions:[{name:"horizontalSlider",level:"block",start(e){return e.match(/^<!\[/)?.index},tokenizer(e){const t=/^<(!\[.*?\]\(.*?\)(?:,!\[.*?\]\(.*?\))*)>/,o=e.match(t);if(o)return{type:"horizontalSlider",raw:o[0],text:o[1]}},renderer(e){const{text:t}=e,o=t.match(/!\[(.*?)\]\((.*?)\)/g)||[];return o.length===0?"":`
            <section style="box-sizing: border-box; font-size: 16px;">
              <section data-role="outer" style="font-family: 微软雅黑; font-size: 16px;">
                <section data-role="paragraph" style="margin: 0px auto; box-sizing: border-box; width: 100%;">
                  <section style="margin: 0px auto; text-align: center;">
                    <section style="display: inline-block; width: 100%;">
                      <!-- 微信公众号支持的滑动图片容器 -->
                      <section style="overflow-x: scroll; -webkit-overflow-scrolling: touch; white-space: nowrap; width: 100%; text-align: center;">
                        ${o.map(n=>{const s=n.match(/!\[(.*?)\]/)||[],i=n.match(/\]\((.*?)\)/)||[],f=s[1]||"";return{src:i[1]||"",alt:f}}).map((n,s)=>`<section style="display: inline-block; width: 100%; margin-right: 0; vertical-align: top;">
                          <img src="${n.src}" alt="${n.alt}" title="${n.alt}" style="width: 100%; height: auto; border-radius: 4px; vertical-align: top;"/>
                          <p style="margin-top: 5px; font-size: 14px; color: #666; text-align: center; white-space: normal;">${n.alt}</p>
                        </section>`).join("")}
                      </section>
                    </section>
                  </section>
                </section>
              </section>
              <p style="font-size: 14px; color: #999; text-align: center; margin-top: 5px;"><<< 左右滑动看更多 >>></p>
            </section>
          `}}]}}function markedToc(){let e=[],t=!0;return{walkTokens(o){if(t&&(e=[],t=!1),o.type==="heading"){const a=o.text||"",n=o.depth||1,s=e.length;e.push({text:a,depth:n,index:s})}},extensions:[{name:"toc",level:"block",start(o){const a=o.match(/^\s*\[TOC\]\s*$/m);return a?a.index:void 0},tokenizer(o){const a=/^\[TOC\]/.exec(o);if(a)return{type:"toc",raw:a[0]}},renderer(){if(!e.length)return"";let o='<nav class="markdown-toc"><ul class="toc-ul toc-level-1 pl-4 border-l ml-2">',a=1;e.forEach(({text:n,depth:s,index:i})=>{if(s>a)for(let f=a+1;f<=s;f++)o+=`<ul class="toc-ul toc-level-${f} pl-4 border-l ml-2">`;else if(s<a)for(let f=a;f>s;f--)o+="</ul>";o+=`<li class="toc-li toc-level-${s} mb-1"><a class="text-gray-700 hover:text-blue-600 underline transition-colors" href="#${i}">${n}</a></li>`,a=s});for(let n=a;n>1;n--)o+="</ul>";return o+="</ul></nav>",t=!0,o}}]}}Object.entries(COMMON_LANGUAGES).forEach(([e,t])=>{HighlightJS.registerLanguage(e,t)});d.setOptions({breaks:!0});d.use(markedSlider());function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}function buildAddition(){return`
    <style>
      .preview-wrapper pre::before {
        position: absolute;
        top: 0;
        right: 0;
        color: #ccc;
        text-align: center;
        font-size: 0.8em;
        padding: 5px 10px 0;
        line-height: 15px;
        height: 15px;
        font-weight: 600;
      }
    </style>
  `}function buildFootnoteArray(e){return e.map(([t,o,a])=>a===o?`<code style="font-size: 90%; opacity: 0.6;">[${t}]</code>: <i style="word-break: break-all">${o}</i><br/>`:`<code style="font-size: 90%; opacity: 0.6;">[${t}]</code> ${o}: <i style="word-break: break-all">${a}</i><br/>`).join(`
`)}function transform(e,t,o){const a=e.split("-");for(const n of a){if(n==="alt"&&t)return t;if(n==="title"&&o)return o}return""}const macCodeSvg=`
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="45px" height="13px" viewBox="0 0 450 130">
    <ellipse cx="50" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)" />
    <ellipse cx="225" cy="65" rx="50" ry="52" stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)" />
    <ellipse cx="400" cy="65" rx="50" ry="52" stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)" />
  </svg>
`.trim();function parseFrontMatterAndContent(e){try{const t=frontMatter(e),o=t.attributes,a=t.body,n=readingTime(a);return{yamlData:o,markdownContent:a,readingTime:n}}catch(t){return console.error("Error parsing front-matter:",t),{yamlData:{},markdownContent:e,readingTime:readingTime(e)}}}function initRenderer(e={}){const t=[];let o=0;const a=[],n=[];function s(){return e}function i(_,w,C){const l=C??_,m=`${_.replace(/_/g,"-")}`,k=/^h\d$/.test(l)?' data-heading="true"':"";return`<${l} class="${m}"${k}>${w}</${l}>`}function f(_,w){const C=t.find(([,,l])=>l===w);return C?C[0]:(t.push([++o,_,w]),o)}function u(_){t.length=0,o=0,g(_)}function g(_){e={...e,..._},d.use(markedInfographic({themeMode:_.themeMode}))}function p(_){return!e.countStatus||!_.words?"":`
      <blockquote class="md-blockquote">
        <p class="md-blockquote-p">字数 ${_?.words}，阅读大约需 ${Math.ceil(_?.minutes)} 分钟</p>
      </blockquote>
    `}const h=()=>t.length?i("h4","引用链接")+i("footnotes",buildFootnoteArray(t),"p"):"",x={heading({tokens:_,depth:w}){const C=this.parser.parseInline(_),l=`h${w}`;return i(l,C)},paragraph({tokens:_}){const w=this.parser.parseInline(_),C=w.includes("<figure")&&w.includes("<img"),l=w.trim()==="";return C||l?w:i("p",w)},blockquote({tokens:_}){const w=this.parser.parse(_);return i("blockquote",w)},code({text:_,lang:w=""}){const C=w.split(" ")[0],l=HighlightJS.getLanguage(C),k=highlightAndFormatCode(_,l?C:"plaintext",HighlightJS,!!e.isShowLineNumber),N=`<span class="mac-sign" style="padding: 10px 14px 0;">${macCodeSvg}</span>`;let v="";if(!l&&C!=="plaintext"){const $=_.replace(/"/g,"&quot;");v=` data-language-pending="${C}" data-raw-code="${$}" data-show-line-number="${e.isShowLineNumber}"`}const V=`<code class="language-${w}"${v}>${k}</code>`;return`<pre class="hljs code__pre">${N}${V}</pre>`},codespan({text:_}){const w=escapeHtml(_);return i("codespan",w,"code")},list({ordered:_,items:w,start:C=1}){a.push(_),n.push(Number(C));const l=w.map(m=>this.listitem(m)).join("");return a.pop(),n.pop(),i(_?"ol":"ul",l)},listitem(_){const w=a[a.length-1],C=n[n.length-1];n[n.length-1]=C+1;const l=w?`${C}. `:"• ";let m;try{m=this.parser.parseInline(_.tokens)}catch{m=this.parser.parse(_.tokens).replace(/^<p(?:\s[^>]*)?>([\s\S]*?)<\/p>/,"$1")}return i("listitem",`${l}${m}`,"li")},image({href:_,title:w,text:C}){const l=e.legend?transform(e.legend,C,w):"",m=l?i("figcaption",l):"",k=w?` title="${w}"`:"";return`<figure><img src="${_}"${k} alt="${C}"/>${m}</figure>`},link({href:_,title:w,text:C,tokens:l}){const m=this.parser.parseInline(l);if(/^https?:\/\/mp\.weixin\.qq\.com/.test(_))return`<a href="${_}" title="${w||C}">${m}</a>`;if(_===C)return m;if(e.citeStatus){const k=f(w||C,_);return`<a href="${_}" title="${w||C}">${m}<sup>[${k}]</sup></a>`}return`<a href="${_}" title="${w||C}">${m}</a>`},strong({tokens:_}){return i("strong",this.parser.parseInline(_))},em({tokens:_}){return i("em",this.parser.parseInline(_))},table({header:_,rows:w}){const C=_.map(m=>{const k=this.parser.parseInline(m.tokens);return i("th",k)}).join(""),l=w.map(m=>{const k=m.map(N=>this.tablecell(N)).join("");return i("tr",k)}).join("");return`
        <section style="max-width: 100%; overflow: auto">
          <table class="preview-table">
            <thead>${C}</thead>
            <tbody>${l}</tbody>
          </table>
        </section>
      `},tablecell(_){const w=this.parser.parseInline(_.tokens);return i("td",w)},hr(_){return i("hr","")}};return d.use({renderer:x}),d.use(markedMarkup()),d.use(markedToc()),d.use(markedSlider()),d.use(markedAlert({})),d.use(MDKatex({nonStandard:!0},!0)),d.use(markedFootnotes()),d.use(markedMermaid()),d.use(markedPlantUML({inlineSvg:!0})),d.use(markedInfographic({themeMode:e.themeMode})),d.use(markedRuby()),{buildAddition,buildFootnotes:h,setOptions:g,reset:u,parseFrontMatterAndContent,buildReadingTime:p,createContainer(_){return i("container",_,"section")},getOpts:s}}async function processCSS(e){try{return(await postcss([creator({preserve:!1}),postcssCalc({preserve:!1,mediaQueries:!1,selectors:!1})]).process(e,{from:void 0})).css}catch(t){return console.warn("[processCSS] CSS 处理失败，使用原始 CSS:",t),e}}const SELECTOR_MAPPING={blockquote_note:"markdown-alert-note",blockquote_tip:"markdown-alert-tip",blockquote_info:"markdown-alert-info",blockquote_important:"markdown-alert-important",blockquote_warning:"markdown-alert-warning",blockquote_caution:"markdown-alert-caution",blockquote_abstract:"markdown-alert-abstract",blockquote_summary:"markdown-alert-summary",blockquote_tldr:"markdown-alert-tldr",blockquote_todo:"markdown-alert-todo",blockquote_success:"markdown-alert-success",blockquote_done:"markdown-alert-done",blockquote_question:"markdown-alert-question",blockquote_help:"markdown-alert-help",blockquote_faq:"markdown-alert-faq",blockquote_failure:"markdown-alert-failure",blockquote_fail:"markdown-alert-fail",blockquote_missing:"markdown-alert-missing",blockquote_danger:"markdown-alert-danger",blockquote_error:"markdown-alert-error",blockquote_bug:"markdown-alert-bug",blockquote_example:"markdown-alert-example",blockquote_quote:"markdown-alert-quote",blockquote_cite:"markdown-alert-cite",blockquote_title:"alert-title",blockquote_title_note:"alert-title-note",blockquote_title_tip:"alert-title-tip",blockquote_title_info:"alert-title-info",blockquote_title_important:"alert-title-important",blockquote_title_warning:"alert-title-warning",blockquote_title_caution:"alert-title-caution",blockquote_title_abstract:"alert-title-abstract",blockquote_title_summary:"alert-title-summary",blockquote_title_tldr:"alert-title-tldr",blockquote_title_todo:"alert-title-todo",blockquote_title_success:"alert-title-success",blockquote_title_done:"alert-title-done",blockquote_title_question:"alert-title-question",blockquote_title_help:"alert-title-help",blockquote_title_faq:"alert-title-faq",blockquote_title_failure:"alert-title-failure",blockquote_title_fail:"alert-title-fail",blockquote_title_missing:"alert-title-missing",blockquote_title_danger:"alert-title-danger",blockquote_title_error:"alert-title-error",blockquote_title_bug:"alert-title-bug",blockquote_title_example:"alert-title-example",blockquote_title_quote:"alert-title-quote",blockquote_title_cite:"alert-title-cite",blockquote_p:"alert-content",blockquote_p_note:"alert-content-note",blockquote_p_tip:"alert-content-tip",blockquote_p_info:"alert-content-info",blockquote_p_important:"alert-content-important",blockquote_p_warning:"alert-content-warning",blockquote_p_caution:"alert-content-caution",blockquote_p_abstract:"alert-content-abstract",blockquote_p_summary:"alert-content-summary",blockquote_p_tldr:"alert-content-tldr",blockquote_p_todo:"alert-content-todo",blockquote_p_success:"alert-content-success",blockquote_p_done:"alert-content-done",blockquote_p_question:"alert-content-question",blockquote_p_help:"alert-content-help",blockquote_p_faq:"alert-content-faq",blockquote_p_failure:"alert-content-failure",blockquote_p_fail:"alert-content-fail",blockquote_p_missing:"alert-content-missing",blockquote_p_danger:"alert-content-danger",blockquote_p_error:"alert-content-error",blockquote_p_bug:"alert-content-bug",blockquote_p_example:"alert-content-example",blockquote_p_quote:"alert-content-quote",blockquote_p_cite:"alert-content-cite",code_pre:"code-block",codespan:"code-inline",inline_katex:"katex-inline",block_katex:"katex-block",markup_highlight:"markup-highlight",markup_underline:"markup-underline",markup_wavyline:"markup-wavyline",listitem:"listitem"};function wrapCSSWithScope(e,t="#output"){return e.replace(/([^{}]+)\{([^}]*)\}/g,(o,a,n)=>{const s=a.trim();return s.startsWith("@")||s.startsWith(":root")?o:`${a.split(",").map(f=>{let u=f.trim();if(u.startsWith(t)||!u)return u;const g=u.split(/[\s>+~:[]/,1)[0].trim();return g&&SELECTOR_MAPPING[g]&&(u=u.replace(g,`.${SELECTOR_MAPPING[g]}`)),u.match(/^(h[1-6])(\s|$|::|[:[])/)?`${t} section ${u}`:`${t} ${u}`}).filter(Boolean).join(`,
`)} {${n}}`})}function generateCSSVariables(e){return`
:root {
  /* 动态配置变量 */
  --md-primary-color: ${e.primaryColor};
  --md-font-family: ${e.fontFamily};
  --md-font-size: ${e.fontSize};
}

/* 段落缩进和对齐 */
#output p {
  ${e.isUseIndent?"text-indent: 2em;":""}
  ${e.isUseJustify?"text-align: justify;":""}
}
  `.trim()}function generateHeadingStyles(e){return generateHeadingStylesCSS(e.headingStyles)}function generateHeadingStylesCSS(e){if(!e)return"";const t=["h1","h2","h3","h4","h5","h6"],o=[];for(const a of t){const n=e[a];n&&n!=="default"&&n!=="custom"&&o.push(generateHeadingCSS(a,n))}return o.join(`

`)}function generateHeadingCSS(e,t){const o=`
  display: block;
  text-align: left;
  background: transparent;`;switch(t){case"color-only":return`#output ${e} {
  color: var(--md-primary-color);
  background: transparent;
}`;case"border-bottom":return`#output ${e} {${o}
  padding-bottom: 0.3em;
  border-bottom: 2px solid var(--md-primary-color);
  color: var(--md-primary-color);
}`;case"border-left":return`#output ${e} {${o}
  margin-left: 0;
  padding-left: 10px;
  border-left: 4px solid var(--md-primary-color);
  color: var(--md-primary-color);
}`;default:return""}}const DEFAULT_SERVICE_ENDPOINT="https://proxy-ai.doocs.org/v1",DEFAULT_SERVICE_TEMPERATURE=1,DEFAULT_SERVICE_MAX_TOKEN=1024,DEFAULT_SERVICE_TYPE="default",DEFAULT_SERVICE_KEY="",serviceOptions=[{value:"default",label:"内置服务",endpoint:DEFAULT_SERVICE_ENDPOINT,models:["Qwen/Qwen2.5-7B-Instruct","Qwen/Qwen2.5-Coder-7B-Instruct","Qwen/Qwen2-7B-Instruct","deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","THUDM/GLM-Z1-9B-0414","THUDM/GLM-4-9B-0414","internlm/internlm2_5-7b-chat","qwen/qwen3-30b-a3b:free","qwen/qwen3-8b:free","qwen/qwen3-14b:free","qwen/qwen3-32b:free","qwen/qwen3-235b-a22b:free","tngtech/deepseek-r1t-chimera:free","thudm/glm-z1-9b:free","thudm/glm-z1-32b:free","thudm/glm-4-9b:free","thudm/glm-4-32b:free","microsoft/mai-ds-r1:free","arliai/qwq-32b-arliai-rpr-v1:free","nvidia/llama-3.3-nemotron-super-49b-v1:free","nvidia/llama-3.1-nemotron-ultra-253b-v1:free","meta-llama/llama-4-maverick:free","meta-llama/llama-4-scout:free","deepseek/deepseek-v3-base:free","qwen/qwen2.5-vl-3b-instruct:free","qwen/qwen2.5-vl-32b-instruct:free"]},{value:"deepseek",label:"DeepSeek",endpoint:"https://api.deepseek.com/v1",models:["deepseek-chat","deepseek-reasoner"]},{value:"openai",label:"OpenAI",endpoint:"https://api.openai.com/v1",models:["gpt-4.1","gpt-4.1-mini","gpt-4.1-nano","gpt-4-turbo","gpt-4o","gpt-3.5-turbo"]},{value:"qwen",label:"通义千问",endpoint:"https://dashscope.aliyuncs.com/compatible-mode/v1",models:["qwen-vl-max-2025-04-02","deepseek-v3","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-32b","deepseek-r1-distill-qwen-14b","deepseek-r1-distill-llama-8b","deepseek-r1-distill-qwen-1.5b","deepseek-r1-distill-qwen-7b","deepseek-r1","qwen1.5-7b-chat","qwen-coder-plus-1106","qwen-coder-plus","qwen-coder-plus-latest","qwen2.5-coder-3b-instruct","qwen2.5-coder-0.5b-instruct","qwen2.5-coder-14b-instruct","qwen2.5-coder-32b-instruct","qwen-coder-turbo-0919","qwen2.5-0.5b-instruct","qwen2.5-1.5b-instruct","qwen2.5-3b-instruct","qwen2.5-7b-instruct","qwen2.5-14b-instruct","qwen2.5-32b-instruct","qwen2.5-72b-instruct","qwen2.5-coder-7b-instruct","qwen2.5-math-1.5b-instruct","qwen2.5-math-7b-instruct","qwen2.5-math-72b-instruct","qwen-turbo-0919","qwen-turbo-latest","qwen-plus-0919","qwen-plus-latest","qwen-max-0919","qwen-max-latest","qwen-coder-turbo","qwen-coder-turbo-latest","qwen-math-turbo-0919","qwen-math-turbo","qwen-math-turbo-latest","qwen-math-plus-0919","qwen-math-plus","qwen-math-plus-latest","qwen2-57b-a14b-instruct","qwen2-72b-instruct","qwen2-7b-instruct","qwen2-0.5b-instruct","qwen2-1.5b-instruct","qwen-long","qwen-vl-max","qwen-vl-plus","qwen-max-0428","qwen1.5-110b-chat","qwen-72b-chat","codeqwen1.5-7b-chat","qwen1.5-0.5b-chat","qwen-1.8b-chat","qwen-1.8b-longcontext-chat","qwen-7b-chat","qwen-14b-chat","qwen1.5-14b-chat","qwen1.5-1.8b-chat","qwen1.5-32b-chat","qwen1.5-72b-chat","qwen-max-1201","qwen-max-longcontext","qwen-max-0403","qwen-max-0107","qwen-turbo","qwen-max","qwen-plus"]},{value:"hunyuan",label:"腾讯混元",endpoint:"https://api.hunyuan.cloud.tencent.com/v1",models:["hunyuan-pro","hunyuan-vision","hunyuan-lite","hunyuan-standard","hunyuan-standard-32K","hunyuan-standard-256k","hunyuan-code","hunyuan-role","hunyuan-functioncall","hunyuan-turbo-vision","hunyuan-turbo"]},{value:"doubao",label:"火山方舟",endpoint:"https://ark.cn-beijing.volces.com/api/v3",models:["doubao-1-5-thinking-pro-250415","doubao-1-5-thinking-pro-m-250415","deepseek-r1-250120","deepseek-r1-distill-qwen-32b-250120","deepseek-r1-distill-qwen-7b-250120","deepseek-v3-250324","deepseek-v3-241226","doubao-1-5-vision-pro-250328","doubao-1-5-vision-lite-250315","doubao-1-5-vision-pro-32k-250115","doubao-1-5-ui-tars-250328","doubao-vision-pro-32k-241028","doubao-vision-lite-32k-241015","doubao-1-5-pro-32k-250115","doubao-1-5-pro-256k-250115","doubao-1-5-lite-32k-250115","doubao-pro-4k-240515","doubao-pro-32k-241215","doubao-pro-32k-240828","doubao-pro-32k-240615","doubao-pro-256k-241115","doubao-lite-4k-character-240828","doubao-lite-32k-240828","doubao-lite-32k-character-241015","doubao-lite-128k-240828","moonshot-v1-8k","moonshot-v1-32k","moonshot-v1-128k"]},{value:"siliconflow",label:"硅基流动",endpoint:"https://api.siliconflow.cn/v1",models:["Qwen/Qwen3-235B-A22B","Qwen/Qwen3-30B-A3B","Qwen/Qwen3-32B","Qwen/Qwen3-14B","Qwen/Qwen3-8B","THUDM/GLM-Z1-32B-0414","THUDM/GLM-4-32B-0414","THUDM/GLM-Z1-Rumination-32B-0414","THUDM/GLM-4-9B-0414","Qwen/QwQ-32B","Pro/deepseek-ai/DeepSeek-R1","Pro/deepseek-ai/DeepSeek-V3","deepseek-ai/DeepSeek-R1","deepseek-ai/DeepSeek-V3","deepseek-ai/DeepSeek-R1-Distill-Qwen-32B","deepseek-ai/DeepSeek-R1-Distill-Qwen-14B","deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","Pro/deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","Pro/deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B","deepseek-ai/DeepSeek-V2.5","Qwen/Qwen2.5-72B-Instruct-128K","Qwen/Qwen2.5-72B-Instruct","Qwen/Qwen2.5-32B-Instruct","Qwen/Qwen2.5-14B-Instruct","Qwen/Qwen2.5-7B-Instruct","Qwen/Qwen2.5-Coder-32B-Instruct","Qwen/Qwen2.5-Coder-7B-Instruct","Qwen/Qwen2-7B-Instruct","Qwen/QwQ-32B-Preview","TeleAI/TeleChat2","THUDM/glm-4-9b-chat","Vendor-A/Qwen/Qwen2.5-72B-Instruct","internlm/internlm2_5-7b-chat","internlm/internlm2_5-20b-chat","Pro/Qwen/Qwen2.5-7B-Instruct","Pro/Qwen/Qwen2-7B-Instruct","Pro/Qwen/Qwen2-1.5B-Instruct","Pro/THUDM/chatglm3-6b","Pro/THUDM/glm-4-9b-chat"]},{value:"302ai",label:"302.AI",endpoint:" https://api.302.ai/v1",models:["chatgpt-4o-latest","gpt-4o","gpt-4o-mini","gpt-4-turbo","o1-preview","o1-mini","claude-3-5-sonnet-latest","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","grok-beta"]},{value:"bigmodel",label:"智谱 AI",endpoint:"https://open.bigmodel.cn/api/paas/v4/",models:["glm-4.7","glm-4.7-flashx","glm-4.6","glm-4.5-air","glm-4.5-airx","glm-4-long","glm-4.7-flash","glm-4-flash-250414","glm-4-flashx-250414"]},{value:"baichuan",label:"百川智能",endpoint:"https://api.baichuan-ai.com/v1",models:["Baichuan4","Baichuan3-Turbo","Baichuan3-Turbo-128k","Baichuan2-Turbo"]},{value:"lingyiwanwu",label:"零一万物",endpoint:"https://api.lingyiwanwu.com/v1",models:["yi-lightning"]},{value:"moonshot",label:"月之暗面",endpoint:"https://api.moonshot.cn/v1",models:["moonshot-v1-8k","moonshot-v1-32k","moonshot-v1-128k"]},{value:"ernie",label:"百度千帆",endpoint:"https://qianfan.baidubce.com/v2",models:["ernie-4.5-turbo-128k","ernie-4.5-turbo-32k","ernie-4.5-8k-preview","ernie-4.0-8k","ernie-4.0-8k-latest","ernie-4.0-8k-preview","ernie-4.0-turbo-128k","ernie-4.0-turbo-8k","ernie-4.0-turbo-8k-latest","ernie-4.0-turbo-8k-preview","ernie-3.5-128k","ernie-3.5-8k","ernie-3.5-8k-preview","ernie-speed-128k","ernie-speed-8k","ernie-speed-pro-128k","ernie-lite-8k","ernie-lite-pro-128k","ernie-tiny-8k","ernie-novel-8k"]},{value:"custom",label:"自定义兼容 OpenAI API 的服务",endpoint:"",models:[]}];serviceOptions[0].models[0];const imageServiceOptions=[{value:"default",label:"内置服务",endpoint:DEFAULT_SERVICE_ENDPOINT,models:["Kwai-Kolors/Kolors"]},{value:"openai",label:"OpenAI",endpoint:"https://api.openai.com/v1",models:["gpt-image-1","dall-e-3"]},{value:"siliconflow",label:"硅基流动",endpoint:"https://api.siliconflow.cn/v1",models:["Kwai-Kolors/Kolors","Qwen/Qwen-Image"]},{value:"302ai",label:"302.AI",endpoint:"https://api.302.ai/302",models:["302ai-flux-1-srpo","bagel-image","baidu-irag-01","dall-e-3","dall-e-2","doubao-seedream-3-0-t2i-250415","doubao-v2","doubao-v2-l","doubao-v2.1","doubao-v3","doubao-seedream-4-0-250828","flux-kontext-max","flux-kontext-pro","google-v3","google-v3-fast","google-v4-preview","gemini-2.5-flash-image","302-gemini-2.5-flash-image","gpt-image-1","hidream-i1-full","hidream-i1-dev","hidream-i1-fast","higgsfield","ideogram-v1","ideogram-v1-turbo","ideogram-v2","ideogram-v2-turbo","ideogram-v2a","ideogram-v2a-turbo","ideogram-v3-turbo","ideogram-v3-quality","ideogram-v3","kling-v1","kling-v1-5","kling-v2","luma","luma-flash","midjourney-v6","midjourney-v6-1","midjourney-v7","nijijourney-v6","minimaxi-image-01","qwen","qwen-lora","official-qwen-image","official-qwen-image-plus","wan2.2-t2i-flash","wan2.2-t2i-plus","wanx2.1-t2i-turbo","wanx2.1-t2i-plus","wanx2.0-t2i-turbo","wan2.5-t2i-preview","recraft-v3","recraft-20b","stable-v1","stable-sd2","stable-sd3-ultra","stable-sd3","stable-sd3-medium","stable-sd3-large","stable-sd3-turbo","cogview-4-250304","cogview-4"]},{value:"custom",label:"自定义兼容 OpenAI API 的服务",endpoint:"",models:[]}];imageServiceOptions[0].models[0];const githubConfig={username:"bucketio",repoList:Array.from({length:20},(e,t)=>`img${t}`),branch:"main",accessTokenList:["ghp_sqQg5y7XC7Fy8XdoocsmdVEYRiRiTZPvbwzTL4MRjQc","ghp_jB5JXzBjpGbgzdoocsmdogWfSHhfCKGVstozw1cAsPv","ghp_zvy8wkHo259g7doocsmdJnUKOQd1WO1SPzZ9G0O9cJD","ghp_DnCJc2Ms0RVZ1doocsmdiWOAN78FurfSeD1Pv2Y28pO","ghp_EsMYDv9WVjXWP5doocsmd1nnDml2DEP95rOiz44bSo0","ghp_L4isHf01nllOOdoocsmdHBGoDG6jscCA09WV44QDvlg","ghp_qWciwYXHPakAUGdoocsmdBOBZdRcV08JThKey3mBZNJ","ghp_rxkvIO08wVL2DMdoocsmd2jDEhcatp2rfVyhd3A7RiS","ghp_1RvkWKboSxr0yVdoocsmd7OtBCpecYwoV6deh3utifJ","ghp_cduanDnAug60ngdoocsmdF1uDstXUi6S9RMhY1qdada","ghp_q6mxuJIkqAcsCXdoocsmdkkjWvzGlMVRuy5zI0IWNDx","ghp_Pv4npPeJpChKFMTdoocsmdCQneopUcqJrqrjl3vrt9A","ghp_gKMCFqMaQiLTqhjdoocsmd7BJE8RyK6AdRw4b42CutS","ghp_2oShgb33qFlqBmadoocsmdludmuLYxBFY5bao1XrsVo","ghp_eYyd3kxWTZmsV8doocsmdDFbAa7AEGQTJgmOd0GUmtY"]},giteeConfig={username:"filesss",repoList:Array.from({length:20},(e,t)=>`img${t}`),branch:"main",accessTokenList:["ed5fc9866bd6c2fdoocsmddd433f806fd2f399c","5448ffebbbf1151doocsmdc4e337cf814fc8a62","25b05efd2557ca2doocsmd75b5c0835e3395911","11628c7a5aef015doocsmd2eeff9fb9566f0458","cb2f5145ed938dedoocsmdbd063b4ed244eecf8","d8c0b57500672c1doocsmd55f48b866b5ebcd98","78c56eadb88e453doocsmd43ddd95753351771a","03e1a688003948fdoocsmda16fcf41e6f03f1f0","c49121cf4d191fbdoocsmdd6a7877ed537e474a","adfeb2fadcdc4aadoocsmdfe1ee869ac9c968ff","116c94549ca4a0ddoocsmd192653af5c0694616","ecf30ed7f2eb184doocsmd51ea4ec8300371d9e","5837cf2bd5afd93doocsmd73904bed31934949e","b5b7e1c7d57e01fdoocsmd5266f552574297d78","684d55564ffbd0bdoocsmd7d747e5cc23aed6d6","3fc04a9d272ab71doocsmd010c56cb57d88d2ba"]},prefix="MD",isMac=/Mac/i.test(navigator.userAgent),ctrlKey="Mod",ctrlSign=isMac?"⌘":"Ctrl",altSign=isMac?"⌥":"Alt",shiftSign=isMac?"⇧":"Shift",storeLabels={isDark:"深色模式",isEditOnLeft:"左侧编辑",isMacCodeBlock:"Mac 代码块",isShowLineNumber:"代码块行号",isCiteStatus:"微信外链接底部引用状态",isCountStatus:"字数统计状态",isUseIndent:"使用缩进",isUseJustify:"使用两端对齐",isOpenRightSlider:"开启右侧滑块",isOpenPostSlider:"开启右侧发布滑块",showAIToolbox:"AI 工具箱状态",theme:"主题",fontFamily:"字体",fontSize:"字体大小",primaryColor:"自定义主题色",codeBlockTheme:"代码块主题",legend:"图注格式",fontSizeNumber:"字体大小",currentPostId:"当前文章 ID",currentPostIndex:"当前文章索引",posts:"内容列表",cssContentConfig:"自定义 CSS",titleList:"文章标题列表",readingTime:"阅读时间",isShowCssEditor:"显示 CSS 编辑器",isShowInsertFormDialog:"显示插入表单对话框",isShowInsertMpCardDialog:"显示插入公众号名片对话框",isShowUploadImgDialog:"显示上传图片对话框",aiDialogVisible:"AI 对话框可见",aiImageDialogVisible:"AI 图片生成对话框可见"},baseCSS=`/**\r
 * MD 基础主题样式\r
 * 包含所有元素的基础样式和 CSS 变量定义\r
 */\r
\r
/* ==================== 容器样式 ==================== */\r
section,\r
container {\r
  font-family: var(--md-font-family);\r
  font-size: var(--md-font-size);\r
  line-height: 1.75;\r
  text-align: left;\r
}\r
\r
/* 确保 #output 容器应用基础样式 */\r
#output {\r
  font-family: var(--md-font-family);\r
  font-size: var(--md-font-size);\r
  line-height: 1.75;\r
  text-align: left;\r
}\r
\r
/* 去除第一个元素的 margin-top */\r
#output section > :first-child {\r
  margin-top: 0 !important;\r
}\r
`,defaultCSS=`/**\r
 * MD 默认主题（经典主题）\r
 * 按 Alt/Option + Shift + F 可格式化\r
 * 如需使用主题色，请使用 var(--md-primary-color) 代替颜色值\r
 */\r
\r
/* ==================== 一级标题 ==================== */\r
h1 {\r
  display: table;\r
  padding: 0 1em;\r
  border-bottom: 2px solid var(--md-primary-color);\r
  margin: 2em auto 1em;\r
  color: hsl(var(--foreground));\r
  font-size: calc(var(--md-font-size) * 1.2);\r
  font-weight: bold;\r
  text-align: center;\r
}\r
\r
/* ==================== 二级标题 ==================== */\r
h2 {\r
  display: table;\r
  padding: 0 0.2em;\r
  margin: 4em auto 2em;\r
  color: #fff;\r
  background: var(--md-primary-color);\r
  font-size: calc(var(--md-font-size) * 1.2);\r
  font-weight: bold;\r
  text-align: center;\r
}\r
\r
/* ==================== 三级标题 ==================== */\r
h3 {\r
  padding-left: 8px;\r
  border-left: 3px solid var(--md-primary-color);\r
  margin: 2em 8px 0.75em 0;\r
  color: hsl(var(--foreground));\r
  font-size: calc(var(--md-font-size) * 1.1);\r
  font-weight: bold;\r
  line-height: 1.2;\r
}\r
\r
/* ==================== 四级标题 ==================== */\r
h4 {\r
  margin: 2em 8px 0.5em;\r
  color: var(--md-primary-color);\r
  font-size: calc(var(--md-font-size) * 1);\r
  font-weight: bold;\r
}\r
\r
/* ==================== 五级标题 ==================== */\r
h5 {\r
  margin: 1.5em 8px 0.5em;\r
  color: var(--md-primary-color);\r
  font-size: calc(var(--md-font-size) * 1);\r
  font-weight: bold;\r
}\r
\r
/* ==================== 六级标题 ==================== */\r
h6 {\r
  margin: 1.5em 8px 0.5em;\r
  font-size: calc(var(--md-font-size) * 1);\r
  color: var(--md-primary-color);\r
}\r
\r
/* ==================== 段落 ==================== */\r
p {\r
  margin: 1.5em 8px;\r
  letter-spacing: 0.1em;\r
  color: hsl(var(--foreground));\r
}\r
\r
/* ==================== 引用块 ==================== */\r
blockquote {\r
  font-style: normal;\r
  padding: 1em;\r
  border-left: 4px solid var(--md-primary-color);\r
  border-radius: 6px;\r
  color: hsl(var(--foreground));\r
  background: var(--blockquote-background);\r
  margin-bottom: 1em;\r
}\r
\r
blockquote > p {\r
  display: block;\r
  font-size: 1em;\r
  letter-spacing: 0.1em;\r
  color: hsl(var(--foreground));\r
  margin: 0;\r
}\r
\r
/* ==================== GFM 警告块 ==================== */\r
.alert-title-note,\r
.alert-title-tip,\r
.alert-title-info,\r
.alert-title-important,\r
.alert-title-warning,\r
.alert-title-caution,\r
.alert-title-abstract,\r
.alert-title-summary,\r
.alert-title-tldr,\r
.alert-title-todo,\r
.alert-title-success,\r
.alert-title-done,\r
.alert-title-question,\r
.alert-title-help,\r
.alert-title-faq,\r
.alert-title-failure,\r
.alert-title-fail,\r
.alert-title-missing,\r
.alert-title-danger,\r
.alert-title-error,\r
.alert-title-bug,\r
.alert-title-example,\r
.alert-title-quote,\r
.alert-title-cite {\r
  display: flex;\r
  align-items: center;\r
  gap: 0.5em;\r
  margin-bottom: 0.5em;\r
}\r
\r
.alert-title-note {\r
  color: #478be6;\r
}\r
\r
.alert-title-tip {\r
  color: #57ab5a;\r
}\r
\r
.alert-title-info {\r
  color: #93c5fd;\r
}\r
\r
.alert-title-important {\r
  color: #986ee2;\r
}\r
\r
.alert-title-warning {\r
  color: #c69026;\r
}\r
\r
.alert-title-caution {\r
  color: #e5534b;\r
}\r
\r
/* Obsidian-style callout colors */\r
.alert-title-abstract,\r
.alert-title-summary,\r
.alert-title-tldr {\r
  color: #00bfff;\r
}\r
\r
.alert-title-todo {\r
  color: #478be6;\r
}\r
\r
.alert-title-success,\r
.alert-title-done {\r
  color: #57ab5a;\r
}\r
\r
.alert-title-question,\r
.alert-title-help,\r
.alert-title-faq {\r
  color: #c69026;\r
}\r
\r
.alert-title-failure,\r
.alert-title-fail,\r
.alert-title-missing {\r
  color: #e5534b;\r
}\r
\r
.alert-title-danger,\r
.alert-title-error {\r
  color: #e5534b;\r
}\r
\r
.alert-title-bug {\r
  color: #e5534b;\r
}\r
\r
.alert-title-example {\r
  color: #986ee2;\r
}\r
\r
.alert-title-quote,\r
.alert-title-cite {\r
  color: #9ca3af;\r
}\r
\r
/* GFM Alert SVG 图标颜色 */\r
.alert-icon-note {\r
  fill: #478be6;\r
}\r
\r
.alert-icon-tip {\r
  fill: #57ab5a;\r
}\r
\r
.alert-icon-info {\r
  fill: #93c5fd;\r
}\r
\r
.alert-icon-important {\r
  fill: #986ee2;\r
}\r
\r
.alert-icon-warning {\r
  fill: #c69026;\r
}\r
\r
.alert-icon-caution {\r
  fill: #e5534b;\r
}\r
\r
/* Obsidian-style callout icon colors */\r
.alert-icon-abstract,\r
.alert-icon-summary,\r
.alert-icon-tldr {\r
  fill: #00bfff;\r
}\r
\r
.alert-icon-todo {\r
  fill: #478be6;\r
}\r
\r
.alert-icon-success,\r
.alert-icon-done {\r
  fill: #57ab5a;\r
}\r
\r
.alert-icon-question,\r
.alert-icon-help,\r
.alert-icon-faq {\r
  fill: #c69026;\r
}\r
\r
.alert-icon-failure,\r
.alert-icon-fail,\r
.alert-icon-missing {\r
  fill: #e5534b;\r
}\r
\r
.alert-icon-danger,\r
.alert-icon-error {\r
  fill: #e5534b;\r
}\r
\r
.alert-icon-bug {\r
  fill: #e5534b;\r
}\r
\r
.alert-icon-example {\r
  fill: #986ee2;\r
}\r
\r
.alert-icon-quote,\r
.alert-icon-cite {\r
  fill: #9ca3af;\r
}\r
\r
/* ==================== 代码块 ==================== */\r
pre.code__pre,\r
.hljs.code__pre {\r
  font-size: 90%;\r
  overflow-x: auto;\r
  border-radius: 8px;\r
  padding: 0 !important;\r
  line-height: 1.5;\r
  margin: 10px 8px;\r
}\r
\r
/* ==================== 图片 ==================== */\r
img {\r
  display: block;\r
  max-width: 100%;\r
  margin: 0.1em auto 0.5em;\r
  border-radius: 4px;\r
}\r
\r
/* ==================== 列表 ==================== */\r
ol {\r
  padding-left: 1em;\r
  margin-left: 0;\r
  color: hsl(var(--foreground));\r
}\r
\r
ul {\r
  list-style: circle;\r
  padding-left: 1em;\r
  margin-left: 0;\r
  color: hsl(var(--foreground));\r
}\r
\r
li {\r
  display: block;\r
  margin: 0.2em 8px;\r
  color: hsl(var(--foreground));\r
}\r
\r
/* ==================== 脚注 ==================== */\r
/* footnotes 在 buildFootnotes() 中渲染为 <p> 标签 */\r
p.footnotes {\r
  margin: 0.5em 8px;\r
  font-size: 80%;\r
  color: hsl(var(--foreground));\r
}\r
\r
/* ==================== 图表 ==================== */\r
figure {\r
  margin: 1.5em 8px;\r
  color: hsl(var(--foreground));\r
}\r
\r
figcaption,\r
.md-figcaption {\r
  text-align: center;\r
  color: #888;\r
  font-size: 0.8em;\r
}\r
\r
/* ==================== 分隔线 ==================== */\r
hr {\r
  border-style: solid;\r
  border-width: 2px 0 0;\r
  border-color: rgba(0, 0, 0, 0.1);\r
  -webkit-transform-origin: 0 0;\r
  -webkit-transform: scale(1, 0.5);\r
  transform-origin: 0 0;\r
  transform: scale(1, 0.5);\r
  height: 0.4em;\r
  margin: 1.5em 0;\r
}\r
\r
/* ==================== 行内代码 ==================== */\r
code {\r
  font-size: 90%;\r
  color: #d14;\r
  background: rgba(27, 31, 35, 0.05);\r
  padding: 3px 5px;\r
  border-radius: 4px;\r
}\r
\r
/* 代码块内的 code 标签需要特殊处理（覆盖行内 code 样式） */\r
pre.code__pre > code,\r
.hljs.code__pre > code {\r
  display: -webkit-box;\r
  padding: 0.5em 1em 1em;\r
  overflow-x: auto;\r
  text-indent: 0;\r
  color: inherit;\r
  background: none;\r
  white-space: nowrap;\r
  margin: 0;\r
}\r
\r
/* ==================== 强调 ==================== */\r
em {\r
  font-style: italic;\r
  font-size: inherit;\r
}\r
\r
/* ==================== 链接 ==================== */\r
a {\r
  color: #576b95;\r
  text-decoration: none;\r
}\r
\r
/* ==================== 粗体 ==================== */\r
strong {\r
  color: var(--md-primary-color);\r
  font-weight: bold;\r
  font-size: inherit;\r
}\r
\r
/* ==================== 表格 ==================== */\r
table {\r
  color: hsl(var(--foreground));\r
}\r
\r
thead {\r
  font-weight: bold;\r
  color: hsl(var(--foreground));\r
}\r
\r
th {\r
  border: 1px solid #dfdfdf;\r
  padding: 0.25em 0.5em;\r
  color: hsl(var(--foreground));\r
  word-break: keep-all;\r
  background: rgba(0, 0, 0, 0.05);\r
}\r
\r
td {\r
  border: 1px solid #dfdfdf;\r
  padding: 0.25em 0.5em;\r
  color: hsl(var(--foreground));\r
  word-break: keep-all;\r
}\r
\r
/* ==================== KaTeX 公式 ==================== */\r
.katex-inline {\r
  max-width: 100%;\r
  overflow-x: auto;\r
}\r
\r
.katex-block {\r
  max-width: 100%;\r
  overflow-x: auto;\r
  -webkit-overflow-scrolling: touch;\r
  padding: 0.5em 0;\r
  text-align: center;\r
}\r
\r
/* ==================== 标记高亮 ==================== */\r
.markup-highlight {\r
  background-color: var(--md-primary-color);\r
  padding: 2px 4px;\r
  border-radius: 2px;\r
  color: #fff;\r
}\r
\r
.markup-underline {\r
  text-decoration: underline;\r
  text-decoration-color: var(--md-primary-color);\r
}\r
\r
.markup-wavyline {\r
  text-decoration: underline wavy;\r
  text-decoration-color: var(--md-primary-color);\r
  text-decoration-thickness: 2px;\r
}\r
`,graceCSS=`/**\r
 * MD 优雅主题 (@brzhang)\r
 * 在默认主题基础上添加优雅的视觉效果\r
 */\r
\r
/* ==================== 标题样式 ==================== */\r
h1 {\r
  padding: 0.5em 1em;\r
  border-bottom: 2px solid var(--md-primary-color);\r
  font-size: calc(var(--md-font-size) * 1.4);\r
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\r
}\r
\r
h2 {\r
  padding: 0.3em 1em;\r
  border-radius: 8px;\r
  font-size: calc(var(--md-font-size) * 1.3);\r
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r
}\r
\r
h3 {\r
  padding-left: 12px;\r
  font-size: calc(var(--md-font-size) * 1.2);\r
  border-left: 4px solid var(--md-primary-color);\r
  border-bottom: 1px dashed var(--md-primary-color);\r
}\r
\r
h4 {\r
  font-size: calc(var(--md-font-size) * 1.1);\r
}\r
\r
h5 {\r
  font-size: var(--md-font-size);\r
}\r
\r
h6 {\r
  font-size: var(--md-font-size);\r
}\r
\r
/* ==================== 引用块 ==================== */\r
blockquote {\r
  font-style: italic;\r
  padding: 1em 1em 1em 2em;\r
  border-left: 4px solid var(--md-primary-color);\r
  border-radius: 6px;\r
  color: rgba(0, 0, 0, 0.6);\r
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\r
  margin-bottom: 1em;\r
}\r
\r
.markdown-alert {\r
  font-style: italic;\r
}\r
\r
/* ==================== 代码块 ==================== */\r
pre.code__pre,\r
.hljs.code__pre {\r
  box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);\r
}\r
\r
pre.code__pre > code,\r
.hljs.code__pre > code {\r
  font-family:\r
    'Fira Code',\r
    Menlo,\r
    Operator Mono,\r
    Consolas,\r
    Monaco,\r
    monospace;\r
}\r
\r
/* ==================== 图片 ==================== */\r
img {\r
  border-radius: 8px;\r
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r
}\r
\r
figcaption,\r
.md-figcaption {\r
  text-align: center;\r
  color: #888;\r
  font-size: 0.8em;\r
}\r
\r
/* ==================== 列表 ==================== */\r
ol {\r
  padding-left: 1.5em;\r
}\r
\r
ul {\r
  list-style: none;\r
  padding-left: 1.5em;\r
}\r
\r
li {\r
  margin: 0.5em 8px;\r
}\r
\r
/* ==================== 分隔线 ==================== */\r
hr {\r
  height: 1px;\r
  border: none;\r
  margin: 2em 0;\r
  background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0));\r
}\r
\r
/* ==================== 表格 ==================== */\r
table {\r
  border-collapse: separate;\r
  border-spacing: 0;\r
  border-radius: 8px;\r
  margin: 1em 8px;\r
  color: hsl(var(--foreground));\r
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r
  overflow: hidden;\r
}\r
\r
thead {\r
  color: #fff;\r
}\r
\r
td {\r
  padding: 0.5em 1em;\r
}\r
\r
/* ==================== 强调 ==================== */\r
em {\r
  font-style: italic;\r
  font-size: inherit;\r
}\r
\r
/* ==================== 链接 ==================== */\r
a {\r
  color: #576b95;\r
  text-decoration: none;\r
}\r
`,simpleCSS=`/**\r
 * MD 简洁主题 (@okooo5km)\r
 * 简洁现代的设计风格\r
 */\r
\r
/* ==================== 标题样式 ==================== */\r
h1 {\r
  padding: 0.5em 1em;\r
  font-size: calc(var(--md-font-size) * 1.4);\r
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.05);\r
}\r
\r
h2 {\r
  padding: 0.3em 1.2em;\r
  font-size: calc(var(--md-font-size) * 1.3);\r
  border-radius: 8px 24px 8px 24px;\r
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);\r
}\r
\r
h3 {\r
  padding-left: 12px;\r
  font-size: calc(var(--md-font-size) * 1.2);\r
  border-radius: 6px;\r
  line-height: 2.4em;\r
  border-left: 4px solid var(--md-primary-color);\r
  border-right: 1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent);\r
  border-bottom: 1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent);\r
  border-top: 1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent);\r
  background: color-mix(in srgb, var(--md-primary-color) 8%, transparent);\r
}\r
\r
h4 {\r
  font-size: calc(var(--md-font-size) * 1.1);\r
  border-radius: 6px;\r
}\r
\r
h5 {\r
  font-size: var(--md-font-size);\r
  border-radius: 6px;\r
}\r
\r
h6 {\r
  font-size: var(--md-font-size);\r
  border-radius: 6px;\r
}\r
\r
/* ==================== 引用块 ==================== */\r
blockquote {\r
  font-style: italic;\r
  padding: 1em 1em 1em 2em;\r
  color: rgba(0, 0, 0, 0.6);\r
  border-bottom: 0.2px solid rgba(0, 0, 0, 0.04);\r
  border-top: 0.2px solid rgba(0, 0, 0, 0.04);\r
  border-right: 0.2px solid rgba(0, 0, 0, 0.04);\r
}\r
\r
/* GFM Alert 样式覆盖 */\r
.markdown-alert-note,\r
.markdown-alert-tip,\r
.markdown-alert-info,\r
.markdown-alert-important,\r
.markdown-alert-warning,\r
.markdown-alert-caution {\r
  font-style: italic;\r
}\r
\r
/* ==================== 代码块 ==================== */\r
pre.code__pre,\r
.hljs.code__pre {\r
  border: 1px solid rgba(0, 0, 0, 0.04);\r
}\r
\r
pre.code__pre > code,\r
.hljs.code__pre > code {\r
  font-family:\r
    'Fira Code',\r
    Menlo,\r
    Operator Mono,\r
    Consolas,\r
    Monaco,\r
    monospace;\r
}\r
\r
/* ==================== 图片 ==================== */\r
img {\r
  border-radius: 8px;\r
  border: 1px solid rgba(0, 0, 0, 0.04);\r
}\r
\r
figcaption,\r
.md-figcaption {\r
  text-align: center;\r
  color: #888;\r
  font-size: 0.8em;\r
}\r
\r
/* ==================== 列表 ==================== */\r
ol {\r
  padding-left: 1.5em;\r
}\r
\r
ul {\r
  list-style: none;\r
  padding-left: 1.5em;\r
}\r
\r
li {\r
  margin: 0.5em 8px;\r
}\r
\r
/* ==================== 分隔线 ==================== */\r
hr {\r
  height: 1px;\r
  border: none;\r
  margin: 2em 0;\r
  background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0));\r
}\r
\r
/* ==================== 强调 ==================== */\r
em {\r
  font-style: italic;\r
  font-size: inherit;\r
}\r
\r
/* ==================== 链接 ==================== */\r
a {\r
  color: #576b95;\r
  text-decoration: none;\r
}\r
`,baseCSSContent=baseCSS,themeMap={default:defaultCSS,grace:graceCSS,simple:simpleCSS},themeOptionsMap={default:{label:"经典",value:"default",desc:""},grace:{label:"优雅",value:"grace",desc:"@brzhang"},simple:{label:"简洁",value:"simple",desc:"@okooo5km"}},themeOptions=[{label:"经典",value:"default",desc:""},{label:"优雅",value:"grace",desc:"@brzhang"},{label:"简洁",value:"simple",desc:"@okooo5km"}],fontFamilyOptions=[{label:"无衬线",value:"-apple-system-font,BlinkMacSystemFont, Helvetica Neue, PingFang SC, Hiragino Sans GB , Microsoft YaHei UI , Microsoft YaHei ,Arial,sans-serif",desc:"字体123Abc"},{label:"衬线",value:"Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif",desc:"字体123Abc"},{label:"等宽",value:"Menlo, Monaco, 'Courier New', monospace",desc:"字体123Abc"}],fontSizeOptions=[{label:"14px",value:"14px",desc:"更小"},{label:"15px",value:"15px",desc:"稍小"},{label:"16px",value:"16px",desc:"推荐"},{label:"17px",value:"17px",desc:"稍大"},{label:"18px",value:"18px",desc:"更大"}],colorOptions=[{label:"经典蓝",value:"#0F4C81",desc:"稳重冷静"},{label:"翡翠绿",value:"#009874",desc:"自然平衡"},{label:"活力橘",value:"#FA5151",desc:"热情活力"},{label:"柠檬黄",value:"#FECE00",desc:"明亮温暖"},{label:"薰衣紫",value:"#92617E",desc:"优雅神秘"},{label:"天空蓝",value:"#55C9EA",desc:"清爽自由"},{label:"玫瑰金",value:"#B76E79",desc:"奢华现代"},{label:"橄榄绿",value:"#556B2F",desc:"沉稳自然"},{label:"石墨黑",value:"#333333",desc:"内敛极简"},{label:"雾烟灰",value:"#A9A9A9",desc:"柔和低调"},{label:"樱花粉",value:"#FFB7C5",desc:"浪漫甜美"}],widthOptions=[{label:"移动端",value:"w-[375px]",desc:"固定"},{label:"电脑端",value:"w-full",desc:"适应"}],codeBlockUrlPrefix="https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/npm/highlightjs/11.11.1/styles/",codeBlockThemeList=["1c-light","a11y-dark","a11y-light","agate","an-old-hope","androidstudio","arduino-light","arta","ascetic","atom-one-dark-reasonable","atom-one-dark","atom-one-light","brown-paper","codepen-embed","color-brewer","dark","default","devibeans","docco","far","felipec","foundation","github-dark-dimmed","github-dark","github","gml","googlecode","gradient-dark","gradient-light","grayscale","hybrid","idea","intellij-light","ir-black","isbl-editor-dark","isbl-editor-light","kimbie-dark","kimbie-light","lightfair","lioshi","magula","mono-blue","monokai-sublime","monokai","night-owl","nnfx-dark","nnfx-light","nord","obsidian","panda-syntax-dark","panda-syntax-light","paraiso-dark","paraiso-light","pojoaque","purebasic","qtcreator-dark","qtcreator-light","rainbow","routeros","school-book","shades-of-purple","srcery","stackoverflow-dark","stackoverflow-light","sunburst","tokyo-night-dark","tokyo-night-light","tomorrow-night-blue","tomorrow-night-bright","vs","vs2015","xcode","xt256"],codeBlockThemeOptions=codeBlockThemeList.map(e=>({label:e,value:`${codeBlockUrlPrefix}${e}.min.css`,desc:""})),headingLevelOptions=[{label:"一级标题",value:"h1",desc:""},{label:"二级标题",value:"h2",desc:""},{label:"三级标题",value:"h3",desc:""},{label:"四级标题",value:"h4",desc:""},{label:"五级标题",value:"h5",desc:""},{label:"六级标题",value:"h6",desc:""}],headingStyleOptions=[{label:"默认",value:"default",desc:""},{label:"主题色文字",value:"color-only",desc:""},{label:"下边框",value:"border-bottom",desc:""},{label:"左边框",value:"border-left",desc:""},{label:"自定义",value:"custom",desc:""}],defaultHeadingStyles={},legendOptions=[{label:"title 优先",value:"title-alt",desc:""},{label:"alt 优先",value:"alt-title",desc:""},{label:"只显示 title",value:"title",desc:""},{label:"只显示 alt",value:"alt",desc:""},{label:"不显示",value:"none",desc:""}],defaultStyleConfig={isCiteStatus:!1,isMacCodeBlock:!0,isShowLineNumber:!1,isCountStatus:!1,theme:themeOptions[0].value,fontFamily:fontFamilyOptions[0].value,fontSize:fontSizeOptions[2].value,primaryColor:colorOptions[0].value,codeBlockTheme:codeBlockThemeOptions[23].value,legend:legendOptions[3].value,headingStyles:defaultHeadingStyles};class ThemeInjector{styleElement=null;styleId="md-theme";inject(t){this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.id=this.styleId,document.head.appendChild(this.styleElement)),this.styleElement.textContent=t}remove(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}isInjected(){return this.styleElement!==null}}let injectorInstance=null;function getThemeInjector(){return injectorInstance||(injectorInstance=new ThemeInjector),injectorInstance}async function applyTheme(e){const t=generateCSSVariables(e.variables);let o=themeMap.default;if(e.themeName!=="default"){const u=themeMap[e.themeName];u&&(o=`${o}

${u}`)}const a=wrapCSSWithScope(o,"#output"),n=generateHeadingStyles(e.variables),s=e.customCSS?wrapCSSWithScope(e.customCSS,"#output"):"";let i=[t,baseCSSContent,a,n,s].filter(Boolean).join(`

`);i=await processCSS(i),getThemeInjector().inject(i)}function sanitizeTitle(e){const o=/[\\/:*?"<>|]/g;if(!o.test(e)&&e.length<=100)return e.trim()||"untitled";const a=e.replace(o,"_").trim();return(a.length>100?a.slice(0,100):a)||"untitled"}function removeLeft(e){const t=e.split(`
`),o=t.filter(a=>a.trim()).map(a=>a.match(/(^\s+)?/)[0].length).sort((a,n)=>a-n)[0];return t.map(a=>a.slice(o)).join(`
`)}function checkImage(e){if(!/\.(?:gif|pjp|jfif|jpe|pjpeg|jpe?g|png|webp)$/i.test(e.name))return{ok:!1,msg:"请上传 GIF/JPG/JPEG/PNG/WEBP 格式的图片"};const o=10;return e.size>o*1024*1024?{ok:!1,msg:`由于公众号限制，图片大小不能超过 ${o}M`}:{ok:!0,msg:""}}const service=axios.create({baseURL:"",timeout:30*1e3});service.interceptors.request.use(e=>(/^(?:post|put|delete)$/i.test(`${e.method}`)&&e.data&&e.data.upload&&(e.headers["Content-Type"]="multipart/form-data"),e),e=>{Promise.reject(e)});service.interceptors.response.use(e=>e.data?e.data:Promise.reject(e),e=>Promise.reject(e));function downloadFile(e,t,o="text/plain"){if(typeof document>"u")throw new TypeError("downloadFile can only be used in browser environment");const a=document.createElement("a");if(a.download=t,a.style.display="none",e.startsWith("data:"))a.href=e;else if(o==="text/html")a.href=`data:text/html;charset=utf-8,${encodeURIComponent(e)}`;else{const n=new Blob([e],{type:o});a.href=URL.createObjectURL(n)}document.body.appendChild(a),a.click(),document.body.removeChild(a),!e.startsWith("data:")&&o!=="text/html"&&URL.revokeObjectURL(a.href)}function toBase64(e){return new Promise((t,o)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(a.result.split(",").pop()),a.onerror=n=>o(n)})}function createTable({data:e,rows:t,cols:o}){let a="";for(let n=0;n<t+2;++n){a+="| ";const s=[];for(let i=0;i<o;++i){const f=n>1?n-1:n;s.push(n===1?"---":e[`k_${f}_${i}`]||"     ")}a+=s.join(" | "),a+=` |
`}return a}async function formatDoc(e,t="markdown"){const o=t==="css"?"css":t==="javascript"?"babel":"markdown",a=t==="css"?[parserPostcss]:t==="javascript"?[parserBabel]:[parserMarkdown,parserBabel];return await standaloneExports.format(e,{parser:o,plugins:a,printWidth:80,tabWidth:2,useTabs:!1,semi:!1,singleQuote:!0,quoteProps:"as-needed",trailingComma:"es5",bracketSpacing:!0,bracketSameLine:!1,arrowParens:"avoid",proseWrap:"preserve",htmlWhitespaceSensitivity:"css",endOfLine:"lf"})}function utf16to8(e){let t="";const o=e.length;for(let a=0;a<o;a++){const n=e.charCodeAt(a);n>=1&&n<=127?t+=e.charAt(a):n>2047?(t+=String.fromCharCode(224|n>>12&15),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|n&63)):(t+=String.fromCharCode(192|n>>6&31),t+=String.fromCharCode(128|n&63))}return t}function utf8to16(e){let t="",o=0;const a=e.length;for(;o<a;){const n=e.charCodeAt(o++);let s,i;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(o-1);break;case 12:case 13:s=e.charCodeAt(o++),t+=String.fromCharCode((n&31)<<6|s&63);break;case 14:s=e.charCodeAt(o++),i=e.charCodeAt(o++),t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);break}}return t}const base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function base64encode(e){let t="",o=0;const a=e.length;for(;o<a;){const n=e.charCodeAt(o++)&255;if(o===a){t+=base64EncodeChars.charAt(n>>2),t+=base64EncodeChars.charAt((n&3)<<4),t+="==";break}const s=e.charCodeAt(o++);if(o===a){t+=base64EncodeChars.charAt(n>>2),t+=base64EncodeChars.charAt((n&3)<<4|(s&240)>>4),t+=base64EncodeChars.charAt((s&15)<<2),t+="=";break}const i=e.charCodeAt(o++);t+=base64EncodeChars.charAt(n>>2),t+=base64EncodeChars.charAt((n&3)<<4|(s&240)>>4),t+=base64EncodeChars.charAt((s&15)<<2|(i&192)>>6),t+=base64EncodeChars.charAt(i&63)}return t}function base64decode(e){let t,o,a,n,s=0;const i=e.length;let f="";for(;s<i;){do t=base64DecodeChars[e.charCodeAt(s++)&255];while(s<i&&t===-1);if(t===-1)break;do o=base64DecodeChars[e.charCodeAt(s++)&255];while(s<i&&o===-1);if(o===-1)break;f+=String.fromCharCode(t<<2|(o&48)>>4);do{if(a=e.charCodeAt(s++)&255,a===61)return f;a=base64DecodeChars[a]}while(s<i&&a===-1);if(a===-1)break;f+=String.fromCharCode((o&15)<<4|(a&60)>>2);do{if(n=e.charCodeAt(s++)&255,n===61)return f;n=base64DecodeChars[n]}while(s<i&&n===-1);if(n===-1)break;f+=String.fromCharCode((a&3)<<6|n)}return f}function safe64(e){return e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e}const tokenTools=Object.freeze(Object.defineProperty({__proto__:null,base64decode,base64encode,safe64,utf16to8,utf8to16},Symbol.toStringTag,{value:"Module"}));function exportMergedTheme(e,t,o,a){const n=generateCSSVariables(o),s=["/**"," * MD 主题导出",` * 导出时间: ${new Date().toLocaleString()}`," * 说明: 该文件包含完整的主题样式，可直接使用"," */","",n,"",t,"",e].filter(Boolean).join(`
`);return downloadFile(s,`${a}.css`,"text/css"),s}class LocalStorageEngine{async get(t){try{return localStorage.getItem(t)}catch(o){return console.error("[Storage] Failed to get item:",t,o),null}}async set(t,o){try{localStorage.setItem(t,o)}catch(a){throw console.error("[Storage] Failed to set item:",t,a),a}}async remove(t){try{localStorage.removeItem(t)}catch(o){console.error("[Storage] Failed to remove item:",t,o)}}async has(t){try{return localStorage.getItem(t)!==null}catch{return!1}}async clear(){try{localStorage.clear()}catch(t){console.error("[Storage] Failed to clear storage:",t)}}async keys(){try{return Object.keys(localStorage)}catch{return[]}}}class StorageManager{engine=new LocalStorageEngine;setEngine(t){this.engine=t}getEngine(){return this.engine}async get(t){return this.engine.get(t)}async set(t,o){return this.engine.set(t,o)}async getJSON(t,o){const a=await this.engine.get(t);if(!a)return o??null;try{return JSON.parse(a)}catch(n){return console.error("[Storage] Failed to parse JSON for key:",t,n),o??null}}async setJSON(t,o){try{const a=JSON.stringify(o);return this.engine.set(t,a)}catch(a){throw console.error("[Storage] Failed to stringify JSON for key:",t,a),a}}async remove(t){return this.engine.remove(t)}async has(t){return this.engine.has(t)}async clear(){return this.engine.clear()}async keys(){return this.engine.keys()}reactive(t,o){const a=typeof o=="string";let n=o;if(this.engine instanceof LocalStorageEngine)try{const i=localStorage.getItem(t);i!==null&&(n=a?i:this.parseJSON(i,o))}catch(i){console.error("[Storage] Failed to read initial value:",t,i)}const s=ref(n);return this.engine instanceof LocalStorageEngine||(a?this.get(t).then(f=>f!==null?f:null):this.getJSON(t,o)).then(f=>{f!==null&&(s.value=f)}),Promise.resolve().then(()=>{watch(s,i=>{(a?this.set(t,i):this.setJSON(t,i)).catch(u=>{console.error("[Storage] Failed to save reactive data:",t,u)})},{deep:!0})}),s}customReactive(t,o,a){let n=o;return this.getJSON(t,o).then(s=>{const i=s??o;n=a?.get?a.get(i):i}),customRef((s,i)=>({get(){return s(),n},set:f=>{const u=a?.set?a.set(f):f;n=u,i(),this.setJSON(t,u).catch(g=>{console.error("[Storage] Failed to save custom reactive data:",t,g)})}}))}parseJSON(t,o){try{return JSON.parse(t)}catch{return console.warn("[Storage] Failed to parse JSON, using fallback"),o}}}const store=new StorageManager;function addPrefix(e){return`${prefix}__${e}`}function downloadMD(e,t="untitled"){const o=sanitizeTitle(t);downloadFile(e,`${o}.md`,"text/markdown;charset=utf-8")}function getHtmlContent(){return document.querySelector("#output").innerHTML}async function exportHTML(e="untitled"){const t=getHtmlContent(),o=await getStylesToAdd(),a=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>${sanitizeTitle(e)}</title>
  ${o}
</head>
<body>
  <div style="width: 750px; margin: auto; padding: 20px;">
    ${t}
  </div>
</body>
</html>`;downloadFile(a,`${sanitizeTitle(e)}.html`,"text/html")}async function generatePureHTML(e){const t=new B;return t.use(markedAlert({withoutStyle:!0})),t.use(MDKatex({nonStandard:!0},!1)),await t.parse(e)}async function exportPureHTML(e,t="untitled"){const o=sanitizeTitle(t),a=await generatePureHTML(e);downloadFile(a,`${o}.html`,"text/html")}async function exportPDF(e="untitled"){const t=getHtmlContent(),o=await getStylesToAdd(),a=sanitizeTitle(e),n=window.open("","_blank");if(!n){console.error("无法打开打印窗口");return}n.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <title>${a}</title>
      ${o}
      <style>
        /* 强制打印背景颜色和图片 */
        * {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
          color-adjust: exact !important;
        }

        /* 打印页面设置 */
        @page {
          @top-center {
            content: "${a}";
            font-size: 12px;
            color: #666;
          }
          @bottom-left {
            content: "微信 Markdown 编辑器";
            font-size: 10px;
            color: #999;
          }
          @bottom-right {
            content: "第 " counter(page) " 页，共 " counter(pages) " 页";
            font-size: 10px;
            color: #999;
          }
        }

        @media print {
          body { margin: 0; }
        }
      </style>
    </head>
    <body>
      <div style="width: 100%; max-width: 750px; margin: auto;">
        ${t}
      </div>
    </body>
    </html>
  `),n.document.close(),n.onload=()=>{n.print(),n.onafterprint=()=>{n.close()}}}function solveWeChatImage(){const t=document.getElementById("output").getElementsByTagName("img");Array.from(t).forEach(o=>{const a=o.getAttribute("width"),n=o.getAttribute("height");a&&(o.removeAttribute("width"),o.style.width=/^\d+$/.test(a)?`${a}px`:a),n&&(o.removeAttribute("height"),o.style.height=/^\d+$/.test(n)?`${n}px`:n)})}async function getHljsStyles(){const e=document.querySelector("#hljs");if(!e)return"";try{return`<style>${await(await fetch(e.href)).text()}</style>`}catch(t){return console.warn("Failed to fetch highlight.js styles:",t),""}}function getThemeStyles(){const e=document.querySelector("#md-theme");if(!e||!e.textContent)return console.warn("[getThemeStyles] 未找到主题样式"),"";let t=e.textContent;return t=t.replace(/#output\s*\{/g,"body {"),t=t.replace(/#output\s+/g,""),t=t.replace(/^#output\s*/gm,""),`<style>${t}</style>`}function mergeCss(e){return juice(e,{inlinePseudoElements:!0,preserveImportant:!0,resolveCSSVariables:!1})}function modifyHtmlStructure(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll("li > ul, li > ol").forEach(o=>{o.parentElement.insertAdjacentElement("afterend",o)}),t.innerHTML}function createEmptyNode(){const e=document.createElement("p");return e.style.fontSize="0",e.style.lineHeight="0",e.style.margin="0",e.innerHTML="&nbsp;",e}async function getStylesToAdd(){const e=getThemeStyles(),t=await getHljsStyles();return[e,t].filter(Boolean).join("")}async function processClipboardContent(e){const t=document.getElementById("output"),o=await getStylesToAdd();o&&(t.innerHTML=o+t.innerHTML),t.innerHTML=modifyHtmlStructure(mergeCss(t.innerHTML)),t.innerHTML=t.innerHTML.replace(/([^-])top:(.*?)em/g,"$1transform: translateY($2em)").replace(/hsl\(var\(--foreground\)\)/g,"#3f3f3f").replace(/var\(--blockquote-background\)/g,"#f7f7f7").replace(/var\(--md-primary-color\)/g,e).replace(/--md-primary-color:.+?;/g,"").replace(/--md-font-family:.+?;/g,"").replace(/--md-font-size:.+?;/g,"").replace(/<span class="nodeLabel"([^>]*)><p[^>]*>(.*?)<\/p><\/span>/g,'<span class="nodeLabel"$1>$2</span>').replace(/<span class="edgeLabel"([^>]*)><p[^>]*>(.*?)<\/p><\/span>/g,'<span class="edgeLabel"$1>$2</span>'),solveWeChatImage();const a=createEmptyNode(),n=createEmptyNode();t.insertBefore(a,t.firstChild),t.appendChild(n),t.querySelectorAll(".nodeLabel").forEach(i=>{const f=i.parentElement,u=f.getAttribute("xmlns"),g=f.getAttribute("style"),p=document.createElement("section");p.setAttribute("xmlns",u),p.setAttribute("style",g),p.innerHTML=f.innerHTML;const h=f.parentElement;h.innerHTML="",h.appendChild(p)}),t.innerHTML=t.innerHTML.replace(/<tspan([^>]*)>/g,'<tspan$1 style="fill: #333333 !important; color: #333333 !important; stroke: none !important;">'),t.querySelectorAll(".infographic-diagram").forEach(i=>{i.querySelectorAll("text").forEach(f=>{const u=f.getAttribute("dominant-baseline"),g={alphabetic:"",central:"0.35em",middle:"0.35em",hanging:"-0.55em",ideographic:"0.18em","text-before-edge":"-0.85em","text-after-edge":"0.15em"};if(u){f.removeAttribute("dominant-baseline");const p=g[u];p&&f.setAttribute("dy",p)}})})}const useUIStore=defineStore("ui",()=>{const e=useDark(),t=useToggle(e),o=store.reactive("isEditOnLeft",!0),a=useToggle(o),n=store.reactive("showAIToolbox",!0),s=useToggle(n),i=store.reactive("hasShownAIToolboxHint",!1),f=store.reactive(addPrefix("is_open_right_slider"),!1),u=store.reactive(addPrefix("is_open_post_slider"),!1),g=store.reactive(addPrefix("is_open_folder_panel"),!1),p=store.reactive("isMobile",!1),h=store.reactive(addPrefix("isPinFloatingToc"),!1),x=useToggle(h),_=store.reactive(addPrefix("isShowFloatingToc"),!0),w=useToggle(_),C=store.reactive("isShowCssEditor",!1),l=useToggle(C),m=ref(!1),k=useToggle(m),N=ref(!1),v=useToggle(N),V=ref(!1),$=useToggle(V),A=ref(!1),S=useToggle(A),H=ref(!1),G=ref(!1),y=ref(!1);function E(K){G.value=K??!G.value}function R(K){y.value=K??!y.value}const F=ref(null);function T(K="",Z=!1){F.value={word:K,showReplace:Z}}function ae(){F.value=null}function se(){p.value=window.innerWidth<=768}return onMounted(()=>{se(),window.addEventListener("resize",se)}),onBeforeUnmount(()=>{window.removeEventListener("resize",se)}),{isDark:e,isEditOnLeft:o,showAIToolbox:n,hasShownAIToolboxHint:i,isOpenRightSlider:f,isOpenPostSlider:u,isMobile:p,isPinFloatingToc:h,isShowFloatingToc:_,isOpenFolderPanel:g,isShowCssEditor:C,toggleShowCssEditor:l,isShowInsertFormDialog:m,toggleShowInsertFormDialog:k,isShowInsertMpCardDialog:N,toggleShowInsertMpCardDialog:v,isShowUploadImgDialog:V,toggleShowUploadImgDialog:$,isShowTemplateDialog:A,toggleShowTemplateDialog:S,isOpenConfirmDialog:H,aiDialogVisible:G,toggleAIDialog:E,aiImageDialogVisible:y,toggleAIImageDialog:R,searchTabRequest:F,openSearchTab:T,clearSearchTabRequest:ae,toggleDark:t,toggleEditOnLeft:a,toggleAIToolbox:s,togglePinFloatingToc:x,toggleShowFloatingToc:w}}),useThemeStore=defineStore("theme",()=>{const e=store.reactive(addPrefix("theme"),defaultStyleConfig.theme),t=store.reactive("fonts",defaultStyleConfig.fontFamily),o=store.reactive("size",defaultStyleConfig.fontSize),a=store.reactive("color",defaultStyleConfig.primaryColor),n=store.reactive("codeBlockTheme",defaultStyleConfig.codeBlockTheme),s=store.reactive("legend",defaultStyleConfig.legend),i=store.reactive("isMacCodeBlock",defaultStyleConfig.isMacCodeBlock),f=store.reactive("isShowLineNumber",defaultStyleConfig.isShowLineNumber),u=store.reactive("isCiteStatus",defaultStyleConfig.isCiteStatus),g=store.reactive("isCountStatus",defaultStyleConfig.isCountStatus),p=store.reactive(addPrefix("use_indent"),!1),h=store.reactive(addPrefix("use_justify"),!1),x=store.reactive("previewWidth",widthOptions[0].value),_=store.reactive("headingStyles",defaultStyleConfig.headingStyles),w=computed(()=>Number(o.value.replace("px",""))),C=useToggle(i),l=useToggle(f),m=useToggle(u),k=useToggle(g),N=useToggle(p),v=useToggle(h);return{theme:e,fontFamily:t,fontSize:o,fontSizeNumber:w,primaryColor:a,codeBlockTheme:n,legend:s,isMacCodeBlock:i,isShowLineNumber:f,isCiteStatus:u,isCountStatus:g,isUseIndent:p,isUseJustify:h,previewWidth:x,headingStyles:_,toggleMacCodeBlock:C,toggleShowLineNumber:l,toggleCiteStatus:m,toggleCountStatus:k,toggleUseIndent:N,toggleUseJustify:v,resetStyle:()=>{u.value=defaultStyleConfig.isCiteStatus,i.value=defaultStyleConfig.isMacCodeBlock,f.value=defaultStyleConfig.isShowLineNumber,g.value=defaultStyleConfig.isCountStatus,e.value=defaultStyleConfig.theme,t.value=defaultStyleConfig.fontFamily,o.value=defaultStyleConfig.fontSize,a.value=defaultStyleConfig.primaryColor,n.value=defaultStyleConfig.codeBlockTheme,s.value=defaultStyleConfig.legend,_.value={...defaultStyleConfig.headingStyles},p.value=!1,h.value=!1},updateCodeTheme:()=>{const G=n.value,y=document.querySelector("#hljs");if(y)y.setAttribute("href",G);else{const E=document.createElement("link");E.setAttribute("type","text/css"),E.setAttribute("rel","stylesheet"),E.setAttribute("href",G),E.setAttribute("id","hljs"),document.head.appendChild(E)}},applyCurrentTheme:async()=>{try{const{useCssEditorStore:G}=await __vitePreload(async()=>{const{useCssEditorStore:R}=await Promise.resolve().then(()=>cssEditor);return{useCssEditorStore:R}},void 0),E=G().getCurrentTabContent();await applyTheme({themeName:e.value,customCSS:E,variables:{primaryColor:a.value,fontFamily:t.value,fontSize:o.value,isUseIndent:p.value,isUseJustify:h.value,headingStyles:_.value}})}catch(G){console.error("[applyCurrentTheme] 主题应用失败:",G)}},setHeadingStyle:(G,y)=>{_.value={..._.value,[G]:y==="default"?void 0:y}},getHeadingStyle:G=>_.value[G]||"default"}}),useRenderStore=defineStore("render",()=>{const e=ref(""),t=reactive({chars:0,words:0,minutes:0}),o=ref([]);let a=null;const n=u=>(a=initRenderer(u||{}),a),s=()=>a,i=()=>{const u=document.createElement("div");u.innerHTML=e.value;const g=u.querySelectorAll("[data-heading]");o.value=[];let p=0;for(const h of g)h.setAttribute("id",`${p}`),o.value.push({url:`#${p}`,title:`${h.textContent}`,level:Number(h.tagName.slice(1))}),p++;e.value=u.innerHTML};return{output:e,readingTime:t,titleList:o,initRendererInstance:n,getRenderer:s,render:u=>{if(!a)throw new Error("Renderer not initialized. Call initRendererInstance first.");const g=useThemeStore(),p=useUIStore();a.reset({citeStatus:g.isCiteStatus,legend:g.legend,countStatus:g.isCountStatus,isMacCodeBlock:g.isMacCodeBlock,isShowLineNumber:g.isShowLineNumber,themeMode:p.isDark?"dark":"light"});const{html:h,readingTime:x}=renderMarkdown(u,a);return t.chars=u.length,t.words=x.words,t.minutes=Math.ceil(x.minutes),e.value=postProcessHtml(h,x,a),i(),e.value},extractTitles:i}}),_hoisted_1$B={class:"flex select-none items-center justify-end px-5 py-2 text-xs"},_hoisted_2$u={class:"space-x-2"},_sfc_main$1U=defineComponent({__name:"Footer",setup(e){const t=useRenderStore(),{readingTime:o}=storeToRefs(t);return(a,n)=>(openBlock(),createElementBlock("footer",_hoisted_1$B,[createBaseVNode("div",_hoisted_2$u,[createBaseVNode("span",null,toDisplayString(unref(o).words)+" 个词 ",1),createBaseVNode("span",null,toDisplayString(unref(o).chars)+" 个字符 ",1),createBaseVNode("span",null," 阅读大约需 "+toDisplayString(unref(o).minutes)+" 分钟 ",1)])]))}}),_sfc_main$1T=defineComponent({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(Tv),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}});function cn(...e){return twMerge(clsx(e))}const _sfc_main$1S=defineComponent({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(Av),null,{default:withCtx(()=>[createVNode(unref(kv),{class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80"}),createVNode(unref(Ov),mergeProps(unref(s),{class:unref(cn)("fixed left-1/2 top-1/2 z-200 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$1R=defineComponent({__name:"AlertDialogFooter",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1Q=defineComponent({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(O),{as:e.as,"as-child":e.asChild,class:normalizeClass(unref(cn)(unref(buttonVariants)({variant:e.variant,size:e.size}),t.class,"cursor-pointer"))},{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_sfc_main$1P=defineComponent({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(Nv),mergeProps(unref(o),{class:unref(cn)(unref(buttonVariants)(),t.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1O=defineComponent({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(Mv),mergeProps(unref(o),{class:unref(cn)(unref(buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",t.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1N=defineComponent({__name:"AlertDialogHeader",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex flex-col gap-y-2 text-center sm:text-left",t.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1M=defineComponent({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(Fv),mergeProps(unref(o),{class:unref(cn)("text-sm text-muted-foreground",t.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1L=defineComponent({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(Vv),mergeProps(unref(o),{class:unref(cn)("text-lg font-semibold",t.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1K=defineComponent({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(nu),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$1J=defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(Iv),null,{default:withCtx(()=>[createVNode(unref($u),{class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-200 bg-black/80"}),createVNode(unref(Pu),mergeProps(unref(s),{class:unref(cn)("fixed left-1/2 top-1/2 z-200 grid w-[90vw] max-w-md sm:max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default"),createVNode(unref(Xl),{class:"data-[state=open]:bg-accent ring-offset-background data-[state=open]:text-muted-foreground focus:ring-ring absolute right-4 top-4 rounded-sm opacity-70 transition-opacity disabled:pointer-events-none hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-offset-2"},{default:withCtx(()=>[createVNode(unref(X),{class:"h-4 w-4"}),f[0]||(f[0]=createBaseVNode("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),_sfc_main$1I=defineComponent({__name:"DialogFooter",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1H=defineComponent({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},setup(e,{emit:t}){const o=e,n=useVModel(o,"modelValue",t,{passive:!0,defaultValue:o.defaultValue});return(s,i)=>withDirectives((openBlock(),createElementBlock("textarea",{"onUpdate:modelValue":i[0]||(i[0]=f=>isRef(n)?n.value=f:null),class:normalizeClass(unref(cn)("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o.class))},null,2)),[[vModelText,unref(n)]])}}),_sfc_main$1G=defineComponent({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},setup(e,{expose:t,emit:o}){const a=e,s=useVModel(a,"modelValue",o,{passive:!0,defaultValue:a.defaultValue}),i=useAttrs(),f=ref();return t({focus:()=>f.value?.focus(),blur:()=>f.value?.blur(),select:()=>f.value?.select(),setSelectionRange:(u,g)=>f.value?.setSelectionRange(u,g),inputElement:f}),(u,g)=>withDirectives((openBlock(),createElementBlock("input",mergeProps({ref_key:"inputRef",ref:f,"onUpdate:modelValue":g[0]||(g[0]=p=>isRef(s)?s.value=p:null)},unref(i),{class:unref(cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a.class)}),null,16)),[[vModelDynamic,unref(s)]])}}),_sfc_main$1F=defineComponent({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(Vh),mergeProps(unref(o),{class:unref(cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1E=defineComponent({__name:"DialogHeader",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1D=defineComponent({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Iu),mergeProps(unref(a),{class:unref(cn)("text-sm text-muted-foreground",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1C=defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Bu),mergeProps(unref(a),{class:unref(cn)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"]))}}),useEditorStore=defineStore("editor",()=>{const e=ref(null);return{editor:e,formatContent:async()=>{if(!e.value)return;const u=await formatDoc(e.value.state.doc.toString());return e.value.dispatch({changes:{from:0,to:e.value.state.doc.length,insert:u}}),u},importContent:u=>{e.value&&e.value.dispatch({changes:{from:0,to:e.value.state.doc.length,insert:u}})},clearContent:()=>{e.value&&(e.value.dispatch({changes:{from:0,to:e.value.state.doc.length,insert:""}}),toast.success("内容已清空"))},getContent:()=>e.value?.state.doc.toString()??"",getSelection:()=>{if(!e.value)return"";const u=e.value.state.selection.main;return e.value.state.doc.sliceString(u.from,u.to)},replaceSelection:u=>{e.value&&e.value.dispatch(e.value.state.replaceSelection(u))},insertAtCursor:u=>{if(!e.value)return;const g=e.value.state.selection.main;e.value.dispatch({changes:{from:g.from,to:g.to,insert:u},selection:{anchor:g.from+u.length}}),e.value.focus()}}}),DEFAULT_CONTENT=`# 探索 Markdown 的奇妙世界\r
\r
欢迎来到 Markdown 的奇妙世界！无论你是写作爱好者、开发者、博主，还是想要简单记录点什么的人，Markdown 都能成为你新的好伙伴。它不仅让写作变得简单明了，还能轻松地将内容转化为漂亮的网页格式。今天，我们将全面探讨 Markdown 的基础和进阶语法，让你在这个过程中充分享受写作的乐趣！\r
\r
Markdown 是一种轻量级标记语言，用于格式化纯文本。它以简单、直观的语法而著称，可以快速地生成 HTML。Markdown 是写作与代码的完美结合，既简单又强大。\r
\r
## Markdown 基础语法\r
\r
### 1. 标题：让你的内容层次分明\r
\r
用 \`#\` 号来创建标题。标题从 \`#\` 开始，\`#\` 的数量表示标题的级别。\r
\r
\`\`\`markdown\r
# 一级标题\r
\r
## 二级标题\r
\r
### 三级标题\r
\r
#### 四级标题\r
\`\`\`\r
\r
以上代码将渲染出一组层次分明的标题，使你的内容井井有条。\r
\r
### 2. 段落与换行：自然流畅\r
\r
Markdown 中的段落就是一行接一行的文本。要创建新段落，只需在两行文本之间空一行。\r
\r
### 3. 字体样式：强调你的文字\r
\r
- **粗体**：用两个星号或下划线包裹文字，如 \`**粗体**\` 或 \`__粗体__\`。\r
- _斜体_：用一个星号或下划线包裹文字，如 \`*斜体*\` 或 \`_斜体_\`。\r
- ~~删除线~~：用两个波浪线包裹文字，如 \`~~删除线~~\`。\r
- ==高亮==：用两个等号包裹文字，如 \`==高亮==\`。\r
- ++下划线++：用两个加号包裹文字，如 \`++下划线++\`。\r
- ~波浪线~：用一个波浪线包裹文字，如 \`~波浪线~\`。\r
\r
这些简单的标记可以让你的内容更有层次感和重点突出。\r
\r
### 4. 列表：整洁有序\r
\r
- **无序列表**：用 \`-\`、\`*\` 或 \`+\` 加空格开始一行。\r
- **有序列表**：使用数字加点号（\`1.\`、\`2.\`）开始一行。\r
\r
在列表中嵌套其他内容？只需缩进即可实现嵌套效果。\r
\r
- 无序列表项 1\r
  1. 嵌套有序列表项 1\r
  2. 嵌套有序列表项 2\r
- 无序列表项 2\r
\r
1. 有序列表项 1\r
2. 有序列表项 2\r
\r
### 5. 链接与图片：丰富内容\r
\r
- **链接**：用方括号和圆括号创建链接 \`[显示文本](链接地址)\`。\r
- **图片**：和链接类似，只需在前面加上 \`!\`，如 \`![描述文本](图片链接)\`。\r
\r
[访问 Doocs](https://github.com/doocs)\r
\r
![doocs](https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/logo-2.png)\r
\r
轻松实现富媒体内容展示！\r
\r
> 因微信公众号平台不支持除公众号内容以外的链接，故其他平台的链接，会呈现链接样式但无法点击跳转。\r
\r
> 对于这些链接请注意明文书写，或点击左上角「格式->微信外链接转底部引用」开启引用，这样就可以在底部观察到链接指向。\r
\r
另外，使用 \`<![alt](url),![alt](url)>\` 语法可以创建横屏滑动幻灯片，支持微信公众号平台。建议使用相似尺寸的图片以获得最佳显示效果。\r
\r
### 6. 引用：引用名言或引人深思的句子\r
\r
使用 \`>\` 来创建引用，只需在文本前面加上它。多层引用？在前一层 \`>\` 后再加一个就行。\r
\r
> 这是一个引用\r
>\r
> > 这是一个嵌套引用\r
\r
这让你的引用更加富有层次感。\r
\r
### 7. 代码块：展示你的代码\r
\r
- **行内代码**：用反引号包裹，如 \`code\`。\r
- **代码块**：用三个反引号包裹，并指定语言，如：\r
\r
\`\`\`js\r
console.log(\`Hello, Doocs!\`)\r
\`\`\`\r
\r
语法高亮让你的代码更易读。\r
\r
### 8. 分割线：分割内容\r
\r
用三个或更多的 \`-\`、\`*\` 或 \`_\` 来创建分割线。\r
\r
---\r
\r
为你的内容添加视觉分隔。\r
\r
### 9. 表格：清晰展示数据\r
\r
Markdown 支持简单的表格，用 \`|\` 和 \`-\` 分隔单元格和表头。\r
\r
| 项目人员                                    | 邮箱                   | 微信号       |\r
| ------------------------------------------- | ---------------------- | ------------ |\r
| [yanglbme](https://github.com/yanglbme)     | contact@yanglibin.info | YLB0109      |\r
| [YangFong](https://github.com/YangFong)     | yangfong2022@gmail.com | yq2419731931 |\r
| [thinkasany](https://github.com/thinkasany) | thinkasany@gmail.com   | thinkasany   |\r
\r
这样的表格让数据展示更为清爽！\r
\r
> 手动编写标记太麻烦？我们提供了便捷方式。左上方点击「编辑->插入表格」，即可快速实现表格渲染。\r
\r
## Markdown 进阶技巧\r
\r
### 1. LaTeX 公式：完美展示数学表达式\r
\r
Markdown 允许嵌入 LaTeX 语法展示数学公式：\r
\r
- **行内公式**：用 \`$\` 包裹公式，如 $E = mc^2$。\r
- **块级公式**：用 \`$$\` 包裹公式，如：\r
\r
$$\r
\\begin{aligned}\r
d_{i, j} &\\leftarrow d_{i, j} + 1 \\\\\r
d_{i, y + 1} &\\leftarrow d_{i, y + 1} - 1 \\\\\r
d_{x + 1, j} &\\leftarrow d_{x + 1, j} - 1 \\\\\r
d_{x + 1, y + 1} &\\leftarrow d_{x + 1, y + 1} + 1\r
\\end{aligned}\r
$$\r
\r
现在还支持 **LaTeX 标准格式**：\r
\r
- **行内公式**：用 \`\\(...\\)\` 包裹公式，如 \\(x^2 + y^2 = z^2\\)。\r
- **块级公式**：用 \`\\[...\\]\` 包裹公式，如：\r
\r
\\[\r
\\int\\_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi}\r
\\]\r
\r
混合使用示例：传统格式 $a + b = c$ 和 LaTeX 格式 \\(d + e = f\\) 可以在同一段落中共存。\r
\r
1. 列表内块公式 1\r
\r
$$\r
\\chi^2 = \\sum \\frac{(O - E)^2}{E}\r
$$\r
\r
2. 列表内块公式 2\r
\r
$$\r
\\chi^2 = \\sum \\frac{(|O - E| - 0.5)^2}{E}\r
$$\r
\r
这是展示复杂数学表达的利器！\r
\r
### 2. Mermaid 流程图：可视化流程\r
\r
Mermaid 是强大的可视化工具，可以在 Markdown 中创建流程图、时序图等。\r
\r
\`\`\`mermaid\r
graph LR\r
  A[GraphCommand] --> B[update]\r
  A --> C[goto]\r
  A --> D[send]\r
\r
  B --> B1[更新状态]\r
  C --> C1[流程控制]\r
  D --> D1[消息传递]\r
\`\`\`\r
\r
\`\`\`mermaid\r
graph TD;\r
  A-->B;\r
  A-->C;\r
  B-->D;\r
  C-->D;\r
\`\`\`\r
\r
\`\`\`mermaid\r
pie\r
  title Key elements in Product X\r
  "Calcium" : 42.96\r
  "Potassium" : 50.05\r
  "Magnesium" : 10.01\r
  "Iron" : 5\r
\`\`\`\r
\r
\`\`\`mermaid\r
pie\r
  title 为什么总是宅在家里？\r
  "喜欢宅" : 45\r
  "天气太热" : 70\r
  "穷" : 500\r
  "没人约" : 95\r
\`\`\`\r
\r
这种方式不仅能直观展示流程，还能提升文档的专业性。\r
\r
> 更多用法，参见：[Mermaid User Guide](https://mermaid.js.org/intro/getting-started.html)。\r
\r
### 3. PlantUML 流程图：可视化流程\r
\r
PlantUML 是强大的可视化工具，可以在 Markdown 中创建流程图、时序图等。\r
\r
\`\`\`plantuml\r
@startuml\r
participant Participant as Foo\r
actor       Actor       as Foo1\r
boundary    Boundary    as Foo2\r
control     Control     as Foo3\r
entity      Entity      as Foo4\r
database    Database    as Foo5\r
collections Collections as Foo6\r
queue       Queue       as Foo7\r
Foo -> Foo1 : To actor\r
Foo -> Foo2 : To boundary\r
Foo -> Foo3 : To control\r
Foo -> Foo4 : To entity\r
Foo -> Foo5 : To database\r
Foo -> Foo6 : To collections\r
Foo -> Foo7: To queue\r
@enduml\r
\`\`\`\r
\r
> 更多用法，参见：[PlantUML 主页](https://plantuml.com/zh/)。\r
\r
### 4. Infographic 信息图：可视化数据\r
\r
新一代信息图可视化引擎，让文字信息栩栩如生！\r
\r
\`\`\`infographic\r
infographic list-row-horizontal-icon-arrow\r
data\r
  title 客户增长引擎\r
  desc 多渠道触达与复购提升\r
  items\r
    - label 线索获取\r
      value 18.6\r
      desc 渠道投放与内容获客\r
      icon rocket-launch\r
    - label 转化提效\r
      value 12.4\r
      desc 线索评分与自动跟进\r
      icon progress-check\r
    - label 复购提升\r
      value 9.8\r
      desc 会员体系与权益运营\r
      icon account-sync\r
    - label 口碑传播\r
      value 6.2\r
      desc 社群激励与推荐裂变\r
      icon account-group\r
\`\`\`\r
\r
> 更多用法，参见：[AntV Infographic Gallery](https://infographic.antv.vision/gallery)。\r
\r
### 5. Ruby 注音：注音标注\r
\r
支持两种格式：\r
\r
\`\`\`md\r
1. [文字]{注音}\r
2. [文字]^(注音)\r
\`\`\`\r
\r
渲染效果如下：\r
\r
[你好]{nǐ hǎo} [世界]{shì jiè}\r
\r
支持四种分隔符： \`・\`（中点）、\`．\` (全角句点)、\`。\` (中文句号)、\`-\` (英文减号)\r
\r
示例：\r
\r
\`\`\`md\r
[你好世界]{nǐ・hǎo・shì・jiè}\r
[小夜時雨]^(さ・よ・しぐれ)\r
\`\`\`\r
\r
[你好世界]{nǐ・hǎo・shì・jiè}\r
[小夜時雨]^(さ・よ・しぐれ)\r
\r
当字符串数量与分隔符数量不匹配时，会自动匹配到最合适的分隔符。\r
\r
\`\`\`md\r
[小夜時雨]{さ・よ・しぐれ}\r
[小夜時雨]{さ・よ}\r
[小夜]{さ・よ・しぐれ}\r
[小夜時雨]{さ・よ・しぐれ・extra}\r
\`\`\`\r
\r
[小夜時雨]{さ・よ・しぐれ}\r
[小夜時雨]{さ・よ}\r
[小夜]{さ・よ・しぐれ}\r
[小夜時雨]{さ・よ・しぐれ・extra}\r
\r
## 结语\r
\r
Markdown 是一种简单、强大且易于掌握的标记语言，通过学习基础和进阶语法，你可以快速创作内容并有效传达信息。无论是技术文档、个人博客还是项目说明，Markdown 都是你的得力助手。希望这篇内容能够带你全面了解 Markdown 的潜力，让你的写作更加丰富多彩！\r
\r
现在，拿起 Markdown 编辑器，开始创作吧！探索 Markdown 的世界，你会发现它远比想象中更精彩！\r
\r
#### 推荐阅读\r
\r
- [阿里又一个 20k+ stars 开源项目诞生，恭喜 fastjson！](https://mp.weixin.qq.com/s/RNKDCK2KoyeuMeEs6GUrow)\r
- [刷掉 90% 候选人的互联网大厂海量数据面试题（附题解 + 方法总结）](https://mp.weixin.qq.com/s/rjGqxUvrEqJNlo09GrT1Dw)\r
- [好用！期待已久的文本块功能究竟如何在 Java 13 中发挥作用？](https://mp.weixin.qq.com/s/kalGv5T8AZGxTnLHr2wDsA)\r
- [2019 GitHub 开源贡献排行榜新鲜出炉！微软谷歌领头，阿里跻身前 12！](https://mp.weixin.qq.com/s/_q812aGD1b9QvZ2WFI0Qgw)\r
\r
---\r
\r
<center>\r
    <img src="https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/1648303220922-7e14aefa-816e-44c1-8604-ade709ca1c69.png" style="width: 100px;">\r
</center>\r
`,usePostStore=defineStore("post",()=>{const e=store.reactive(addPrefix("posts"),[{id:v4(),title:"内容1",content:DEFAULT_CONTENT,history:[{datetime:new Date().toLocaleString("zh-cn"),content:DEFAULT_CONTENT}],createDatetime:new Date,updateDatetime:new Date}]),t=store.reactive(addPrefix("current_post_id"),"");onBeforeMount(()=>{e.value=e.value.map((_,w)=>{const C=Date.now();return{..._,id:_.id??v4(),createDatetime:_.createDatetime??new Date(C+w),updateDatetime:_.updateDatetime??new Date(C+w)}}),(!t.value||!e.value.some(_=>_.id===t.value))&&(t.value=e.value[0]?.id??"")});const o=_=>e.value.findIndex(w=>w.id===_),a=computed({get:()=>o(t.value),set:_=>{_>=0&&_<e.value.length&&(t.value=e.value[_].id)}}),n=_=>e.value.find(w=>w.id===_),s=computed(()=>n(t.value));return{posts:e,currentPostId:t,currentPostIndex:a,currentPost:s,getPostById:n,findIndexById:o,addPost:(_,w=null)=>{const C={id:v4(),title:_,content:`# ${_}`,history:[{datetime:new Date().toLocaleString("zh-cn"),content:`# ${_}`}],createDatetime:new Date,updateDatetime:new Date,parentId:w};e.value.push(C),t.value=C.id},renamePost:(_,w)=>{const C=n(_);C&&(C.title=w,C.updateDatetime=new Date)},delPost:_=>{const w=o(_);w!==-1&&(e.value.splice(w,1),t.value=e.value[Math.min(w,e.value.length-1)]?.id??"")},updatePostParentId:(_,w)=>{const C=n(_);C&&(C.parentId=w,C.updateDatetime=new Date)},updatePostContent:(_,w)=>{const C=n(_);C&&(C.content=w,C.updateDatetime=new Date)},collapseAllPosts:()=>{e.value.forEach(_=>{_.collapsed=!0})},expandAllPosts:()=>{e.value.forEach(_=>{_.collapsed=!1})}}}),useTemplateStore=defineStore("template",()=>{const e=store.reactive(addPrefix("templates"),[]),t=computed(()=>[...e.value].sort((x,_)=>_.createdAt-x.createdAt)),o=computed(()=>e.value.length);function a(x){const _=Date.now(),w={id:v4(),name:x.name,content:x.content,description:x.description,tags:x.tags,createdAt:_,updatedAt:_};return e.value.push(w),toast.success(`模板「${x.name}」创建成功`),w}function n(x){return e.value.find(_=>_.id===x)}function s(x,_){const w=e.value.findIndex(C=>C.id===x);return w===-1?(toast.error("模板不存在"),!1):(e.value[w]={...e.value[w],..._,updatedAt:Date.now()},toast.success("模板已更新"),!0)}function i(x){const _=e.value.findIndex(C=>C.id===x);if(_===-1)return toast.error("模板不存在"),!1;const w=e.value[_].name;return e.value.splice(_,1),toast.success(`模板「${w}」已删除`),!0}function f(x){if(!x.trim())return t.value;const _=x.toLowerCase();return t.value.filter(w=>w.name.toLowerCase().includes(_)||w.description?.toLowerCase().includes(_)||w.tags?.some(C=>C.toLowerCase().includes(_)))}function u(x){let _=0;return x.forEach(w=>{const C=e.value.findIndex(l=>l.id===w);C!==-1&&(e.value.splice(C,1),_++)}),_>0&&toast.success(`已删除 ${_} 个模板`),_}function g(){const x=e.value.length;e.value=[],toast.success(`已清空所有模板（共 ${x} 个）`)}function p(){return JSON.stringify(e.value,null,2)}function h(x){try{const _=JSON.parse(x);if(!Array.isArray(_))return toast.error("导入失败：数据格式不正确"),!1;const w=_.filter(C=>C.id&&C.name&&C.content&&C.createdAt&&C.updatedAt);return w.length===0?(toast.error("导入失败：没有有效的模板数据"),!1):(w.forEach(C=>{e.value.findIndex(m=>m.id===C.id)!==-1?e.value.push({...C,id:v4()}):e.value.push(C)}),toast.success(`成功导入 ${w.length} 个模板`),!0)}catch(_){return console.error("Import templates failed:",_),toast.error("导入失败：数据解析错误"),!1}}return{templates:e,sortedTemplates:t,templateCount:o,createTemplate:a,getTemplateById:n,updateTemplate:s,deleteTemplate:i,searchTemplates:f,deleteTemplates:u,clearAllTemplates:g,exportTemplates:p,importTemplates:h}}),_hoisted_1$A={class:"flex-1 overflow-auto px-6 py-4"},_hoisted_2$t={key:0,class:"space-y-4 mb-6 p-4 border rounded-lg bg-muted/30"},_hoisted_3$q={class:"flex items-center justify-between"},_hoisted_4$o={class:"text-lg font-semibold"},_hoisted_5$l={class:"space-y-4"},_hoisted_6$i={class:"space-y-2"},_hoisted_7$e={key:0,class:"text-sm text-red-500"},_hoisted_8$e={class:"space-y-2"},_hoisted_9$d={class:"space-y-2"},_hoisted_10$8={class:"flex gap-2 justify-end"},_hoisted_11$8={key:1,class:"flex gap-2 mb-4"},_hoisted_12$8={class:"relative flex-1"},_hoisted_13$8={key:2,class:"space-y-3"},_hoisted_14$6={key:0,class:"text-center py-12"},_hoisted_15$5={class:"text-muted-foreground mb-2"},_hoisted_16$5={key:0,class:"text-sm text-muted-foreground mb-4"},_hoisted_17$4={class:"flex items-start justify-between gap-4"},_hoisted_18$4={class:"flex-1 min-w-0"},_hoisted_19$3={class:"flex items-center gap-2 mb-2"},_hoisted_20$3={class:"font-medium truncate"},_hoisted_21$3={key:0,class:"text-sm text-muted-foreground mb-2 line-clamp-2"},_hoisted_22$3={class:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-muted-foreground"},_hoisted_23$3={class:"flex items-center gap-1"},_hoisted_24$3={class:"flex items-center gap-1"},_hoisted_25$3={class:"flex gap-1 flex-shrink-0"},_hoisted_26$3={class:"flex items-center justify-between w-full"},_hoisted_27$1={class:"text-sm text-muted-foreground"},_sfc_main$1B=defineComponent({__name:"TemplateDialog",setup(e){const t=useEditorStore(),o=usePostStore(),a=useTemplateStore(),n=useUIStore(),{toggleShowTemplateDialog:s}=n,i=ref(""),f=computed(()=>a.searchTemplates(i.value)),u=ref(!1),g=ref("create"),p=ref(""),h=reactive({name:"",description:"",content:""}),x=reactive({name:""});function _(){g.value="create",h.name="",h.description="",h.content=t.getContent(),x.name="",u.value=!0}function w(G){g.value="edit",p.value=G.id,h.name=G.name,h.description=G.description||"",h.content=G.content,x.name="",u.value=!0}function C(){return x.name="",h.name.trim()?h.name.trim().length>50?(x.name="模板名称不能超过 50 个字符",!1):!0:(x.name="模板名称不能为空",!1)}function l(){C()&&(g.value==="create"?a.createTemplate({name:h.name.trim(),description:h.description.trim()||void 0,content:h.content}):a.updateTemplate(p.value,{name:h.name.trim(),description:h.description.trim()||void 0,content:h.content}),u.value=!1)}function m(){u.value=!1}function k(G){const y=o.currentPost;y?(o.updatePostContent(y.id,G.content),t.importContent(G.content),toast.success(`已应用模板「${G.name}」到当前文章`)):(t.importContent(G.content),toast.success(`已应用模板「${G.name}」`)),s(!1)}function N(G){t.insertAtCursor(G.content);const y=o.currentPost;y&&o.updatePostContent(y.id,t.getContent()),toast.success(`已插入模板「${G.name}」`),s(!1)}const v=ref(!1),V=ref(null);function $(G){V.value=G,v.value=!0}function A(){V.value&&(a.deleteTemplate(V.value.id),V.value=null),v.value=!1}function S(G){return new Date(G).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function H(G){G||(s(!1),u.value=!1)}return(G,y)=>{const E=_sfc_main$1C,R=_sfc_main$1D,F=_sfc_main$1E,T=_sfc_main$1F,ae=_sfc_main$1G,se=_sfc_main$1H,K=_sfc_main$1Q,Z=_sfc_main$1I,le=_sfc_main$1J,j=_sfc_main$1K,D=_sfc_main$1L,ie=_sfc_main$1M,de=_sfc_main$1N,te=_sfc_main$1O,L=_sfc_main$1P,ee=_sfc_main$1R,fe=_sfc_main$1S,pe=_sfc_main$1T;return openBlock(),createElementBlock(Fragment,null,[createVNode(j,{open:unref(n).isShowTemplateDialog,"onUpdate:open":H},{default:withCtx(()=>[createVNode(le,{class:"max-w-4xl max-h-[85vh] flex flex-col p-0"},{default:withCtx(()=>[createVNode(F,{class:"px-6 pt-6 pb-4 border-b"},{default:withCtx(()=>[createVNode(E,{class:"flex items-center gap-2"},{default:withCtx(()=>[createVNode(unref(Package),{class:"size-5"}),y[6]||(y[6]=createTextVNode(" 模板管理 ",-1))]),_:1}),createVNode(R,null,{default:withCtx(()=>[...y[7]||(y[7]=[createTextVNode(" 保存和管理您的 Markdown 模板，快速复用常用内容 ",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$A,[unref(u)?(openBlock(),createElementBlock("div",_hoisted_2$t,[createBaseVNode("div",_hoisted_3$q,[createBaseVNode("h3",_hoisted_4$o,toDisplayString(unref(g)==="create"?"新建模板":"编辑模板"),1)]),createBaseVNode("div",_hoisted_5$l,[createBaseVNode("div",_hoisted_6$i,[createVNode(T,{for:"template-name"},{default:withCtx(()=>[...y[8]||(y[8]=[createTextVNode("模板名称 *",-1)])]),_:1}),createVNode(ae,{id:"template-name",modelValue:unref(h).name,"onUpdate:modelValue":y[0]||(y[0]=W=>unref(h).name=W),placeholder:"请输入模板名称",class:normalizeClass({"border-red-500":unref(x).name})},null,8,["modelValue","class"]),unref(x).name?(openBlock(),createElementBlock("p",_hoisted_7$e,toDisplayString(unref(x).name),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$e,[createVNode(T,{for:"template-description"},{default:withCtx(()=>[...y[9]||(y[9]=[createTextVNode("模板描述",-1)])]),_:1}),createVNode(se,{id:"template-description",modelValue:unref(h).description,"onUpdate:modelValue":y[1]||(y[1]=W=>unref(h).description=W),placeholder:"请输入模板描述（可选）",class:"resize-none h-20"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_9$d,[createVNode(T,{for:"template-content"},{default:withCtx(()=>[...y[10]||(y[10]=[createTextVNode("模板内容",-1)])]),_:1}),createVNode(se,{id:"template-content",modelValue:unref(h).content,"onUpdate:modelValue":y[2]||(y[2]=W=>unref(h).content=W),placeholder:"请输入模板内容",class:"resize-none h-40 font-mono text-sm"},null,8,["modelValue"])])]),createBaseVNode("div",_hoisted_10$8,[createVNode(K,{variant:"outline",onClick:m},{default:withCtx(()=>[...y[11]||(y[11]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode(K,{onClick:l},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(g)==="create"?"创建":"保存"),1)]),_:1})])])):createCommentVNode("",!0),unref(u)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_11$8,[createBaseVNode("div",_hoisted_12$8,[createVNode(unref(Search),{class:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),createVNode(ae,{modelValue:unref(i),"onUpdate:modelValue":y[3]||(y[3]=W=>isRef(i)?i.value=W:null),placeholder:"搜索模板名称、描述...",class:"pl-9"},null,8,["modelValue"])]),createVNode(K,{onClick:_},{default:withCtx(()=>[createVNode(unref(Plus),{class:"mr-2 size-4"}),y[12]||(y[12]=createTextVNode(" 新建模板 ",-1))]),_:1})])),unref(u)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_13$8,[unref(f).length===0?(openBlock(),createElementBlock("div",_hoisted_14$6,[createVNode(unref(Package),{class:"mx-auto size-12 text-muted-foreground mb-4"}),createBaseVNode("p",_hoisted_15$5,toDisplayString(unref(i)?"未找到匹配的模板":"暂无模板"),1),unref(i)?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_16$5," 点击「新建模板」按钮创建您的第一个模板 "))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(f),W=>(openBlock(),createElementBlock("div",{key:W.id,class:"border rounded-lg p-4 hover:bg-muted/50 transition-colors"},[createBaseVNode("div",_hoisted_17$4,[createBaseVNode("div",_hoisted_18$4,[createBaseVNode("div",_hoisted_19$3,[createVNode(unref(FileText),{class:"size-4 text-muted-foreground flex-shrink-0"}),createBaseVNode("h4",_hoisted_20$3,toDisplayString(W.name),1)]),W.description?(openBlock(),createElementBlock("p",_hoisted_21$3,toDisplayString(W.description),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_22$3,[createBaseVNode("span",_hoisted_23$3,[createVNode(unref(Calendar),{class:"size-3"}),createTextVNode(" 创建："+toDisplayString(S(W.createdAt)),1)]),createBaseVNode("span",_hoisted_24$3,[createVNode(unref(Clock),{class:"size-3"}),createTextVNode(" 更新："+toDisplayString(S(W.updatedAt)),1)])])]),createBaseVNode("div",_hoisted_25$3,[createVNode(K,{variant:"outline",size:"icon",class:"size-8",title:"应用模板（替换全部内容）",onClick:Y=>k(W)},{default:withCtx(()=>[createVNode(unref(FileInput),{class:"size-4"})]),_:1},8,["onClick"]),createVNode(K,{variant:"outline",size:"icon",class:"size-8",title:"插入模板（在光标处插入）",onClick:Y=>N(W)},{default:withCtx(()=>[createVNode(unref(FileDown),{class:"size-4"})]),_:1},8,["onClick"]),createVNode(K,{variant:"outline",size:"icon",class:"size-8",title:"编辑模板",onClick:Y=>w(W)},{default:withCtx(()=>[createVNode(unref(Pencil),{class:"size-4"})]),_:1},8,["onClick"]),createVNode(K,{variant:"outline",size:"icon",class:"size-8 text-destructive hover:text-destructive",title:"删除模板",onClick:Y=>$(W)},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"size-4"})]),_:1},8,["onClick"])])])]))),128))]))]),unref(u)?createCommentVNode("",!0):(openBlock(),createBlock(Z,{key:0,class:"px-6 pb-6 pt-4 border-t"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_26$3,[createBaseVNode("p",_hoisted_27$1," 共 "+toDisplayString(unref(a).templateCount)+" 个模板 ",1),createVNode(K,{variant:"outline",onClick:y[4]||(y[4]=W=>unref(s)(!1))},{default:withCtx(()=>[...y[13]||(y[13]=[createTextVNode(" 关闭 ",-1)])]),_:1})])]),_:1}))]),_:1})]),_:1},8,["open"]),createVNode(pe,{open:unref(v),"onUpdate:open":y[5]||(y[5]=W=>isRef(v)?v.value=W:null)},{default:withCtx(()=>[createVNode(fe,null,{default:withCtx(()=>[createVNode(de,null,{default:withCtx(()=>[createVNode(D,null,{default:withCtx(()=>[...y[14]||(y[14]=[createTextVNode("确认删除",-1)])]),_:1}),createVNode(ie,null,{default:withCtx(()=>[createTextVNode(" 确定要删除模板「"+toDisplayString(unref(V)?.name)+"」吗？此操作不可恢复。 ",1)]),_:1})]),_:1}),createVNode(ee,null,{default:withCtx(()=>[createVNode(te,null,{default:withCtx(()=>[...y[15]||(y[15]=[createTextVNode("取消",-1)])]),_:1}),createVNode(L,{onClick:A},{default:withCtx(()=>[...y[16]||(y[16]=[createTextVNode(" 删除 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),_sfc_main$1A=defineComponent({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,n=reactiveOmit(o,"class"),s=useForwardPropsEmits(n,a);return(i,f)=>(openBlock(),createBlock(unref(RadioGroupRoot_default),mergeProps({"data-slot":"radio-group",class:unref(cn)("grid gap-3",o.class)},unref(s)),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1z=defineComponent({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(e){const t=e,o=reactiveOmit(t,"class"),a=useForwardProps(o);return(n,s)=>(openBlock(),createBlock(unref(RadioGroupItem_default),mergeProps({"data-slot":"radio-group-item"},unref(a),{class:unref(cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:withCtx(()=>[createVNode(unref(RadioGroupIndicator_default),{"data-slot":"radio-group-indicator",class:"relative flex items-center justify-center"},{default:withCtx(()=>[createVNode(unref(Circle),{class:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})]),_:1})]),_:1},16,["class"]))}}),_hoisted_1$z={class:"min-h-[auto] md:min-h-[64px]"},_hoisted_2$s={class:"flex flex-1 flex-col justify-between"},_hoisted_3$p={class:"min-h-[40px] flex items-center w-full"},_hoisted_4$n={key:0,class:"mt-1 min-h-[20px] md:min-h-[24px] flex items-center text-[12px] text-red-500"},_hoisted_5$k={key:1,class:"mb-[-12px] md:mb-[-24px]"},_sfc_main$1y=defineComponent({__name:"FormItem",props:{label:{},required:{type:Boolean},error:{},width:{}},setup(e){const t=e;return(o,a)=>{const n=_sfc_main$1F;return openBlock(),createElementBlock("div",_hoisted_1$z,[createVNode(n,{class:"mb-4 md:mb-[24px] flex flex-col md:flex-row md:items-center"},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(["mb-1 md:mb-0 md:mr-4 min-h-[auto] md:min-h-[40px] w-full md:w-[150px] flex shrink-0 items-center justify-start md:justify-end font-bold text-sm md:text-base",{required:t.required}])},toDisplayString(t.label),3),createBaseVNode("div",_hoisted_2$s,[createBaseVNode("div",_hoisted_3$p,[renderSlot(o.$slots,"default",{},void 0,!0)]),e.error?(openBlock(),createElementBlock("p",_hoisted_4$n,toDisplayString(e.error),1)):createCommentVNode("",!0),e.error?(openBlock(),createElementBlock("div",_hoisted_5$k)):createCommentVNode("",!0)])]),_:3})])}}}),__unplugin_components_14$1=_export_sfc(_sfc_main$1y,[["__scopeId","data-v-3341fcba"]]),_hoisted_1$y={class:"inline-flex items-center space-x-2 w-20"},_hoisted_2$r={class:"inline-flex items-center space-x-2 w-20"},_hoisted_3$o={class:"inline-flex items-center space-x-2 w-20"},_hoisted_4$m={class:"inline-flex items-center space-x-2 w-20"},_hoisted_5$j={class:"inline-flex items-center space-x-2 w-20"},_sfc_main$1x=defineComponent({__name:"InsertMpCardDialog",setup(e){const t=useEditorStore(),o=useUIStore(),{toggleShowInsertMpCardDialog:a}=o,n=store.reactive(addPrefix("mp-profile"),{id:"",name:"",logo:"",desc:"",serviceType:"1",verify:"0"}),s=toTypedSchema(create$3({id:create$6().required("公众号 ID 不能为空"),name:create$6().required("公众号名称 不能为空"),logo:create$6().optional().url("公众号 Logo 必须是一个有效的 URL"),desc:create$6().optional(),serviceType:create$6().required(),verify:create$6().required()}));function i(u){const g=u.logo||"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/mp-logo.png";return`<section class="mp_profile_iframe_wrp custom_select_card_wrp" nodeleaf="">
  <mp-common-profile class="mpprofile js_uneditable custom_select_card mp_profile_iframe" ${['data-pluginname="mpprofile"',`data-id="${u.id}"`,`data-nickname="${u.name}"`,`data-headimg="${g}"`,u.desc&&`data-signature="${u.desc}"`,`data-service_type="${u.serviceType||"1"}"`,`data-verify_status="${u.verify||"0"}"`].filter(Boolean).join(" ")}></mp-common-profile>
  <br class="ProseMirror-trailingBreak">
</section>`}function f(u){n.value=u;const g=i(u),p=toRaw(t.editor),h=p.state.selection.main;p.dispatch({changes:{from:h.from,to:h.to,insert:`
${g}
`}}),toast.success("公众号名片插入成功"),a(!1)}return(u,g)=>{const p=_sfc_main$1C,h=_sfc_main$1E,x=_sfc_main$1G,_=__unplugin_components_14$1,w=_sfc_main$1H,C=_sfc_main$1z,l=_sfc_main$1F,m=_sfc_main$1A,k=_sfc_main$1Q,N=_sfc_main$1J,v=_sfc_main$1K;return openBlock(),createBlock(v,{open:unref(o).isShowInsertMpCardDialog,"onUpdate:open":g[0]||(g[0]=V=>unref(o).isShowInsertMpCardDialog=V)},{default:withCtx(()=>[createVNode(N,null,{default:withCtx(()=>[createVNode(h,null,{default:withCtx(()=>[createVNode(p,null,{default:withCtx(()=>[...g[1]||(g[1]=[createTextVNode("插入公众号名片",-1)])]),_:1})]),_:1}),createVNode(unref(Form),{"validation-schema":unref(s),"initial-values":unref(n),onSubmit:f},{default:withCtx(()=>[createVNode(unref(Field),{name:"id"},{default:withCtx(({field:V,errorMessage:$})=>[createVNode(_,{label:"公众号 ID",required:"",error:$,width:90},{default:withCtx(()=>[createVNode(x,mergeProps(V,{modelValue:V.value,"onUpdate:modelValue":A=>V.value=A,modelModifiers:{trim:!0},placeholder:"例：MzIxNjA5ODQ0OQ=="}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"name"},{default:withCtx(({field:V,errorMessage:$})=>[createVNode(_,{label:"公众号名称",required:"",error:$,width:90},{default:withCtx(()=>[createVNode(x,mergeProps(V,{modelValue:V.value,"onUpdate:modelValue":A=>V.value=A,modelModifiers:{trim:!0},placeholder:"例：Doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"logo"},{default:withCtx(({field:V,errorMessage:$})=>[createVNode(_,{label:"公众号 Logo",error:$,width:90},{default:withCtx(()=>[createVNode(x,mergeProps(V,{modelValue:V.value,"onUpdate:modelValue":A=>V.value=A,modelModifiers:{trim:!0},placeholder:"例：https://doocs.com/mp-logo.png"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"desc"},{default:withCtx(({field:V,errorMessage:$})=>[createVNode(_,{label:"公众号描述",error:$,width:90},{default:withCtx(()=>[createVNode(w,mergeProps(V,{modelValue:V.value,"onUpdate:modelValue":A=>V.value=A,modelModifiers:{trim:!0},rows:"3",placeholder:"例：GitHub 开源组织 @Doocs 旗下唯一公众号，专注分享技术领域相关知识及行业最新资讯。"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"serviceType"},{default:withCtx(({field:V,errorMessage:$})=>[createVNode(_,{label:"公众号类型",required:"",error:$,width:90},{default:withCtx(()=>[createVNode(m,mergeProps({class:"flex gap-5"},V,{"default-value":V.value}),{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$y,[createVNode(C,{id:"option-one",value:"1"}),createVNode(l,{for:"option-one"},{default:withCtx(()=>[...g[2]||(g[2]=[createTextVNode("公众号",-1)])]),_:1})]),createBaseVNode("div",_hoisted_2$r,[createVNode(C,{id:"option-two",value:"2"}),createVNode(l,{for:"option-two"},{default:withCtx(()=>[...g[3]||(g[3]=[createTextVNode("服务号",-1)])]),_:1})])]),_:1},16,["default-value"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"verify"},{default:withCtx(({field:V,errorMessage:$})=>[createVNode(_,{label:"认证",required:"",error:$,width:90},{default:withCtx(()=>[createVNode(m,mergeProps({class:"flex gap-5"},V,{"default-value":V.value}),{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$o,[createVNode(C,{id:"service-type-option-one",value:"0"}),createVNode(l,{for:"service-type-option-one"},{default:withCtx(()=>[...g[4]||(g[4]=[createTextVNode("无",-1)])]),_:1})]),createBaseVNode("div",_hoisted_4$m,[createVNode(C,{id:"service-type-option-two",value:"1"}),createVNode(l,{for:"service-type-option-two"},{default:withCtx(()=>[...g[5]||(g[5]=[createTextVNode("个人",-1)])]),_:1})]),createBaseVNode("div",_hoisted_5$j,[createVNode(C,{id:"service-type-option-three",value:"2"}),createVNode(l,{for:"service-type-option-three"},{default:withCtx(()=>[...g[6]||(g[6]=[createTextVNode("企业",-1)])]),_:1})])]),_:1},16,["default-value"])]),_:2},1032,["error"])]),_:1}),createVNode(_,null,{default:withCtx(()=>[createVNode(k,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://github.com/doocs/md/blob/main/docs/mp-card.md",target:"_blank"},{default:withCtx(()=>[...g[7]||(g[7]=[createTextVNode(" 如何获取公众号 ID？ ",-1)])]),_:1})]),_:1}),createVNode(_,null,{default:withCtx(()=>[createVNode(k,{type:"submit"},{default:withCtx(()=>[...g[8]||(g[8]=[createTextVNode(" 确认 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1})]),_:1},8,["open"])}}}),_sfc_main$1w=defineComponent({__name:"NumberField",props:{defaultValue:{},modelValue:{},min:{},max:{},step:{},formatOptions:{},locale:{},disabled:{type:Boolean},required:{type:Boolean},name:{},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(gy),mergeProps(unref(s),{class:unref(cn)("grid gap-1.5",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1v=defineComponent({__name:"NumberFieldContent",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("relative has-data-[slot=increment]:*:data-[slot=input]:pr-5 has-data-[slot=decrement]:*:data-[slot=input]:pl-5",t.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1u=defineComponent({__name:"NumberFieldIncrement",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Cy),mergeProps({"data-slot":"increment"},unref(a),{class:unref(cn)("absolute top-1/2 -translate-y-1/2 right-0 disabled:cursor-not-allowed disabled:opacity-20 p-3",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default",{},()=>[createVNode(unref(Plus),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_sfc_main$1t=defineComponent({__name:"NumberFieldInput",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(by),{"data-slot":"input",class:normalizeClass(unref(cn)("flex h-10 w-full rounded-md border border-input bg-background py-2 text-sm text-center ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t.class))},null,8,["class"]))}}),_sfc_main$1s=defineComponent({__name:"NumberFieldDecrement",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(wy),mergeProps({"data-slot":"decrement"},unref(a),{class:unref(cn)("absolute top-1/2 -translate-y-1/2 left-0 p-3 disabled:cursor-not-allowed disabled:opacity-20",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default",{},()=>[createVNode(unref(Minus),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_hoisted_1$x={class:"space-x-2 flex justify-between"},_hoisted_2$q={class:"space-y-2 border rounded p-2"},_sfc_main$1r=defineComponent({__name:"InsertFormDialog",setup(e){const t=useEditorStore(),o=useUIStore(),{toggleShowInsertFormDialog:a}=o,n=ref(3),s=ref(3),i=ref({});function f(){n.value=3,s.value=3,i.value={}}function u(){const p=createTable({rows:n.value,cols:s.value,data:i.value}),h=toRaw(t.editor),x=h.state.selection.main;h.dispatch({changes:{from:x.from,to:x.to,insert:`
${p}
`}}),f(),a()}function g(p){p||a(!1)}return(p,h)=>{const x=_sfc_main$1C,_=_sfc_main$1E,w=_sfc_main$1F,C=_sfc_main$1s,l=_sfc_main$1t,m=_sfc_main$1u,k=_sfc_main$1v,N=_sfc_main$1w,v=_sfc_main$1G,V=_sfc_main$1Q,$=_sfc_main$1I,A=_sfc_main$1J,S=_sfc_main$1K;return openBlock(),createBlock(S,{open:unref(o).isShowInsertFormDialog,"onUpdate:open":g},{default:withCtx(()=>[createVNode(A,null,{default:withCtx(()=>[createVNode(_,null,{default:withCtx(()=>[createVNode(x,null,{default:withCtx(()=>[...h[3]||(h[3]=[createTextVNode("插入表格",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$x,[createVNode(N,{modelValue:unref(n),"onUpdate:modelValue":h[0]||(h[0]=H=>isRef(n)?n.value=H:null),min:1,max:100},{default:withCtx(()=>[createVNode(w,null,{default:withCtx(()=>[...h[4]||(h[4]=[createTextVNode("行数",-1)])]),_:1}),createVNode(k,null,{default:withCtx(()=>[createVNode(C),createVNode(l),createVNode(m)]),_:1})]),_:1},8,["modelValue"]),createVNode(N,{modelValue:unref(s),"onUpdate:modelValue":h[1]||(h[1]=H=>isRef(s)?s.value=H:null),min:1,max:100},{default:withCtx(()=>[createVNode(w,null,{default:withCtx(()=>[...h[5]||(h[5]=[createTextVNode("列数",-1)])]),_:1}),createVNode(k,null,{default:withCtx(()=>[createVNode(C),createVNode(l),createVNode(m)]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_2$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n)+1,H=>(openBlock(),createElementBlock("div",{key:H,class:normalizeClass([{"head-style":H===1},"space-x-2 flex"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s),G=>(openBlock(),createBlock(v,{key:G,modelValue:unref(i)[`k_${H-1}_${G-1}`],"onUpdate:modelValue":y=>unref(i)[`k_${H-1}_${G-1}`]=y,class:normalizeClass({"bg-gray-100 dark:bg-gray-900":H===1}),placeholder:H===1?"表头":""},null,8,["modelValue","onUpdate:modelValue","class","placeholder"]))),128))],2))),128))]),createVNode($,null,{default:withCtx(()=>[createVNode(V,{variant:"outline",onClick:h[2]||(h[2]=H=>unref(a)(!1))},{default:withCtx(()=>[...h[6]||(h[6]=[createTextVNode(" 取 消 ",-1)])]),_:1}),createVNode(V,{onClick:u},{default:withCtx(()=>[...h[7]||(h[7]=[createTextVNode(" 确 定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),_sfc_main$1q=defineComponent({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(Cg),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),DEFAULT_CUSTOM_THEME=`/**\r
 * 按 Alt/Option + Shift + F 可格式化\r
 * 如需使用主题色，请使用 var(--md-primary-color) 代替颜色值\r
 * 如：color: var(--md-primary-color);\r
 * 新主题系统已全面支持 CSS 写法，你可以 F12 打开控制台查看具体的类名及标签\r
 *\r
 * 召集令：如果你有好看的主题样式，欢迎分享，让更多人能够使用到你的主题。\r
 * 提交区：https://github.com/doocs/md/discussions/426\r
 */\r
\r
/* 全局变量定义 */\r
:root {\r
}\r
\r
/* 根容器 */\r
.md-container {\r
}\r
\r
/* 标题样式 */\r
h1 {\r
}\r
\r
h2 {\r
}\r
\r
h3 {\r
}\r
\r
h4 {\r
}\r
\r
h5 {\r
}\r
\r
h6 {\r
}\r
\r
/* 段落和文本 */\r
p {\r
}\r
\r
strong {\r
}\r
\r
em {\r
}\r
\r
/* 引用块 */\r
blockquote {\r
}\r
\r
blockquote > p {\r
}\r
\r
/* 代码 */\r
/* 行内代码 */\r
code {\r
}\r
\r
/* 代码块容器 */\r
pre.code__pre,\r
.hljs.code__pre {\r
}\r
\r
/* 代码块内的 code */\r
pre.code__pre > code,\r
.hljs.code__pre > code {\r
}\r
\r
/* 列表 */\r
ol {\r
}\r
\r
ul {\r
}\r
\r
li {\r
}\r
\r
/* 表格 */\r
table {\r
}\r
\r
thead {\r
}\r
\r
th {\r
}\r
\r
td {\r
}\r
\r
/* 其他元素 */\r
img {\r
}\r
\r
hr {\r
}\r
\r
figure {\r
}\r
\r
figcaption {\r
}\r
\r
/* KaTeX 公式 */\r
.katex-inline {\r
}\r
\r
.katex-block {\r
}\r
\r
/* Markup 标记 */\r
/* 高亮 ==文本== */\r
.markup-highlight {\r
}\r
\r
/* 下划线 ++文本++ */\r
.markup-underline {\r
}\r
\r
/* 波浪线 ~文本~ */\r
.markup-wavyline {\r
}\r
\r
/* GFM Alert 警告块 */\r
/* Alert 标题 */\r
.alert-title-note {\r
}\r
\r
.alert-title-tip {\r
}\r
\r
.alert-title-info {\r
}\r
\r
.alert-title-important {\r
}\r
\r
.alert-title-warning {\r
}\r
\r
.alert-title-caution {\r
}\r
\r
.alert-title-abstract {\r
}\r
\r
.alert-title-summary {\r
}\r
\r
.alert-title-tldr {\r
}\r
\r
.alert-title-todo {\r
}\r
\r
.alert-title-success {\r
}\r
\r
.alert-title-done {\r
}\r
\r
.alert-title-question {\r
}\r
\r
.alert-title-help {\r
}\r
\r
.alert-title-faq {\r
}\r
\r
.alert-title-failure {\r
}\r
\r
.alert-title-fail {\r
}\r
\r
.alert-title-missing {\r
}\r
\r
.alert-title-danger {\r
}\r
\r
.alert-title-error {\r
}\r
\r
.alert-title-bug {\r
}\r
\r
.alert-title-example {\r
}\r
\r
.alert-title-quote {\r
}\r
\r
.alert-title-cite {\r
}\r
\r
/* Alert SVG 图标 */\r
.alert-icon-note {\r
}\r
\r
.alert-icon-tip {\r
}\r
\r
.alert-icon-info {\r
}\r
\r
.alert-icon-important {\r
}\r
\r
.alert-icon-warning {\r
}\r
\r
.alert-icon-caution {\r
}\r
\r
/* Obsidian-style Callout SVG 图标 */\r
.alert-icon-abstract {\r
}\r
\r
.alert-icon-summary {\r
}\r
\r
.alert-icon-tldr {\r
}\r
\r
.alert-icon-todo {\r
}\r
\r
.alert-icon-success {\r
}\r
\r
.alert-icon-done {\r
}\r
\r
.alert-icon-question {\r
}\r
\r
.alert-icon-help {\r
}\r
\r
.alert-icon-faq {\r
}\r
\r
.alert-icon-failure {\r
}\r
\r
.alert-icon-fail {\r
}\r
\r
.alert-icon-missing {\r
}\r
\r
.alert-icon-danger {\r
}\r
\r
.alert-icon-error {\r
}\r
\r
.alert-icon-bug {\r
}\r
\r
.alert-icon-example {\r
}\r
\r
.alert-icon-quote {\r
}\r
\r
.alert-icon-cite {\r
}\r
`,basicSetup=[highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),indentationMarkers(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap,{key:"Tab",run:acceptCompletion},indentWithTab])];highlightSpecialChars(),history(),drawSelection(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),keymap.of([...defaultKeymap,...historyKeymap]);async function formatCSS(e){const t=e.state.doc.toString(),o=await formatDoc(t,"css");e.dispatch({changes:{from:0,to:e.state.doc.length,insert:o}})}function cssSetup(){return[basicSetup,css$1(),EditorView.lineWrapping,keymap.of([{key:"Shift-Alt-f",run:e=>(formatCSS(e),!0)}])]}function toggleFormat(e,{prefix:t,suffix:o,check:a,afterInsertCursorOffset:n=0}){const s=e.state.selection.main,i=e.state.doc.sliceString(s.from,s.to),f=a?.(i)??!1;let u;if(f)u=i.slice(t.length,i.length-o.length),e.dispatch(e.state.replaceSelection(u));else if(u=`${t}${i}${o}`,e.dispatch(e.state.replaceSelection(u)),n!==0){const p=e.state.selection.main.head+n;e.dispatch({selection:{anchor:p}})}}function applyHeading(e,t){const o=e.state.selection.ranges,a=[],n=`${"#".repeat(t)} `;if(o.forEach(s=>{const i=e.state.doc.lineAt(s.from),f=e.state.doc.lineAt(s.to);for(let u=i.number;u<=f.number;u++){const g=e.state.doc.line(u),h=e.state.doc.sliceString(g.from,g.to).replace(/^#{1,6}\s+/,"").trimStart(),x=n+h;a.push({from:g.from,to:g.to,insert:x})}}),a.length>0){const i=e.state.doc.lineAt(o[0].from).from+n.length;e.dispatch({changes:a,selection:{anchor:i}})}}function formatBold(e){toggleFormat(e,{prefix:"**",suffix:"**",check:t=>t.startsWith("**")&&t.endsWith("**"),afterInsertCursorOffset:-2})}function formatItalic(e){toggleFormat(e,{prefix:"*",suffix:"*",check:t=>t.startsWith("*")&&t.endsWith("*"),afterInsertCursorOffset:-1})}function formatStrikethrough(e){toggleFormat(e,{prefix:"~~",suffix:"~~",check:t=>t.startsWith("~~")&&t.endsWith("~~"),afterInsertCursorOffset:-2})}function formatLink(e){toggleFormat(e,{prefix:"[",suffix:"]()",check:t=>t.startsWith("[")&&t.endsWith("]()"),afterInsertCursorOffset:-1})}function formatCode(e){toggleFormat(e,{prefix:"`",suffix:"`",check:t=>t.startsWith("`")&&t.endsWith("`"),afterInsertCursorOffset:-1})}function formatColor(e,t){const o=e.state.selection.main,a=e.state.doc.sliceString(o.from,o.to),n=/^\s*<span\s+style="color:\s*([^"\s][^"]*)"\s*>([\s\S]*)<\/span>\s*$/i,s=a.match(n);if(s){const i=s[2],f=`<span style="color: ${t}">${i}</span>`;e.dispatch({changes:{from:o.from,to:o.to,insert:f},selection:{anchor:o.from,head:o.from+f.length}})}else{const i=`<span style="color: ${t}">${a}</span>`;e.dispatch({changes:{from:o.from,to:o.to,insert:i},selection:{anchor:o.from,head:o.from+i.length}})}}function formatUnorderedList(e){const t=e.state.selection.main,a=e.state.doc.sliceString(t.from,t.to).split(`
`),s=a.every(i=>i.trim().startsWith("- "))?a.map(i=>i.replace(/^- +/,"")).join(`
`):a.map(i=>`- ${i}`).join(`
`);e.dispatch(e.state.replaceSelection(s))}function formatOrderedList(e){const t=e.state.selection.main,a=e.state.doc.sliceString(t.from,t.to).split(`
`),s=a.every(i=>/^\d+\.\s/.test(i.trim()))?a.map(i=>i.replace(/^\d+\.\s+/,"")).join(`
`):a.map((i,f)=>`${f+1}. ${i}`).join(`
`);e.dispatch(e.state.replaceSelection(s))}function undoAction(e){return undo(e)}function redoAction(e){return redo(e)}async function formatJavaScript(e){const t=e.state.doc.toString(),o=await formatDoc(t,"javascript");e.dispatch({changes:{from:0,to:e.state.doc.length,insert:o}})}function javascriptSetup(){return[basicSetup,javascript$1(),keymap.of([{key:"Shift-Alt-f",run:e=>(formatJavaScript(e),!0)}])]}async function formatMarkdown(e){const t=e.state.doc.toString(),o=await formatDoc(t,"markdown");e.dispatch({changes:{from:0,to:e.state.doc.length,insert:o}})}function insertTabAtCursor(e){const o=e.state.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:"  "},range:EditorSelection.range(a.from+2,a.from+2)}));return e.dispatch(o),!0}function markdownKeymap(e){const{onSearch:t,onReplace:o}=e||{};return keymap.of([{key:"Tab",run:insertTabAtCursor},{key:"Mod-z",run:undoAction},{key:"Mod-y",run:redoAction},{key:"Mod-b",run:a=>(formatBold(a),!0)},{key:"Mod-i",run:a=>(formatItalic(a),!0)},{key:"Mod-d",run:a=>(formatStrikethrough(a),!0)},{key:"Mod-k",run:a=>(formatLink(a),!0)},{key:"Mod-e",run:a=>(formatCode(a),!0)},{key:"Mod-1",run:a=>(applyHeading(a,1),!0)},{key:"Mod-2",run:a=>(applyHeading(a,2),!0)},{key:"Mod-3",run:a=>(applyHeading(a,3),!0)},{key:"Mod-4",run:a=>(applyHeading(a,4),!0)},{key:"Mod-5",run:a=>(applyHeading(a,5),!0)},{key:"Mod-6",run:a=>(applyHeading(a,6),!0)},{key:"Mod-u",run:a=>(formatUnorderedList(a),!0)},{key:"Mod-o",run:a=>(formatOrderedList(a),!0)},...t?[{key:"Mod-f",run:a=>(t(a),!0)}]:[],...o?[{key:"Mod-h",run:a=>(o(a),!0)}]:[],{key:"Shift-Alt-f",run:a=>(formatMarkdown(a),!0)},{key:"Mod-g",run:()=>!0}])}function markdownSetup(e){return[history(),highlightSelectionMatches(),closeBrackets(),indentationMarkers(),markdown$1({base:markdownLanguage,codeLanguages:languages,addKeymap:!0}),Prec.high(markdownKeymap(e)),keymap.of([...defaultKeymap,...historyKeymap,...closeBracketsKeymap]),EditorView.lineWrapping,EditorState.allowMultipleSelections.of(!0),placeholder("开始写作...")]}const customStyles=EditorView.theme({".cm-gutterElement":{display:"flex",justifyContent:"right",alignItems:"center"}});function lightTheme(){return[vsCodeLight,customStyles]}function darkTheme(){return[vsCodeDark,customStyles]}function theme(e){return e?darkTheme():lightTheme()}const _hoisted_1$w={class:"space-y-4 min-w-0"},_hoisted_2$p={class:"h-60 border border-gray-200 dark:border-gray-700 rounded-lg flex flex-col overflow-y-auto"},_sfc_main$1p=defineComponent({__name:"CustomUploadForm",setup(e){const t=store.reactive("formCustomConfig",removeLeft(`
  const { file, util, okCb, errCb } = CUSTOM_ARG
  param = new FormData()
  param.append('file', file)
  util.axios.post('${window.location.origin}/upload', param, {
    headers: { 'Content-Type': 'multipart/form-data' }
  }).then(res => {
    okCb(res.url)
  }).catch(err => {
    errCb(err)
  })
`).trim()),o=useTemplateRef("formCustomTextarea"),a=useUIStore(),{isDark:n}=storeToRefs(a),s=ref(null),i=new Compartment;onMounted(()=>{const u=new EditorView({parent:o.value,extensions:[javascriptSetup(),i.of(theme(n.value))],doc:t.value});s.value=u}),watch(n,u=>{s.value?.dispatch({effects:i.reconfigure(theme(u))})}),onUnmounted(()=>{s.value&&s.value.destroy()});function f(){const u=s.value.state.doc.toString();t.value=u,toast.success("保存成功")}return(u,g)=>{const p=_sfc_main$1Q;return openBlock(),createElementBlock("div",_hoisted_1$w,[createBaseVNode("div",_hoisted_2$p,[createBaseVNode("div",{ref_key:"formCustomTextarea",ref:o,class:"flex-1 custom-codemirror"},null,512)]),createVNode(p,{variant:"link",class:"p-0",as:"a",href:"https://github.com/doocs/md/blob/main/docs/custom-upload.md",target:"_blank"},{default:withCtx(()=>[...g[0]||(g[0]=[createTextVNode(" 参数详情？ ",-1)])]),_:1}),createVNode(p,{class:"block",onClick:f},{default:withCtx(()=>[...g[1]||(g[1]=[createTextVNode(" 保存配置 ",-1)])]),_:1})])}}}),__unplugin_components_16=_export_sfc(_sfc_main$1p,[["__scopeId","data-v-6546388a"]]),_sfc_main$1o=defineComponent({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(_g),mergeProps({class:unref(cn)("mt-2 ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t.class)},unref(o)),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1n=defineComponent({__name:"Progress",props:{modelValue:{},max:{},getValueLabel:{type:Function},asChild:{type:Boolean},as:{}},setup(e){const t=e,o=computed(()=>t.modelValue??0);return(a,n)=>(openBlock(),createBlock(unref(Ry),mergeProps(t,{"model-value":unref(o),class:"relative overflow-hidden bg-blackA9 rounded-full w-full h-4 sm:h-5",style:{transform:"translateZ(0)"}}),{default:withCtx(()=>[createVNode(unref(Ay),{class:"bg-primary rounded-full w-full h-full transition-transform duration-[660ms] ease-[cubic-bezier(0.65, 0, 0.35, 1)]",style:normalizeStyle({transform:`translateX(-${100-(Number(unref(o))||0)}%)`})},null,8,["style"])]),_:1},16,["model-value"]))}}),_sfc_main$1m=defineComponent({__name:"Switch",props:{defaultChecked:{type:Boolean},checked:{type:Boolean},disabled:{type:Boolean},required:{type:Boolean},name:{},id:{},value:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(gg),mergeProps(unref(s),{class:unref(cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",o.class)}),{default:withCtx(()=>[createVNode(unref(bg),{class:normalizeClass(unref(cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5"))},{default:withCtx(()=>[renderSlot(i.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),_sfc_main$1l=defineComponent({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(Ky),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$1k=defineComponent({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(Xy),mergeProps({class:unref(cn)("p-1 w-full",t.class)},unref(o)),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_hoisted_1$v={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},_sfc_main$1j=defineComponent({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(qy),mergeProps(unref(a),{class:unref(cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t.class)}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$v,[createVNode(unref(Yy),null,{default:withCtx(()=>[createVNode(unref(Check),{class:"h-4 w-4"})]),_:1})]),createVNode(unref(Jy),null,{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),_sfc_main$1i=defineComponent({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(tg),mergeProps(unref(a),{class:unref(cn)("flex cursor-default items-center justify-center py-1",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default",{},()=>[createVNode(unref(ChevronDown),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_sfc_main$1h=defineComponent({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(eg),mergeProps(unref(a),{class:unref(cn)("flex cursor-default items-center justify-center py-1",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default",{},()=>[createVNode(unref(ChevronUp),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_sfc_main$1g=defineComponent({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Hy),mergeProps(unref(a),{class:unref(cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default"),createVNode(unref(ng),{"as-child":""},{default:withCtx(()=>[createVNode(unref(ChevronDown),{class:"h-4 w-4 shrink-0 opacity-50"})]),_:1})]),_:3},16,["class"]))}}),_sfc_main$1f=defineComponent({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(ag),normalizeProps(guardReactiveProps(t)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$1e=defineComponent({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(Wy),null,{default:withCtx(()=>[createVNode(unref(jy),mergeProps({...unref(s),...i.$attrs},{class:unref(cn)("relative z-200 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o.class)}),{default:withCtx(()=>[createVNode(unref(_sfc_main$1h)),createVNode(unref(Qy),{class:normalizeClass(unref(cn)("p-1",e.position==="popper"&&"h-(--radix-select-trigger-height) w-full min-w-(--radix-select-trigger-width)"))},{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},8,["class"]),createVNode(unref(_sfc_main$1i))]),_:3},16,["class"])]),_:3}))}}),_sfc_main$1d=defineComponent({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(wg),mergeProps(unref(o),{class:unref(cn)("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_hoisted_1$u={class:"truncate"},_sfc_main$1c=defineComponent({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(xg),mergeProps(unref(a),{class:unref(cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-xs",t.class)}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$u,[renderSlot(n.$slots,"default")])]),_:3},16,["class"]))}}),_hoisted_1$t={key:0,class:"absolute left-0 right-0 h-full w-full flex items-center justify-center bg-white dark:bg-black"},_hoisted_2$o=["src"],_hoisted_3$n={class:"flex flex-col items-start"},_hoisted_4$l={class:"flex flex-col items-start"},_sfc_main$1b=defineComponent({__name:"UploadImgDialog",emits:["uploadImage"],setup(e,{emit:t}){const o=t,a=useUIStore(),n=toTypedSchema(create$3({repo:create$6().required("GitHub 仓库不能为空"),branch:create$6().optional(),accessToken:create$6().required("GitHub Token 不能为空")})),s=store.reactive("githubConfig",{repo:"",branch:"",accessToken:""});async function i(J){Object.assign(s.value,J),toast.success("保存成功")}const f=toTypedSchema(create$3({accessKeyId:create$6().required("AccessKey ID 不能为空"),accessKeySecret:create$6().required("AccessKey Secret 不能为空"),bucket:create$6().required("Bucket 不能为空"),region:create$6().required("Region 不能为空"),useSSL:create$7().required(),cdnHost:create$6().optional(),path:create$6().optional()})),u=store.reactive("aliOSSConfig",{accessKeyId:"",accessKeySecret:"",bucket:"",region:"",useSSL:!0,cdnHost:"",path:""});async function g(J){Object.assign(u.value,J),toast.success("保存成功")}const p=toTypedSchema(create$3({secretId:create$6().required("Secret ID 不能为空"),secretKey:create$6().required("Secret Key 不能为空"),bucket:create$6().required("Bucket 不能为空"),region:create$6().required("Region 不能为空"),cdnHost:create$6().optional(),path:create$6().optional()})),h=store.reactive("txCOSConfig",{secretId:"",secretKey:"",bucket:"",region:"",cdnHost:"",path:""});async function x(J){Object.assign(h.value,J),toast.success("保存成功")}const _=toTypedSchema(create$3({accessKey:create$6().required("AccessKey 不能为空"),secretKey:create$6().required("SecretKey 不能为空"),bucket:create$6().required("Bucket 不能为空"),domain:create$6().required("Bucket 对应域名不能为空"),region:create$6().optional(),path:create$6().optional()})),w=store.reactive("qiniuConfig",{accessKey:"",secretKey:"",bucket:"",domain:"",region:"",path:""});async function C(J){Object.assign(w.value,J),toast.success("保存成功")}const l=toTypedSchema(create$3({endpoint:create$6().required("Endpoint 不能为空"),port:create$6().optional(),useSSL:create$7().required(),bucket:create$6().required("Bucket 不能为空"),accessKey:create$6().required("AccessKey 不能为空"),secretKey:create$6().required("SecretKey 不能为空")})),m=store.reactive("minioConfig",{endpoint:"",port:"",useSSL:!0,bucket:"",accessKey:"",secretKey:""});async function k(J){Object.assign(m.value,J),toast.success("保存成功")}const N=toTypedSchema(create$3({endpoint:create$6().optional(),region:create$6().required("Region 不能为空"),bucket:create$6().required("Bucket 不能为空"),accessKeyId:create$6().required("AccessKey ID 不能为空"),accessKeySecret:create$6().required("Secret AccessKey 不能为空"),path:create$6().optional(),cdnHost:create$6().optional(),pathStyle:create$7().optional()})),v=store.reactive("s3Config",{endpoint:"",region:"",bucket:"",accessKeyId:"",accessKeySecret:"",path:"",cdnHost:"",pathStyle:!1});async function V(J){Object.assign(v.value,J),toast.success("保存成功")}const $=toTypedSchema(create$3({token:create$6().required("Bot Token 不能为空"),chatId:create$6().required("Chat ID 不能为空")})),A=store.reactive("telegramConfig",{token:"",chatId:""});async function S(J){Object.assign(A.value,J),toast.success("保存成功")}const G=!window.location.protocol.startsWith("http"),y=computed(()=>!G&&!0),E=computed(()=>y.value?"如：http://proxy.example.com":"可不填"),R=computed(()=>toTypedSchema(create$3({proxyOrigin:y.value?create$6().required("代理域名不能为空"):create$6().optional(),appID:create$6().required("AppID 不能为空"),appsecret:create$6().required("AppSecret 不能为空")}))),F=store.reactive("mpConfig",{proxyOrigin:"",appID:"",appsecret:""});async function T(J){Object.assign(F.value,J),toast.success("保存成功")}const ae=toTypedSchema(create$3({accountId:create$6().required("Account ID 不能为空"),accessKey:create$6().required("AccessKey 不能为空"),secretKey:create$6().required("SecretKey 不能为空"),bucket:create$6().required("Bucket 不能为空"),domain:create$6().required("Bucket 对应域名不能为空"),path:create$6().optional()})),se=store.reactive("r2Config",{accountId:"",accessKey:"",secretKey:"",bucket:"",domain:"",path:""});async function K(J){Object.assign(se.value,J),toast.success("保存成功")}const Z=computed(()=>toTypedSchema(create$3({bucket:create$6().required("Bucket 不能为空"),operator:create$6().required("操作员 不能为空"),password:create$6().required("密码 不能为空"),domain:create$6().required("CDN 域名不能为空"),path:create$6().optional()}))),le=store.reactive("upyunConfig",{bucket:"",operator:"",password:"",domain:"",path:""});async function j(J){Object.assign(le.value,J),toast.success("保存成功")}const D=toTypedSchema(create$3({cloudName:create$6().required("Cloud Name 不能为空"),apiKey:create$6().required("API Key 不能为空"),apiSecret:create$6().optional(),uploadPreset:create$6().when("apiSecret",{is:J=>!J||J.length===0,then:J=>J.required("未填写 apiSecret 时必须提供上传预设名"),otherwise:J=>J.optional()}),folder:create$6().optional(),domain:create$6().optional()})),ie=store.reactive("cloudinaryConfig",{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""});async function de(J){Object.assign(ie.value,J),toast.success("保存成功")}const te=[{value:"default",label:"默认"},{value:"github",label:"GitHub"},{value:"aliOSS",label:"阿里云"},{value:"txCOS",label:"腾讯云"},{value:"qiniu",label:"七牛云"},{value:"minio",label:"MinIO"},{value:"s3",label:"S3"},{value:"mp",label:"公众号图床"},{value:"r2",label:"Cloudflare R2"},{value:"upyun",label:"又拍云"},{value:"telegram",label:"Telegram"},{value:"cloudinary",label:"Cloudinary"},{value:"formCustom",label:"自定义代码"}],L=store.reactive("imgHost","default"),ee=store.reactive("useCompression",!1),fe=ref("upload");async function pe(){toast.success("图床已切换")}async function W(){}async function Y(J){const I=checkImage(J);if(!I.ok)return toast.error(I.msg),!1;const we=L.value||"default",ue=await store.get(`${we}Config`);return we==="default"||ue?!0:(toast.error(`请先配置 ${we} 图床参数`),!1)}const M=ref(!1),{open:P,reset:Q,onChange:me}=useFileDialog({accept:"image/*"});me(async J=>{if(J==null)return;const I=J[0];await Y(I)&&oe(I),Q()});async function re(J){M.value=!1,J.stopPropagation();const I=Array.from(J.dataTransfer.files)[0];await Y(I)&&oe(I)}const ge=ref(0),be=ref("");function oe(J){ge.value=0;const I=setInterval(()=>{const ue=ge.value+1;ue>=100||(ge.value=ue)},100);o("uploadImage",J,(ue,_e)=>{clearInterval(I),ge.value=100,_e&&(be.value=`data:image/png;base64,${_e}`),setTimeout(()=>{ge.value=0,be.value=""},1e3)},!0)}function U(J){if(J.deltaY!==0){J.preventDefault();const I=J.currentTarget;I.scrollLeft+=J.deltaY}}return(J,I)=>{const we=_sfc_main$1C,ue=_sfc_main$1E,_e=_sfc_main$1c,Ne=_sfc_main$1d,ve=_sfc_main$1f,Ce=_sfc_main$1g,Be=_sfc_main$1j,Ve=_sfc_main$1e,ke=_sfc_main$1l,Ee=_sfc_main$1F,he=_sfc_main$1m,$e=_sfc_main$1n,ye=_sfc_main$1o,ce=_sfc_main$1G,ne=__unplugin_components_14$1,xe=_sfc_main$1Q,De=__unplugin_components_16,Ae=_sfc_main$1q,Le=_sfc_main$1J,Te=_sfc_main$1K;return openBlock(),createBlock(Te,{open:unref(a).isShowUploadImgDialog,"onUpdate:open":I[8]||(I[8]=b=>unref(a).isShowUploadImgDialog=b)},{default:withCtx(()=>[createVNode(Le,{class:"md:max-w-3xl max-h-[90vh] flex flex-col overflow-hidden",onPointerDownOutside:I[7]||(I[7]=b=>b.preventDefault())},{default:withCtx(()=>[createVNode(ue,null,{default:withCtx(()=>[createVNode(we,null,{default:withCtx(()=>[...I[9]||(I[9]=[createTextVNode("本地上传",-1)])]),_:1})]),_:1}),createVNode(Ae,{modelValue:unref(fe),"onUpdate:modelValue":I[6]||(I[6]=b=>isRef(fe)?fe.value=b:null),class:"w-full md:w-full flex flex-col flex-1 overflow-hidden"},{default:withCtx(()=>[createVNode(Ne,{class:"flex w-full justify-start overflow-x-auto flex-nowrap gap-1 pb-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",onWheel:U},{default:withCtx(()=>[createVNode(_e,{value:"upload",class:"text-xs md:text-sm whitespace-nowrap"},{default:withCtx(()=>[...I[10]||(I[10]=[createTextVNode(" 选择上传 ",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(te.filter(b=>b.value!=="default"),b=>(openBlock(),createBlock(_e,{key:b.value,value:b.value,class:"text-xs md:text-sm whitespace-nowrap"},{default:withCtx(()=>[createTextVNode(toDisplayString(b.label),1)]),_:2},1032,["value"]))),128))]),_:1}),createVNode(ye,{value:"upload",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(Ee,null,{default:withCtx(()=>[I[11]||(I[11]=createBaseVNode("span",{class:"my-4 block"}," 图床 ",-1)),createVNode(ke,{modelValue:unref(L),"onUpdate:modelValue":[I[0]||(I[0]=b=>isRef(L)?L.value=b:null),pe]},{default:withCtx(()=>[createVNode(Ce,null,{default:withCtx(()=>[createVNode(ve,{placeholder:"请选择"})]),_:1}),createVNode(Ve,{class:"max-h-64 md:max-h-96"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(te,b=>createVNode(Be,{key:b.value,label:b.label,value:b.value},{default:withCtx(()=>[createTextVNode(toDisplayString(b.label),1)]),_:2},1032,["label","value"])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),createVNode(Ee,{label:"UseCompression"},{default:withCtx(()=>[I[12]||(I[12]=createBaseVNode("span",{class:"my-4 block"}," 开启图片压缩 ",-1)),createVNode(he,{checked:unref(ee),"onUpdate:checked":[I[1]||(I[1]=b=>isRef(ee)?ee.value=b:null),W],name:"UseCompression"},null,8,["checked"])]),_:1}),createBaseVNode("div",{class:normalizeClass(["bg-clip-padding mt-4 h-50 relative flex flex-col cursor-pointer items-center justify-evenly border-2 rounded border-dashed transition-colors hover:border-gray-700 hover:bg-gray-400/50 dark:hover:border-gray-200 dark:hover:bg-gray-500/50",{"border-gray-700 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":unref(M)}]),onClick:I[3]||(I[3]=b=>unref(P)()),onDrop:withModifiers(re,["prevent"]),onDragover:I[4]||(I[4]=withModifiers(b=>M.value=!0,["prevent"])),onDragleave:I[5]||(I[5]=withModifiers(b=>M.value=!1,["prevent"]))},[createVNode($e,{modelValue:unref(ge),"onUpdate:modelValue":I[2]||(I[2]=b=>isRef(ge)?ge.value=b:null),class:"absolute left-0 right-0 rounded-none",style:{top:"-24px",height:"2px"}},null,8,["modelValue"]),createVNode(unref(CloudUpload),{class:"size-16 md:size-20"}),I[13]||(I[13]=createBaseVNode("p",{class:"text-center text-sm md:text-base px-4"},[createTextVNode(" 将图片拖到此处，或 "),createBaseVNode("strong",null,"点击上传")],-1)),unref(be)?(openBlock(),createElementBlock("div",_hoisted_1$t,[createBaseVNode("img",{src:unref(be),class:"max-h-40 object-contain"},null,8,_hoisted_2$o)])):createCommentVNode("",!0)],34)]),_:1}),createVNode(ye,{value:"github",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(n),"initial-values":unref(s),onSubmit:i},{default:withCtx(()=>[createVNode(unref(Field),{name:"repo"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"GitHub 仓库",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：github.com/yanglbme/resource"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"branch"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"分支",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：release，可不填，默认 master"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessToken"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Token",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"password",placeholder:"如：cc1d0c1426d0fd0902bd2d7184b14da61b8abc46"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank"},{default:withCtx(()=>[...I[14]||(I[14]=[createTextVNode(" 如何获取 GitHub Token？ ",-1)])]),_:1})]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[15]||(I[15]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"aliOSS",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(f),"initial-values":unref(u),onSubmit:g},{default:withCtx(()=>[createVNode(unref(Field),{name:"accessKeyId"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"AccessKey ID",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：LTAI4GdoocsmdoxUf13ylbaNHk"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessKeySecret"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"AccessKey Secret",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"password",placeholder:"如：cc1d0c142doocs0902bd2d7md4b14da6ylbabc46"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"region"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket 所在区域",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：oss-cn-shenzhen"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"useSSL",type:"boolean"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"UseSSL",required:"",error:z},{default:withCtx(()=>[createVNode(he,{checked:b.value,name:b.name,"onUpdate:checked":b.onChange,onBlur:b.onBlur},null,8,["checked","name","onUpdate:checked","onBlur"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"cdnHost"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"自定义 CDN 域名",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：https://imagecdn.alidaodao.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://help.aliyun.com/document_detail/31883.html",target:"_blank"},{default:withCtx(()=>[...I[16]||(I[16]=[createTextVNode(" 如何使用阿里云 OSS？ ",-1)])]),_:1})]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[17]||(I[17]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"txCOS",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(p),"initial-values":unref(h),onSubmit:x},{default:withCtx(()=>[createVNode(unref(Field),{name:"secretId"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"SecretId",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：AKIDnQp1w3DOOCSs8F5MDp9tdoocsmdUPonW3"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"secretKey"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"SecretKey",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"password",placeholder:"如：ukLmdtEJ9271f3DOocsMDsCXdS3YlbW0"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：doocs-3212520134"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"region"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket 所在区域",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：ap-guangzhou"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"cdnHost"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"自定义 CDN 域名",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：https://imagecdn.alidaodao.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：img，可不填，默认根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://cloud.tencent.com/document/product/436/38484",target:"_blank"},{default:withCtx(()=>[...I[18]||(I[18]=[createTextVNode(" 如何使用腾讯云 COS？ ",-1)])]),_:1})]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[19]||(I[19]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"qiniu",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(_),"initial-values":unref(w),onSubmit:C},{default:withCtx(()=>[createVNode(unref(Field),{name:"accessKey"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"AccessKey",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：6DD3VaLJ_SQgOdoocsyTV_YWaDmdnL2n8EGx7kG"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"secretKey"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"SecretKey",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"password",placeholder:"如：qgZa5qrvDOOcsmdKStD1oCjZ9nB7MDvJUs_34SIm"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：md"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"domain"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket 对应域名",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：https://images.123ylb.cn"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"region"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"存储区域",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：z2，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developer.qiniu.com/kodo",target:"_blank"},{default:withCtx(()=>[...I[20]||(I[20]=[createTextVNode(" 如何使用七牛云 Kodo？ ",-1)])]),_:1})]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[21]||(I[21]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"minio",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(l),"initial-values":unref(m),onSubmit:k},{default:withCtx(()=>[createVNode(unref(Field),{name:"endpoint"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Endpoint",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：play.min.io"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"port"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Port",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"number",placeholder:"如：9000，可不填，http 默认为 80，https 默认为 443"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"useSSL",type:"boolean"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"UseSSL",required:"",error:z},{default:withCtx(()=>[createVNode(he,{checked:b.value,name:b.name,"onUpdate:checked":b.onChange,onBlur:b.onBlur},null,8,["checked","name","onUpdate:checked","onBlur"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessKey"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"AccessKey",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：zhangsan"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"secretKey"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"SecretKey",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：asdasdasd"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{variant:"link",class:"p-0",as:"a",href:"http://docs.minio.org.cn/docs/master/minio-client-complete-guide",target:"_blank"},{default:withCtx(()=>[...I[22]||(I[22]=[createTextVNode(" 如何使用 MinIO？ ",-1)])]),_:1})]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[23]||(I[23]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"s3",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(N),"initial-values":unref(v),onSubmit:V},{default:withCtx(()=>[createVNode(unref(Field),{name:"endpoint"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Endpoint",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：s3.amazonaws.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"region"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Region",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：us-east-1"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：bucket-name"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessKeyId"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"AccessKey ID",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：AKIAIOSFODNN7EXAMPLE"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessKeySecret"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"AccessKey Secret",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"password",placeholder:"如：wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：img，可不填，默认根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"cdnHost"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"自定义域名",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：https://cdn.example.com"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"pathStyle",type:"boolean"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Force Path Style",error:z},{default:withCtx(()=>[createVNode(he,{checked:b.value,name:b.name,"onUpdate:checked":b.onChange,onBlur:b.onBlur},null,8,["checked","name","onUpdate:checked","onBlur"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[24]||(I[24]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"mp",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(R),"initial-values":unref(F),onSubmit:T},{default:withCtx(()=>[unref(y)?(openBlock(),createBlock(unref(Field),{key:0,name:"proxyOrigin"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"代理域名",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:unref(E)}),null,16,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["error"])]),_:1})):createCommentVNode("",!0),createVNode(unref(Field),{name:"appID"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"appID",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：wx6e1234567890efa3"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"appsecret"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"appsecret",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：d9f1abcdef01234567890abcdef82397"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$n,[createVNode(xe,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Getting_Started_Guide.html",target:"_blank"},{default:withCtx(()=>[...I[25]||(I[25]=[createTextVNode(" 如何开启公众号开发者模式并获取应用账号密钥？ ",-1)])]),_:1}),createVNode(xe,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://md-pages.doocs.org/tutorial/",target:"_blank"},{default:withCtx(()=>[...I[26]||(I[26]=[createTextVNode(" 如何在浏览器插件中使用公众号图床？ ",-1)])]),_:1})])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[27]||(I[27]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"r2",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(ae),"initial-values":unref(se),onSubmit:K},{default:withCtx(()=>[createVNode(unref(Field),{name:"accountId"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"AccountId",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如: 0030f123e55a57546f4c281c564e560",class:"w-full min-w-0 md:min-w-[350px]"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessKey"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"AccessKey",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如: 358090b3a12824a6b0787gae7ad0fc72"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"secretKey"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"SecretKey",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"password",placeholder:"如: c1c4dbcb0b6b785ac6633422a06dff3dac055fe74fe40xj1b5c5fcf1bf128010"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：md"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"domain"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"域名",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：https://oss.example.com"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$l,[createVNode(xe,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.cloudflare.com/r2/api/s3/api/",target:"_blank"},{default:withCtx(()=>[...I[28]||(I[28]=[createTextVNode(" 如何使用 S3 API 操作 Cloudflare R2？ ",-1)])]),_:1}),createVNode(xe,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.cloudflare.com/r2/buckets/cors/",target:"_blank"},{default:withCtx(()=>[...I[29]||(I[29]=[createTextVNode(" 如何设置跨域(CORS)？ ",-1)])]),_:1})])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[30]||(I[30]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"upyun",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(Z),"initial-values":unref(le),onSubmit:j},{default:withCtx(()=>[createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如: md",class:"w-full min-w-0 md:min-w-[350px]"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"operator"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"操作员",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如: operator"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"password"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"操作员密码",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"password",placeholder:"如: c1c4dbcb0b6b785ac6633422a06dff3dac055fe74fe40xj1b5c5fcf1bf128010"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"domain"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"域名",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：http://xxx.test.upcdn.net"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{variant:"link",class:"p-0",as:"a",href:"https://help.upyun.com/",target:"_blank"},{default:withCtx(()=>[...I[31]||(I[31]=[createTextVNode(" 如何使用 又拍云？ ",-1)])]),_:1})]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[32]||(I[32]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"telegram",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref($),"initial-values":unref(A),onSubmit:S},{default:withCtx(()=>[createVNode(unref(Field),{name:"token"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Bot Token",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：123456789:ABCdefGHIjkl-MNOPqrSTUvwxYZ"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"chatId"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Chat ID",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：-1001234567890"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{variant:"link",class:"p-0",as:"a",href:"https://github.com/doocs/md/blob/main/docs/telegram-usage.md",target:"_blank"},{default:withCtx(()=>[...I[33]||(I[33]=[createTextVNode(" 如何使用 Telegram？ ",-1)])]),_:1})]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[34]||(I[34]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"cloudinary",class:"flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(D),"initial-values":unref(ie),onSubmit:de},{default:withCtx(()=>[createVNode(unref(Field),{name:"cloudName"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Cloud Name",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：demo"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"apiKey"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"API Key",required:"",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：1234567890"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"apiSecret"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"API Secret",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,type:"password",placeholder:"用于签名上传，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"uploadPreset"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Upload Preset",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"unsigned 时必填，signed 时可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"folder"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"Folder",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：blog/image，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"domain"},{default:withCtx(({field:b,errorMessage:z})=>[createVNode(ne,{label:"自定义域名 / CDN",error:z},{default:withCtx(()=>[createVNode(ce,mergeProps(b,{modelValue:b.value,"onUpdate:modelValue":q=>b.value=q,placeholder:"如：https://cdn.example.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{variant:"link",class:"p-0",as:"a",href:"https://cloudinary.com/documentation/upload_images",target:"_blank"},{default:withCtx(()=>[...I[35]||(I[35]=[createTextVNode(" Cloudinary 使用文档 ",-1)])]),_:1})]),_:1}),createVNode(ne,null,{default:withCtx(()=>[createVNode(xe,{type:"submit"},{default:withCtx(()=>[...I[36]||(I[36]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(ye,{value:"formCustom",class:"grid flex-1 overflow-y-auto px-1 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},{default:withCtx(()=>[createVNode(De)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["open"])}}}),DEFAULT_CSS_CONTENT=DEFAULT_CUSTOM_THEME,useCssEditorStore=defineStore("cssEditor",()=>{const e=useDark(),t=ref(null),o=ref(null),a=store.reactive("__css_content",DEFAULT_CSS_CONTENT),n=store.reactive(addPrefix("css_content_config"),{active:"方案1",tabs:[{title:"方案1",name:"方案1",content:a.value||DEFAULT_CSS_CONTENT}]}),s=()=>n.value.tabs.find(m=>m.name===n.value.active),i=()=>s().content,f=m=>{t.value&&t.value.dispatch({changes:{from:0,to:t.value.state.doc.length,insert:m}})};let u=null;const g=m=>{u=m},p=m=>{console.log("tabChanged",m),n.value.active=m;const k=n.value.tabs.find(N=>N.name===m).content;f(k),u&&u(k)},h=m=>{const k=s();k.title=m,k.name=m,n.value.active=m},x=(m,k)=>{const N=k||DEFAULT_CSS_CONTENT;n.value.tabs.push({name:m,title:m,content:N}),n.value.active=m,console.log("addCssContentTab",m),f(N),u&&u(N)},_=m=>n.value.tabs.every(({name:k})=>k!==m),w=()=>{n.value={active:"方案 1",tabs:[{title:"方案 1",name:"方案 1",content:DEFAULT_CSS_CONTENT}]},t.value&&t.value.dispatch({changes:{from:0,to:t.value.state.doc.length,insert:DEFAULT_CSS_CONTENT}})},C=m=>{const k=document.querySelector("#cssEditor");if(!k)return;k.value=s().content;const N=document.createElement("div");N.className="w-full h-full",k.parentNode?.replaceChild(N,k),o.value=new Compartment;const v=EditorState.create({doc:s().content,extensions:[cssSetup(),o.value.of(theme(e.value)),EditorView.updateListener.of(V=>{if(V.docChanged){const $=V.state.doc.toString();s().content=$,m($)}})]});t.value=markRaw(new EditorView({state:v,parent:N}))};return watch(e,()=>{t.value&&o.value&&t.value.dispatch({effects:o.value.reconfigure(theme(e.value))})}),onMounted(()=>{a.value=""}),{cssEditor:t,cssContentConfig:n,getCurrentTab:s,getCurrentTabContent:i,setCssEditorValue:f,setOnTabChangedCallback:g,tabChanged:p,renameTab:h,addCssContentTab:x,validatorTabName:_,resetCssConfig:w,initCssEditor:C,scrollToHeading:m=>{if(!t.value)return;const k=t.value.state.doc.toString(),N=new RegExp(`^${m}\\s*\\{`,"m"),v=k.match(N);if(v&&v.index!==void 0){const V=v.index;let $=0,A=V,S=!1;for(let H=V;H<k.length;H++)if(k[H]==="{")$++,S=!0;else if(k[H]==="}"&&($--,S&&$===0)){A=H+1;break}t.value.dispatch({selection:{anchor:V,head:A},scrollIntoView:!0}),t.value.focus()}}}}),cssEditor=Object.freeze(Object.defineProperty({__proto__:null,useCssEditorStore},Symbol.toStringTag,{value:"Module"})),_hoisted_1$s={key:0,class:"sticky top-0 z-10 flex items-center justify-between -mx-4 px-4 py-3 border-b mb-4 bg-background"},_hoisted_2$n={class:"space-y-2"},_hoisted_3$m={class:"grid grid-cols-3 justify-items-center gap-2"},_hoisted_4$k={class:"space-y-2"},_hoisted_5$i={class:"grid grid-cols-3 justify-items-center gap-2"},_hoisted_6$h={class:"space-y-2"},_hoisted_7$d={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_8$d={class:"space-y-2"},_hoisted_9$c={class:"grid grid-cols-3 justify-items-center gap-2"},_hoisted_10$7={class:"space-y-2"},_hoisted_11$7={class:"space-y-2"},_hoisted_12$7={class:"flex gap-2"},_hoisted_13$7={class:"space-y-2"},_hoisted_14$5={class:"space-y-2"},_hoisted_15$4={class:"grid grid-cols-3 justify-items-center gap-2"},_hoisted_16$4={class:"space-y-2"},_hoisted_17$3={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_18$3={class:"space-y-2"},_hoisted_19$2={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_20$2={class:"space-y-2"},_hoisted_21$2={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_22$2={class:"space-y-2"},_hoisted_23$2={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_24$2={class:"space-y-2"},_hoisted_25$2={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_26$2={class:"space-y-2"},_sfc_main$1a=defineComponent({__name:"RightSlider",setup(e){const t=useCssEditorStore(),o=useUIStore(),a=useThemeStore(),{theme:n,fontFamily:s,fontSize:i,primaryColor:f,codeBlockTheme:u,legend:g,isMacCodeBlock:p,isShowLineNumber:h,isCiteStatus:x,isUseIndent:_,isUseJustify:w}=storeToRefs(a),C=ref("h2"),l=computed({get:()=>a.getHeadingStyle(C.value),set:te=>{a.setHeadingStyle(C.value,te),te==="custom"&&(o.isShowCssEditor=!0,nextTick(()=>{setTimeout(()=>{t.scrollToHeading(C.value)},100)})),a.applyCurrentTheme(),$()}}),{isMobile:m,isOpenRightSlider:k,isDark:N}=storeToRefs(o),v=useEditorStore(),V=useRenderStore();function $(){a.updateCodeTheme();const te=v.getContent();V.render(te)}function A(te){a.theme=te,a.applyCurrentTheme(),$()}function S(te){a.fontFamily=te,a.applyCurrentTheme(),$()}function H(te){a.fontSize=te,a.applyCurrentTheme(),$()}function G(te){a.primaryColor=te,a.applyCurrentTheme(),$()}function y(te){a.codeBlockTheme=te,$()}function E(te){a.legend=te,$()}function R(){a.isMacCodeBlock=!a.isMacCodeBlock,$()}function F(){a.isShowLineNumber=!a.isShowLineNumber,$()}function T(){a.isCiteStatus=!a.isCiteStatus,$()}function ae(){a.isUseIndent=!a.isUseIndent,a.applyCurrentTheme(),$()}function se(){a.isUseJustify=!a.isUseJustify,a.applyCurrentTheme(),$()}function K(){o.isOpenConfirmDialog=!0}const Z=ref(!1);watch(k,()=>{m.value&&(Z.value=!0)}),watch(m,()=>{Z.value=!1});const le=ref(!1),j=ref("");watch(le,()=>{le.value&&(j.value="")});const D=useTemplateRef("pickColorsContainer"),ie=ref("rgb"),de=ref(["rgb","hex","hsl","hsv"]);return(te,L)=>{const ee=_sfc_main$1Q,fe=_sfc_main$1f,pe=_sfc_main$1g,W=_sfc_main$1j,Y=_sfc_main$1e,M=_sfc_main$1l;return openBlock(),createElementBlock(Fragment,null,[unref(m)&&unref(k)?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:L[0]||(L[0]=P=>k.value=!1)})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["overflow-hidden mobile-right-drawer",{"fixed top-0 right-0 w-full h-full z-55 bg-background border-l shadow-lg":unref(m),animate:unref(m)&&unref(Z),"border-l-2 order-2 border-gray/20 bg-white transition-width duration-300 dark:bg-[#191919]":!unref(m),"w-100":!unref(m)&&unref(k),"w-0 border-l-0":!unref(m)&&!unref(k)}]),style:normalizeStyle({transform:unref(m)?unref(k)?"translateX(0)":"translateX(100%)":"none"})},[createBaseVNode("div",{class:normalizeClass(["space-y-4 h-full overflow-auto p-4",{"pt-0":unref(m),"transition-transform":!unref(m),"translate-x-0":!unref(m)&&unref(k),"translate-x-full":!unref(m)&&!unref(k)}])},[unref(m)?(openBlock(),createElementBlock("div",_hoisted_1$s,[L[16]||(L[16]=createBaseVNode("h2",{class:"text-lg font-semibold"}," 样式设置 ",-1)),createVNode(ee,{variant:"ghost",size:"sm",onClick:L[1]||(L[1]=P=>k.value=!1)},{default:withCtx(()=>[createVNode(unref(X),{class:"h-4 w-4"})]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$n,[L[17]||(L[17]=createBaseVNode("h2",null,"主题",-1)),createBaseVNode("div",_hoisted_3$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(themeOptions),({label:P,value:Q})=>(openBlock(),createBlock(ee,{key:Q,class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(n)===Q}]),variant:"outline",onClick:me=>A(Q)},{default:withCtx(()=>[createTextVNode(toDisplayString(P),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_4$k,[L[18]||(L[18]=createBaseVNode("h2",null,"字体",-1)),createBaseVNode("div",_hoisted_5$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(fontFamilyOptions),({label:P,value:Q})=>(openBlock(),createBlock(ee,{key:Q,variant:"outline",class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(s)===Q}]),onClick:me=>S(Q)},{default:withCtx(()=>[createTextVNode(toDisplayString(P),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_6$h,[L[19]||(L[19]=createBaseVNode("h2",null,"字号",-1)),createBaseVNode("div",_hoisted_7$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(fontSizeOptions),({value:P,desc:Q})=>(openBlock(),createBlock(ee,{key:P,variant:"outline",class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(i)===P}]),onClick:me=>H(P)},{default:withCtx(()=>[createTextVNode(toDisplayString(Q),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_8$d,[L[20]||(L[20]=createBaseVNode("h2",null,"主题色",-1)),createBaseVNode("div",_hoisted_9$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(colorOptions),({label:P,value:Q})=>(openBlock(),createBlock(ee,{key:Q,class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(f)===Q}]),variant:"outline",onClick:me=>G(Q)},{default:withCtx(()=>[createBaseVNode("span",{class:"mr-2 inline-block h-4 w-4 rounded-full",style:normalizeStyle({background:Q})},null,4),createTextVNode(" "+toDisplayString(P),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_10$7,[L[21]||(L[21]=createBaseVNode("h2",null,"自定义主题色",-1)),createBaseVNode("div",{ref_key:"pickColorsContainer",ref:D},[unref(D)?(openBlock(),createBlock(unref(Re),{key:0,value:unref(f),"onUpdate:value":L[2]||(L[2]=P=>isRef(f)?f.value=P:null),"show-alpha":"",format:unref(ie),"format-options":unref(de),theme:unref(N)?"dark":"light","popup-container":unref(D),onChange:G},null,8,["value","format","format-options","theme","popup-container"])):createCommentVNode("",!0)],512)]),createBaseVNode("div",_hoisted_11$7,[L[22]||(L[22]=createBaseVNode("h2",null,"标题样式",-1)),createBaseVNode("div",_hoisted_12$7,[createVNode(M,{modelValue:unref(C),"onUpdate:modelValue":L[3]||(L[3]=P=>isRef(C)?C.value=P:null)},{default:withCtx(()=>[createVNode(pe,{class:"w-[120px]"},{default:withCtx(()=>[createVNode(fe,{placeholder:"选择标题"})]),_:1}),createVNode(Y,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(headingLevelOptions),({label:P,value:Q})=>(openBlock(),createBlock(W,{key:Q,value:Q},{default:withCtx(()=>[createTextVNode(toDisplayString(P),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),createVNode(M,{modelValue:unref(l),"onUpdate:modelValue":L[4]||(L[4]=P=>isRef(l)?l.value=P:null)},{default:withCtx(()=>[createVNode(pe,{class:"flex-1"},{default:withCtx(()=>[createVNode(fe,{placeholder:"选择样式"})]),_:1}),createVNode(Y,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(headingStyleOptions),({label:P,value:Q})=>(openBlock(),createBlock(W,{key:Q,value:Q},{default:withCtx(()=>[createTextVNode(toDisplayString(P),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),createBaseVNode("div",_hoisted_13$7,[L[23]||(L[23]=createBaseVNode("h2",null,"代码块主题",-1)),createBaseVNode("div",null,[createVNode(M,{modelValue:unref(u),"onUpdate:modelValue":[L[5]||(L[5]=P=>isRef(u)?u.value=P:null),y]},{default:withCtx(()=>[createVNode(pe,null,{default:withCtx(()=>[createVNode(fe,{placeholder:"Select a code block theme"})]),_:1}),createVNode(Y,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(codeBlockThemeOptions),({label:P,value:Q})=>(openBlock(),createBlock(W,{key:P,value:Q},{default:withCtx(()=>[createTextVNode(toDisplayString(P),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),createBaseVNode("div",_hoisted_14$5,[L[24]||(L[24]=createBaseVNode("h2",null,"图注格式",-1)),createBaseVNode("div",_hoisted_15$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(legendOptions),({label:P,value:Q})=>(openBlock(),createBlock(ee,{key:Q,class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(g)===Q}]),variant:"outline",onClick:me=>E(Q)},{default:withCtx(()=>[createTextVNode(toDisplayString(P),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_16$4,[L[27]||(L[27]=createBaseVNode("h2",null,"Mac 代码块",-1)),createBaseVNode("div",_hoisted_17$3,[createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(p)}]),variant:"outline",onClick:L[6]||(L[6]=P=>!unref(p)&&R())},{default:withCtx(()=>[...L[25]||(L[25]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(p)}]),variant:"outline",onClick:L[7]||(L[7]=P=>unref(p)&&R())},{default:withCtx(()=>[...L[26]||(L[26]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_18$3,[L[30]||(L[30]=createBaseVNode("h2",null,"代码块行号",-1)),createBaseVNode("div",_hoisted_19$2,[createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(h)}]),variant:"outline",onClick:L[8]||(L[8]=P=>!unref(h)&&F())},{default:withCtx(()=>[...L[28]||(L[28]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(h)}]),variant:"outline",onClick:L[9]||(L[9]=P=>unref(h)&&F())},{default:withCtx(()=>[...L[29]||(L[29]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_20$2,[L[33]||(L[33]=createBaseVNode("h2",null,"微信外链转底部引用",-1)),createBaseVNode("div",_hoisted_21$2,[createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(x)}]),variant:"outline",onClick:L[10]||(L[10]=P=>!unref(x)&&T())},{default:withCtx(()=>[...L[31]||(L[31]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(x)}]),variant:"outline",onClick:L[11]||(L[11]=P=>unref(x)&&T())},{default:withCtx(()=>[...L[32]||(L[32]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_22$2,[L[36]||(L[36]=createBaseVNode("h2",null,"段落首行缩进",-1)),createBaseVNode("div",_hoisted_23$2,[createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(_)}]),variant:"outline",onClick:L[12]||(L[12]=P=>!unref(_)&&ae())},{default:withCtx(()=>[...L[34]||(L[34]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(_)}]),variant:"outline",onClick:L[13]||(L[13]=P=>unref(_)&&ae())},{default:withCtx(()=>[...L[35]||(L[35]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_24$2,[L[39]||(L[39]=createBaseVNode("h2",null,"段落两端对齐",-1)),createBaseVNode("div",_hoisted_25$2,[createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(w)}]),variant:"outline",onClick:L[14]||(L[14]=P=>!unref(w)&&se())},{default:withCtx(()=>[...L[37]||(L[37]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(ee,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(w)}]),variant:"outline",onClick:L[15]||(L[15]=P=>unref(w)&&se())},{default:withCtx(()=>[...L[38]||(L[38]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_26$2,[L[41]||(L[41]=createBaseVNode("h2",null,"样式配置",-1)),createVNode(ee,{variant:"destructive",onClick:K},{default:withCtx(()=>[...L[40]||(L[40]=[createTextVNode(" 重置 ",-1)])]),_:1})])],2)],6)],64)}}}),__unplugin_components_7=_export_sfc(_sfc_main$1a,[["__scopeId","data-v-cfd58024"]]);function getStoredValue(e,t){return typeof window<"u"&&window.localStorage&&localStorage.getItem(e)||t}function setStoredValue(e,t){typeof window<"u"&&window.localStorage&&localStorage.setItem(e,t)}const endpoint=ref(getStoredValue("api_endpoint","")),apiKey=ref(getStoredValue("api_key",""));watch(endpoint,e=>setStoredValue("api_endpoint",e));watch(apiKey,e=>setStoredValue("api_key",e));function useApiConfigStore(){const e=computed(()=>endpoint.value.length>0&&apiKey.value.length>0);function t(a,n){endpoint.value=a,apiKey.value=n}function o(){endpoint.value="",apiKey.value=""}return{endpoint,apiKey,isConfigured:e,setConfig:t,clearConfig:o}}function useApiTheme(){const e=useApiConfigStore();async function t(f,u={}){if(!e.isConfigured.value)return{success:!1,error:"请先配置 API 端点和密钥"};const g=`${e.endpoint.value}${f}`;try{const p=await fetch(g,{...u,headers:{"X-API-Key":e.apiKey.value,...u.headers}});return p.ok?p.headers.get("Content-Type")?.includes("text/css")?{success:!0,data:await p.text()}:await p.json():{success:!1,error:(await p.json().catch(()=>({}))).error||`HTTP ${p.status}`}}catch(p){return{success:!1,error:p instanceof Error?p.message:"网络请求失败"}}}async function o(f,u){const g=new FormData,p=new Blob([u],{type:"text/css"});return g.append("file",p,`${f}.css`),g.append("name",f),t("/api/themes",{method:"POST",body:g})}async function a(){return t("/api/themes")}async function n(f){return t(`/api/themes/${f}`)}async function s(f){return t(`/api/themes/${f}`,{method:"DELETE"})}async function i(){if(!e.isConfigured.value)return!1;const f=`${e.endpoint.value}/api/health`;try{const u=await fetch(f,{headers:{"X-API-Key":e.apiKey.value}});return u.ok?(await u.json()).status==="ok":!1}catch{return!1}}return{uploadTheme:o,listThemes:a,downloadTheme:n,deleteTheme:s,testConnection:i}}const _hoisted_1$r={key:0,class:"py-8 text-center"},_hoisted_2$m={key:1,class:"space-y-4"},_hoisted_3$l={class:"flex gap-2"},_hoisted_4$j={class:"border rounded-lg max-h-72 overflow-y-auto"},_hoisted_5$h={key:0,class:"p-4 text-center text-muted-foreground"},_hoisted_6$g={class:"min-w-0 flex-1"},_hoisted_7$c={class:"font-medium truncate"},_hoisted_8$c={class:"text-xs text-muted-foreground font-mono"},_hoisted_9$b={class:"text-xs text-muted-foreground"},_hoisted_10$6={class:"flex gap-1 ml-2"},_hoisted_11$6={class:"space-y-4"},_hoisted_12$6={class:"space-y-2"},_hoisted_13$6={class:"space-y-2"},_sfc_main$19=defineComponent({__name:"ApiThemeManager",setup(e){const t=useApiConfigStore(),o=useApiTheme(),a=useCssEditorStore(),n=ref(!1),s=ref(!1),i=ref(!1),f=ref(""),u=ref(""),g=ref([]),p=ref(null);watch(s,N=>{N&&(f.value=t.endpoint.value,u.value=t.apiKey.value)}),watch(n,async N=>{N&&t.isConfigured.value&&await h()});async function h(){i.value=!0;try{const N=await o.listThemes();N.success&&N.data?g.value=N.data:toast.error(N.error||"加载主题列表失败")}finally{i.value=!1}}async function x(){if(!f.value||!u.value){toast.error("请填写完整的配置信息");return}t.setConfig(f.value,u.value),i.value=!0;try{await o.testConnection()?(toast.success("API 连接成功"),s.value=!1,await h()):toast.error("API 连接失败，请检查配置")}finally{i.value=!1}}function _(){p.value?.click()}async function w(N){const v=N.target,V=v.files?.[0];if(V){if(!V.name.endsWith(".css")){toast.error("请选择 CSS 文件"),v.value="";return}i.value=!0;try{const $=await V.text(),A=V.name.replace(".css",""),S=await o.uploadTheme(A,$);S.success&&S.data?(toast.success(`主题 "${A}" 上传成功，ID: ${S.data.id}`),await h()):toast.error(S.error||"上传失败")}catch($){console.log($),toast.error("读取文件失败")}finally{i.value=!1,v.value=""}}}async function C(N){i.value=!0;try{const v=await o.downloadTheme(N.id);if(v.success&&v.data){const V=`API-${N.name}`,A=!a.validatorTabName(V)?`${V}-${Date.now()}`:V;a.addCssContentTab(A,v.data),toast.success(`主题 "${N.name}" 已导入到配置方案 "${A}"`),n.value=!1}else toast.error(v.error||"下载失败")}finally{i.value=!1}}function l(N){navigator.clipboard.writeText(N.id),toast.success(`已复制主题 ID: ${N.id}`)}async function m(N){if(confirm(`确定要删除主题 "${N.name}" 吗？`)){i.value=!0;try{const v=await o.deleteTheme(N.id);v.success?(toast.success(`主题 "${N.name}" 已删除`),await h()):toast.error(v.error||"删除失败")}finally{i.value=!1}}}function k(N){return new Date(N).toLocaleString("zh-CN")}return(N,v)=>{const V=_sfc_main$1Q,$=_sfc_main$1C,A=_sfc_main$1D,S=_sfc_main$1E,H=_sfc_main$1I,G=_sfc_main$1J,y=_sfc_main$1K,E=_sfc_main$1G;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("input",{ref_key:"fileInputRef",ref:p,type:"file",accept:".css",class:"hidden",onChange:w},null,544),withDirectives(createVNode(V,{class:"fixed z-100 shadow-lg hover:bg-accent cursor-pointer transition-shadow bg-background text-background-foreground border bottom-34 right-4",size:"sm",variant:"outline",onClick:v[0]||(v[0]=R=>n.value=!0)},{default:withCtx(()=>[unref(t).isConfigured.value?(openBlock(),createBlock(unref(Cloud),{key:0,class:"h-4 w-4 mr-2"})):(openBlock(),createBlock(unref(CloudOff),{key:1,class:"h-4 w-4 mr-2"})),v[9]||(v[9]=createTextVNode(" API 主题 ",-1))]),_:1},512),[[vShow,!0]]),createVNode(y,{open:unref(n),"onUpdate:open":v[4]||(v[4]=R=>isRef(n)?n.value=R:null)},{default:withCtx(()=>[createVNode(G,{class:"sm:max-w-lg"},{default:withCtx(()=>[createVNode(S,null,{default:withCtx(()=>[createVNode($,{class:"flex items-center gap-2"},{default:withCtx(()=>[createVNode(unref(Cloud),{class:"h-5 w-5"}),v[10]||(v[10]=createTextVNode(" API 主题管理 ",-1))]),_:1}),createVNode(A,null,{default:withCtx(()=>[...v[11]||(v[11]=[createTextVNode(" 从本地导入主题到 API 服务器，或从服务器下载主题到编辑器 ",-1)])]),_:1})]),_:1}),unref(t).isConfigured.value?(openBlock(),createElementBlock("div",_hoisted_2$m,[createBaseVNode("div",_hoisted_3$l,[createVNode(V,{class:"flex-1",disabled:unref(i),onClick:_},{default:withCtx(()=>[createVNode(unref(FileUp),{class:"h-4 w-4 mr-2"}),v[14]||(v[14]=createTextVNode(" 导入本地主题 ",-1))]),_:1},8,["disabled"]),createVNode(V,{variant:"outline",size:"icon",disabled:unref(i),onClick:h},{default:withCtx(()=>[createVNode(unref(RefreshCw),{class:normalizeClass(["h-4 w-4",{"animate-spin":unref(i)}])},null,8,["class"])]),_:1},8,["disabled"]),createVNode(V,{variant:"outline",size:"icon",onClick:v[2]||(v[2]=R=>s.value=!0)},{default:withCtx(()=>[createVNode(unref(Settings),{class:"h-4 w-4"})]),_:1})]),createBaseVNode("div",_hoisted_4$j,[unref(g).length===0?(openBlock(),createElementBlock("div",_hoisted_5$h," 暂无主题，点击上方按钮导入本地 CSS 文件 ")):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),R=>(openBlock(),createElementBlock("div",{key:R.id,class:"flex items-center justify-between p-3 border-b last:border-b-0 hover:bg-muted/50"},[createBaseVNode("div",_hoisted_6$g,[createBaseVNode("p",_hoisted_7$c,toDisplayString(R.name),1),createBaseVNode("p",_hoisted_8$c," ID: "+toDisplayString(R.id),1),createBaseVNode("p",_hoisted_9$b,toDisplayString(k(R.createdAt)),1)]),createBaseVNode("div",_hoisted_10$6,[createVNode(V,{variant:"ghost",size:"icon",class:"h-8 w-8",disabled:unref(i),title:"复制主题 ID",onClick:F=>l(R)},{default:withCtx(()=>[createVNode(unref(Copy),{class:"h-4 w-4"})]),_:1},8,["disabled","onClick"]),createVNode(V,{variant:"ghost",size:"icon",class:"h-8 w-8",disabled:unref(i),title:"下载到本地编辑器",onClick:F=>C(R)},{default:withCtx(()=>[createVNode(unref(Download),{class:"h-4 w-4"})]),_:1},8,["disabled","onClick"]),createVNode(V,{variant:"ghost",size:"icon",class:"h-8 w-8 text-destructive hover:text-destructive",disabled:unref(i),title:"删除",onClick:F=>m(R)},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"h-4 w-4"})]),_:1},8,["disabled","onClick"])])]))),128))]),v[15]||(v[15]=createBaseVNode("p",{class:"text-xs text-muted-foreground"}," 提示：点击复制按钮获取主题 ID 用于 API 调用，点击下载按钮导入到编辑器配置方案 ",-1))])):(openBlock(),createElementBlock("div",_hoisted_1$r,[createVNode(unref(CloudOff),{class:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),v[13]||(v[13]=createBaseVNode("p",{class:"text-muted-foreground mb-4"}," 尚未配置 API 连接 ",-1)),createVNode(V,{onClick:v[1]||(v[1]=R=>s.value=!0)},{default:withCtx(()=>[createVNode(unref(Settings),{class:"h-4 w-4 mr-2"}),v[12]||(v[12]=createTextVNode(" 配置 API ",-1))]),_:1})])),createVNode(H,null,{default:withCtx(()=>[createVNode(V,{variant:"outline",onClick:v[3]||(v[3]=R=>n.value=!1)},{default:withCtx(()=>[...v[16]||(v[16]=[createTextVNode(" 关闭 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(y,{open:unref(s),"onUpdate:open":v[8]||(v[8]=R=>isRef(s)?s.value=R:null)},{default:withCtx(()=>[createVNode(G,{class:"sm:max-w-md"},{default:withCtx(()=>[createVNode(S,null,{default:withCtx(()=>[createVNode($,null,{default:withCtx(()=>[...v[17]||(v[17]=[createTextVNode(" 配置 API 连接 ",-1)])]),_:1}),createVNode(A,null,{default:withCtx(()=>[...v[18]||(v[18]=[createTextVNode(" 输入 API 服务器地址和密钥 ",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_11$6,[createBaseVNode("div",_hoisted_12$6,[v[19]||(v[19]=createBaseVNode("label",{class:"text-sm font-medium"},"API 端点",-1)),createVNode(E,{modelValue:unref(f),"onUpdate:modelValue":v[5]||(v[5]=R=>isRef(f)?f.value=R:null),placeholder:"http://localhost:3000"},null,8,["modelValue"]),v[20]||(v[20]=createBaseVNode("p",{class:"text-xs text-muted-foreground"}," 例如: http://localhost:3000 或 https://api.example.com ",-1))]),createBaseVNode("div",_hoisted_13$6,[v[21]||(v[21]=createBaseVNode("label",{class:"text-sm font-medium"},"API 密钥",-1)),createVNode(E,{modelValue:unref(u),"onUpdate:modelValue":v[6]||(v[6]=R=>isRef(u)?u.value=R:null),type:"password",placeholder:"输入 API Key"},null,8,["modelValue"])])]),createVNode(H,null,{default:withCtx(()=>[createVNode(V,{variant:"outline",onClick:v[7]||(v[7]=R=>s.value=!1)},{default:withCtx(()=>[...v[22]||(v[22]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode(V,{disabled:unref(i),onClick:x},{default:withCtx(()=>[unref(i)?(openBlock(),createBlock(unref(RefreshCw),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):createCommentVNode("",!0),v[23]||(v[23]=createTextVNode(" 保存并测试 ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64)}}});function legacyCopy(e){return new Promise((t,o)=>{try{const a=document.createElement("textarea");a.value=e,a.setAttribute("readonly","true"),a.style.position="fixed",a.style.opacity="0",document.body.appendChild(a),a.select();const n=document.execCommand("copy");document.body.removeChild(a),n?t():o(new Error("execCommand failed"))}catch(a){o(a)}})}async function copyPlain(e){if(window.isSecureContext&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(e);return}catch{}await legacyCopy(e)}const _hoisted_1$q={key:0,class:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 border-b mb-2 bg-background"},_hoisted_2$l={class:"flex items-center border-b bg-muted"},_hoisted_3$k={class:"space-y-4"},_hoisted_4$i={class:"space-y-2"},_hoisted_5$g={class:"space-y-2"},_hoisted_6$f={class:"space-y-4 flex-1 min-h-0 flex flex-col"},_hoisted_7$b={class:"space-y-2"},_hoisted_8$b={class:"flex-1 min-h-0 border rounded-lg overflow-auto"},_hoisted_9$a={class:"h-full overflow-auto p-4 bg-muted text-sm"},_sfc_main$18=defineComponent({__name:"CssEditor",setup(e){const t=useCssEditorStore(),o=useUIStore(),a=useRenderStore(),n=useEditorStore(),s=useThemeStore(),{isMobile:i}=storeToRefs(o),{cssContentConfig:f}=storeToRefs(t),u=ref(!1);watch(()=>o.isShowCssEditor,()=>{i.value&&(u.value=!0)}),watch(()=>i.value,()=>{u.value=!1});const g=ref(!1),p=ref("");async function h(){await nextTick();const F=document.querySelector('[role="tab"][data-state="active"]');F&&F.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}function x(F){p.value=F,g.value=!0}function _(){if(!p.value.trim()){toast.error("新建失败，方案名不可为空");return}if(!t.validatorTabName(p.value)){toast.error("不能与现有方案重名");return}t.renameTab(p.value),g.value=!1,toast.success("修改成功")}const w=ref(!1),C=ref(""),l=ref("blank");async function m(){if(!C.value.trim()){toast.error("新建失败，方案名不可为空");return}if(!t.validatorTabName(C.value)){toast.error("不能与现有方案重名");return}let F="";l.value==="blank"?F="":F=themeMap[l.value];const T=C.value;t.addCssContentTab(T,F),w.value=!1,toast.success("新建成功"),l.value="blank",h()}const k=ref(!1),N=ref("");function v(F){N.value=F,k.value=!0}function V(){const F=f.value.tabs;if(F.length===1){toast.warning("至少保留一个方案");return}let T=f.value.active;T===N.value&&F.forEach((ae,se)=>{if(ae.name===N.value){const K=F[se+1]||F[se-1];K&&(T=K.name)}}),t.tabChanged(T),f.value.tabs=F.filter(ae=>ae.name!==N.value),toast.success("删除成功")}function $(){C.value=`方案${f.value.tabs.length+1}`,l.value="blank",w.value=!0}const A=ref(!1),S=ref("default");function H(){S.value="default",A.value=!0}async function G(){const F=themeMap[S.value];await copyPlain(F),toast.success("已复制到剪贴板")}function y(){A.value=!1,l.value=S.value,C.value=`基于${themeOptionsMap[S.value].label}主题`,w.value=!0}function E(F){console.log("tabChanged",F),t.tabChanged(F),h()}onMounted(()=>{const F=()=>{s.applyCurrentTheme(),s.updateCodeTheme();const T=n.getContent();a.render(T)};t.setOnTabChangedCallback(F),t.initCssEditor(F),h()});function R(){const F=f.value.tabs.find(se=>se.name===f.value.active);if(!F){toast.error("未找到当前方案");return}const T=F.title||F.name,ae=s.theme==="default"?themeMap.default:`${themeMap.default}

${themeMap[s.theme]}`;exportMergedTheme(F.content,ae,{primaryColor:s.primaryColor,fontFamily:s.fontFamily,fontSize:s.fontSize},`${T}-merged`),toast.success("主题导出成功")}return(F,T)=>{const ae=_sfc_main$1Q,se=_sfc_main$1c,K=_sfc_main$1d,Z=_sfc_main$1q,le=_sfc_main$1C,j=_sfc_main$1D,D=_sfc_main$1E,ie=_sfc_main$1G,de=_sfc_main$1f,te=_sfc_main$1g,L=_sfc_main$1j,ee=_sfc_main$1e,fe=_sfc_main$1l,pe=_sfc_main$1I,W=_sfc_main$1J,Y=_sfc_main$1K,M=_sfc_main$1L,P=_sfc_main$1M,Q=_sfc_main$1N,me=_sfc_main$1O,re=_sfc_main$1P,ge=_sfc_main$1R,be=_sfc_main$1S,oe=_sfc_main$1T;return openBlock(),createElementBlock(Fragment,null,[unref(i)&&unref(o).isShowCssEditor?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:T[0]||(T[0]=U=>unref(o).isShowCssEditor=!1)})):createCommentVNode("",!0),createVNode(Transition,{"enter-active-class":"bounceInRight"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["cssEditor-wrapper h-full flex flex-col mobile-css-editor overflow-y-auto",{"fixed top-0 right-0 w-full h-full z-100 bg-background border-l shadow-lg":unref(i),animate:unref(i)&&unref(u),"border-l-2 flex-1 order-2 border-gray/50 min-w-0":!unref(i)}]),style:normalizeStyle({transform:unref(i)?unref(o).isShowCssEditor?"translateX(0)":"translateX(100%)":"none"})},[unref(i)?(openBlock(),createElementBlock("div",_hoisted_1$q,[T[16]||(T[16]=createBaseVNode("h2",{class:"text-lg font-semibold"}," 自定义 CSS ",-1)),createVNode(ae,{variant:"ghost",size:"sm",onClick:T[1]||(T[1]=U=>unref(o).isShowCssEditor=!1)},{default:withCtx(()=>[createVNode(unref(X),{class:"h-4 w-4"})]),_:1})])):createCommentVNode("",!0),createVNode(Z,{modelValue:unref(f).active,"onUpdate:modelValue":[T[2]||(T[2]=U=>unref(f).active=U),E]},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$l,[createVNode(K,{class:"flex-1 overflow-x-auto justify-start border-0 bg-transparent h-auto p-0 custom-scrollbar"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(f).tabs,U=>(openBlock(),createBlock(se,{key:U.name,value:U.name,class:"flex-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(U.title)+" ",1),withDirectives(createVNode(unref(PenLine),{class:"cursor-pointer inline size-4 rounded-full p-0.5 transition-color hover:bg-gray-200 dark:hover:bg-gray-600",onClick:J=>x(U.name)},null,8,["onClick"]),[[vShow,unref(f).active===U.name]]),withDirectives(createVNode(unref(X),{class:"cursor-pointer inline size-4 rounded-full p-0.5 transition-color hover:bg-gray-200 dark:hover:bg-gray-600",onClick:withModifiers(J=>v(U.name),["self"])},null,8,["onClick"]),[[vShow,unref(f).active===U.name]])]),_:2},1032,["value"]))),128))]),_:1}),createVNode(ae,{variant:"ghost",size:"icon",class:"h-9 w-9 shrink-0 hover:bg-accent",onClick:$},{default:withCtx(()=>[createVNode(unref(Plus),{class:"h-5 w-5"})]),_:1})])]),_:1},8,["modelValue"]),T[36]||(T[36]=createBaseVNode("div",{class:"flex-1 min-h-0"},[createBaseVNode("textarea",{id:"cssEditor",type:"textarea",placeholder:"Your custom css here."})],-1)),createVNode(Y,{open:unref(w),"onUpdate:open":T[7]||(T[7]=U=>isRef(w)?w.value=U:null)},{default:withCtx(()=>[createVNode(W,{class:"sm:max-w-[425px]"},{default:withCtx(()=>[createVNode(D,null,{default:withCtx(()=>[createVNode(le,null,{default:withCtx(()=>[...T[17]||(T[17]=[createTextVNode("新建自定义 CSS",-1)])]),_:1}),createVNode(j,null,{default:withCtx(()=>[...T[18]||(T[18]=[createTextVNode(" 请输入方案名称，并选择初始模板 ",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_3$k,[createBaseVNode("div",_hoisted_4$i,[T[19]||(T[19]=createBaseVNode("label",{class:"text-sm font-medium"},"方案名称",-1)),createVNode(ie,{modelValue:unref(C),"onUpdate:modelValue":T[3]||(T[3]=U=>isRef(C)?C.value=U:null),placeholder:"输入方案名称"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_5$g,[T[24]||(T[24]=createBaseVNode("label",{class:"text-sm font-medium"},"初始模板",-1)),createVNode(fe,{modelValue:unref(l),"onUpdate:modelValue":T[4]||(T[4]=U=>isRef(l)?l.value=U:null)},{default:withCtx(()=>[createVNode(te,null,{default:withCtx(()=>[createVNode(de,{placeholder:"选择初始模板"})]),_:1}),createVNode(ee,null,{default:withCtx(()=>[createVNode(L,{value:"blank"},{default:withCtx(()=>[...T[20]||(T[20]=[createTextVNode(" 空白方案 ",-1)])]),_:1}),createVNode(L,{value:"default"},{default:withCtx(()=>[...T[21]||(T[21]=[createTextVNode(" 基于经典主题 ",-1)])]),_:1}),createVNode(L,{value:"grace"},{default:withCtx(()=>[...T[22]||(T[22]=[createTextVNode(" 基于优雅主题 ",-1)])]),_:1}),createVNode(L,{value:"simple"},{default:withCtx(()=>[...T[23]||(T[23]=[createTextVNode(" 基于简洁主题 ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T[25]||(T[25]=createBaseVNode("p",{class:"text-xs text-muted-foreground"}," 选择一个内置主题作为起点，可以在其基础上进行修改 ",-1))])]),createVNode(pe,null,{default:withCtx(()=>[createVNode(ae,{variant:"outline",onClick:T[5]||(T[5]=U=>w.value=!1)},{default:withCtx(()=>[...T[26]||(T[26]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode(ae,{onClick:T[6]||(T[6]=U=>m())},{default:withCtx(()=>[...T[27]||(T[27]=[createTextVNode(" 创建 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(Y,{open:unref(g),"onUpdate:open":T[10]||(T[10]=U=>isRef(g)?g.value=U:null)},{default:withCtx(()=>[createVNode(W,{class:"sm:max-w-[425px]"},{default:withCtx(()=>[createVNode(D,null,{default:withCtx(()=>[createVNode(le,null,{default:withCtx(()=>[...T[28]||(T[28]=[createTextVNode("编辑方案名称",-1)])]),_:1}),createVNode(j,null,{default:withCtx(()=>[...T[29]||(T[29]=[createTextVNode(" 请输入新的方案名称 ",-1)])]),_:1})]),_:1}),createVNode(ie,{modelValue:unref(p),"onUpdate:modelValue":T[8]||(T[8]=U=>isRef(p)?p.value=U:null)},null,8,["modelValue"]),createVNode(pe,null,{default:withCtx(()=>[createVNode(ae,{variant:"outline",onClick:T[9]||(T[9]=U=>g.value=!1)},{default:withCtx(()=>[...T[30]||(T[30]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode(ae,{onClick:_},{default:withCtx(()=>[...T[31]||(T[31]=[createTextVNode(" 保存 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(oe,{open:unref(k),"onUpdate:open":T[11]||(T[11]=U=>isRef(k)?k.value=U:null)},{default:withCtx(()=>[createVNode(be,null,{default:withCtx(()=>[createVNode(Q,null,{default:withCtx(()=>[createVNode(M,null,{default:withCtx(()=>[...T[32]||(T[32]=[createTextVNode("提示",-1)])]),_:1}),createVNode(P,null,{default:withCtx(()=>[...T[33]||(T[33]=[createTextVNode(" 此操作将删除该自定义方案，是否继续？ ",-1)])]),_:1})]),_:1}),createVNode(ge,null,{default:withCtx(()=>[createVNode(me,null,{default:withCtx(()=>[...T[34]||(T[34]=[createTextVNode("取消",-1)])]),_:1}),createVNode(re,{onClick:V},{default:withCtx(()=>[...T[35]||(T[35]=[createTextVNode(" 确认 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],6),[[vShow,unref(o).isShowCssEditor]])]),_:1}),withDirectives(createVNode(ae,{class:normalizeClass(["fixed z-100 shadow-lg hover:bg-accent cursor-pointer transition-shadow bg-background text-background-foreground border",[unref(i)?"bottom-16 right-4":"bottom-22 right-4"]]),size:"sm",variant:"outline",onClick:H},{default:withCtx(()=>[createVNode(unref(Eye),{class:"h-4 w-4 mr-2"}),T[37]||(T[37]=createTextVNode(" 内置主题 ",-1))]),_:1},8,["class"]),[[vShow,unref(o).isShowCssEditor]]),withDirectives(createVNode(ae,{class:normalizeClass(["fixed z-100 shadow-lg hover:bg-accent cursor-pointer transition-shadow bg-background text-background-foreground border",[unref(i)?"bottom-4 right-4":"bottom-10 right-4"]]),size:"sm",onClick:R},{default:withCtx(()=>[createVNode(unref(Download),{class:"h-4 w-4 mr-2"}),T[38]||(T[38]=createTextVNode(" 导出主题 ",-1))]),_:1},8,["class"]),[[vShow,unref(o).isShowCssEditor]]),withDirectives(createVNode(_sfc_main$19,null,null,512),[[vShow,unref(o).isShowCssEditor]]),createVNode(Y,{open:unref(A),"onUpdate:open":T[15]||(T[15]=U=>isRef(A)?A.value=U:null)},{default:withCtx(()=>[createVNode(W,{class:"sm:max-w-4xl max-h-[90vh] flex flex-col",onOpenAutoFocus:T[14]||(T[14]=withModifiers(()=>{},["prevent"]))},{default:withCtx(()=>[createVNode(D,null,{default:withCtx(()=>[createVNode(le,null,{default:withCtx(()=>[...T[39]||(T[39]=[createTextVNode("查看内置主题样式",-1)])]),_:1}),createVNode(j,null,{default:withCtx(()=>[...T[40]||(T[40]=[createTextVNode(" 查看并复制内置主题的 CSS 代码，或基于它们创建新方案 ",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_6$f,[createBaseVNode("div",_hoisted_7$b,[T[41]||(T[41]=createBaseVNode("label",{class:"text-sm font-medium"},"选择主题",-1)),createVNode(fe,{modelValue:unref(S),"onUpdate:modelValue":T[12]||(T[12]=U=>isRef(S)?S.value=U:null)},{default:withCtx(()=>[createVNode(te,{class:"w-full mt-2 sm:w-[200px] focus-visible:ring-0 focus-visible:ring-offset-0"},{default:withCtx(()=>[createVNode(de,{placeholder:"选择主题"})]),_:1}),createVNode(ee,null,{default:withCtx(()=>[createVNode(L,{value:"default"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(themeOptionsMap).default.label),1)]),_:1}),createVNode(L,{value:"grace"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(themeOptionsMap).grace.label),1)]),_:1}),createVNode(L,{value:"simple"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(themeOptionsMap).simple.label),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_8$b,[createBaseVNode("pre",_hoisted_9$a,[createBaseVNode("code",null,toDisplayString(unref(themeMap)[unref(S)]),1)])])]),createVNode(pe,{class:"flex-col sm:flex-row gap-2"},{default:withCtx(()=>[createVNode(ae,{variant:"outline",onClick:T[13]||(T[13]=U=>A.value=!1)},{default:withCtx(()=>[...T[42]||(T[42]=[createTextVNode(" 关闭 ",-1)])]),_:1}),createVNode(ae,{variant:"outline",onClick:G},{default:withCtx(()=>[...T[43]||(T[43]=[createTextVNode(" 复制全部 ",-1)])]),_:1}),createVNode(ae,{variant:"outline",onClick:y},{default:withCtx(()=>[...T[44]||(T[44]=[createTextVNode(" 基于此主题新建 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),__unplugin_components_6=_export_sfc(_sfc_main$18,[["__scopeId","data-v-216085a0"]]),_hoisted_1$p=["href"],_sfc_main$17=defineComponent({__name:"FloatingToc",setup(e){const t=useRenderStore(),o=useUIStore(),{isPinFloatingToc:a,isShowFloatingToc:n}=storeToRefs(o),s=ref(!1);return(i,f)=>withDirectives((openBlock(),createElementBlock("div",{class:"bg-background absolute left-0 top-0 border rounded-br-lg rounded-tr-lg rounded-bl-lg p-2 text-sm shadow-sm",onMouseenter:f[0]||(f[0]=()=>s.value=!0),onMouseleave:f[1]||(f[1]=()=>s.value=!1)},[createVNode(unref(List),{class:"size-6"}),createBaseVNode("ul",{class:normalizeClass(["overflow-auto transition-all",{"max-h-0 w-0":!unref(s)&&!unref(a),"max-h-100 w-60 mt-2":unref(s)||unref(a)}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t).titleList,(u,g)=>(openBlock(),createElementBlock("li",{key:g,class:"line-clamp-1 py-1 leading-6 hover:bg-gray-300 dark:hover:bg-gray-600",style:normalizeStyle({paddingLeft:`${u.level-.5}em`})},[createBaseVNode("a",{href:u.url},toDisplayString(u.title),9,_hoisted_1$p)],4))),128))],2)],544)),[[vShow,unref(n)]])}}),_sfc_main$16=defineComponent({__name:"BackTop",props:{left:{},top:{},right:{},bottom:{},visibilityHeight:{},target:{},onClick:{type:Function}},setup(e){const t=e,o=ref(t.visibilityHeight??400),a=ref(!1),n=ref(null);function s(f){n.value?.scrollTo({top:0,left:0,behavior:"smooth"}),t.onClick?.(f)}const i=throttle(f=>{f instanceof HTMLElement?a.value=f.scrollTop>o.value:a.value=window.scrollY>o.value},200,{edges:["leading","trailing"]});return onMounted(()=>{t.target?n.value=document.getElementById(t.target):n.value=window,n.value.addEventListener("scroll",()=>{i(n.value)})}),onUnmounted(()=>{n.value.removeEventListener("scroll",()=>{i(n.value)})}),(f,u)=>{const g=_sfc_main$1Q;return unref(a)?(openBlock(),createBlock(g,{key:0,variant:"outline",size:"icon",class:"absolute z-50 rounded-full",style:normalizeStyle({left:`${e.left}px`,top:`${e.top}px`,right:`${e.right}px`,bottom:`${e.bottom}px`}),onClick:s},{default:withCtx(()=>[createVNode(unref(ArrowUpFromLine))]),_:1},8,["style"])):createCommentVNode("",!0)}}}),_sfc_main$15=defineComponent({__name:"ContextMenu",props:{dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(rm),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$14=defineComponent({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(um),null,{default:withCtx(()=>[createVNode(unref(dm),mergeProps(unref(s),{class:unref(cn)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$13=defineComponent({__name:"ContextMenuShortcut",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(cn)("ml-auto text-xs tracking-widest text-muted-foreground",t.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$12=defineComponent({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(vm),mergeProps(unref(o),{class:unref(cn)("-mx-1 my-1 h-px bg-border",t.class)}),null,16,["class"]))}}),_sfc_main$11=defineComponent({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(fm),mergeProps(unref(s),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e.inset&&"pl-8",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$10=defineComponent({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const o=Ot(e);return(a,n)=>(openBlock(),createBlock(unref(im),normalizeProps(guardReactiveProps(unref(o))),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16))}}),useExportStore=defineStore("export",()=>{const e=usePostStore(),t=useRenderStore(),o=useUIStore();return{editorContent2HTML:()=>{const g=getHtmlContent();return document.querySelector("#output").innerHTML=t.output,g},exportEditorContent2HTML:async()=>{const g=e.currentPost;g&&(await exportHTML(g.title),document.querySelector("#output").innerHTML=t.output)},exportEditorContent2PureHTML:g=>{const p=e.currentPost;p&&exportPureHTML(g,p.title)},downloadAsCardImage:async()=>{const g=e.currentPost;if(!g)return;const p=document.querySelector("#output-wrapper>.preview");if(!p)return;const h=document.createElement("style");h.textContent=`
      .preview pre.code__pre,
      .preview .hljs.code__pre,
      .preview pre.code__pre > code,
      .preview .hljs.code__pre > code,
      .preview .code-scroll,
      .preview pre section,
      .preview code section {
        overflow: visible !important;
      }
      .preview pre.code__pre > code,
      .preview .code-scroll,
      .preview .code-scroll > div {
        white-space: pre-wrap !important;
        word-break: break-all !important;
        min-width: auto !important;
      }
    `,document.head.appendChild(h);try{await new Promise(_=>setTimeout(_,100));const x=await toPng(p,{backgroundColor:o.isDark?"":"#fff",skipFonts:!0,pixelRatio:Math.max(window.devicePixelRatio||1,2),style:{margin:"0"}});downloadFile(x,`${sanitizeTitle(g.title)}.png`,"image/png")}finally{h.remove()}},exportEditorContent2PDF:async()=>{const g=e.currentPost;g&&(await exportPDF(g.title),document.querySelector("#output").innerHTML=t.output)},exportEditorContent2MD:g=>{const p=e.currentPost;p&&downloadMD(g,p.title)}}});function useImportMarkdownContent(){const e=useEditorStore(),{open:t,reset:o,onChange:a}=useFileDialog({accept:".md"});return a(n=>{if(n==null||n.length===0)return;const s=n[0],i=new FileReader;i.readAsText(s),i.onload=f=>{e.editor.dispatch({changes:{from:0,to:e.editor.state.doc.length,insert:""}}),requestAnimationFrame(()=>{e.editor.dispatch({changes:{from:0,to:e.editor.state.doc.length,insert:f.target.result}})}),toast.success("文档导入成功")}}),()=>{o(),t()}}const _sfc_main$$=defineComponent({__name:"EditorContextMenu",setup(e){const t=useEditorStore(),o=usePostStore(),a=useExportStore(),n=useUIStore(),{toggleShowInsertFormDialog:s,toggleShowInsertMpCardDialog:i,toggleShowUploadImgDialog:f}=n,u=useImportMarkdownContent();async function g(){const k=await t.formatContent();k&&o.currentPost&&o.updatePostContent(o.currentPostId,k)}function p(){t.importContent(DEFAULT_CONTENT),toast.success("文档已重置")}function h(){t.clearContent()}async function x(){const k=t.getSelection();copyPlain(k)}async function _(){try{const k=await navigator.clipboard.readText();t.replaceSelection(k)}catch(k){console.log("粘贴失败",k)}}function w(){n.isOpenConfirmDialog=!0}function C(){a.exportEditorContent2HTML()}function l(){a.exportEditorContent2MD(t.getContent())}function m(){a.downloadAsCardImage()}return(k,N)=>{const v=_sfc_main$10,V=_sfc_main$11,$=_sfc_main$12,A=_sfc_main$13,S=_sfc_main$14,H=_sfc_main$15;return openBlock(),createBlock(H,null,{default:withCtx(()=>[createVNode(v,null,{default:withCtx(()=>[renderSlot(k.$slots,"default")]),_:3}),createVNode(S,{class:"w-64"},{default:withCtx(()=>[createVNode(V,{inset:"",onClick:N[0]||(N[0]=G=>unref(f)())},{default:withCtx(()=>[...N[12]||(N[12]=[createTextVNode(" 上传图片 ",-1)])]),_:1}),createVNode(V,{inset:"",onClick:N[1]||(N[1]=G=>unref(s)())},{default:withCtx(()=>[...N[13]||(N[13]=[createTextVNode(" 插入表格 ",-1)])]),_:1}),createVNode(V,{inset:"",onClick:N[2]||(N[2]=G=>unref(i)())},{default:withCtx(()=>[...N[14]||(N[14]=[createTextVNode(" 插入公众号名片 ",-1)])]),_:1}),createVNode(V,{inset:"",onClick:N[3]||(N[3]=G=>w())},{default:withCtx(()=>[...N[15]||(N[15]=[createTextVNode(" 重置样式 ",-1)])]),_:1}),createVNode(V,{inset:"",onClick:N[4]||(N[4]=G=>p())},{default:withCtx(()=>[...N[16]||(N[16]=[createTextVNode(" 重置文档 ",-1)])]),_:1}),createVNode(V,{inset:"",onClick:N[5]||(N[5]=G=>h())},{default:withCtx(()=>[...N[17]||(N[17]=[createTextVNode(" 清空内容 ",-1)])]),_:1}),createVNode($),createVNode(V,{inset:"",onClick:N[6]||(N[6]=G=>unref(u)())},{default:withCtx(()=>[...N[18]||(N[18]=[createTextVNode(" 导入 .md 文档 ",-1)])]),_:1}),createVNode(V,{inset:"",onClick:N[7]||(N[7]=G=>l())},{default:withCtx(()=>[...N[19]||(N[19]=[createTextVNode(" 导出 .md 文档 ",-1)])]),_:1}),createVNode(V,{inset:"",onClick:N[8]||(N[8]=G=>C())},{default:withCtx(()=>[...N[20]||(N[20]=[createTextVNode(" 导出 .html ",-1)])]),_:1}),createVNode(V,{inset:"",onClick:N[9]||(N[9]=G=>m())},{default:withCtx(()=>[...N[21]||(N[21]=[createTextVNode(" 导出 .png ",-1)])]),_:1}),createVNode($),createVNode(V,{inset:"",onClick:N[10]||(N[10]=G=>x())},{default:withCtx(()=>[N[22]||(N[22]=createTextVNode(" 复制 ",-1)),createVNode(A,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ctrlSign))+" + C ",1)]),_:1})]),_:1}),createVNode(V,{inset:"",onClick:_},{default:withCtx(()=>[N[23]||(N[23]=createTextVNode(" 粘贴 ",-1)),createVNode(A,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ctrlSign))+" + V ",1)]),_:1})]),_:1}),createVNode(V,{inset:"",onClick:N[11]||(N[11]=G=>g())},{default:withCtx(()=>[N[24]||(N[24]=createTextVNode(" 格式化 ",-1)),createVNode(A,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(altSign))+" + "+toDisplayString(unref(shiftSign))+" + F ",1)]),_:1})]),_:1})]),_:1})]),_:3})}}}),_sfc_main$_=defineComponent({__name:"AlertDialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(Rv),normalizeProps(guardReactiveProps(t)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$Z=defineComponent({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(ap),mergeProps(unref(o),{class:unref(cn)("shrink-0 bg-border relative",t.orientation==="vertical"?"w-px h-full":"h-px w-full",t.class)}),{default:withCtx(()=>[t.label?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(cn)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",t.orientation==="vertical"?"w-px px-1 py-2":"h-px py-1 px-2"))},toDisplayString(t.label),3)):createCommentVNode("",!0)]),_:1},16,["class"]))}}),_sfc_main$Y=defineComponent({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(uh),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$X=defineComponent({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(ch),null,{default:withCtx(()=>[createVNode(unref(fh),mergeProps(unref(s),{class:unref(cn)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$W=defineComponent({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:a,...n}=t;return n});return(a,n)=>(openBlock(),createBlock(unref(hh),mergeProps(unref(o),{class:unref(cn)("-mx-1 my-1 h-px bg-muted",t.class)}),null,16,["class"]))}}),_sfc_main$V=defineComponent({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(vh),mergeProps(unref(a),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e.inset&&"pl-8",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$U=defineComponent({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const o=Ot(e);return(a,n)=>(openBlock(),createBlock(unref(dh),mergeProps({class:"outline-hidden"},unref(o)),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16))}}),_hoisted_1$o=["onDragstart","onDrop","onDragover","onClick"],_hoisted_2$k={class:"line-clamp-1"},_hoisted_3$j={key:0,class:"space-y-1 ml-4 mt-1 border-l-2 border-gray-300 pl-1 dark:border-gray-700"},_sfc_main$T=defineComponent({__name:"PostItem",props:{parentId:{},sortedPosts:{},startRenamePost:{type:Function},openHistoryDialog:{type:Function},startDelPost:{type:Function},dropTargetId:{},setDropTargetId:{type:Function},dragSourceId:{},setDragSourceId:{type:Function},handleDrop:{type:Function},handleDragEnd:{type:Function},openAddPostDialog:{type:Function}},setup(e){const t=e,o=usePostStore(),a=useTemplateStore(),n=useUIStore(),{posts:s,currentPostId:i}=storeToRefs(o),{toggleShowTemplateDialog:f}=n,u=ref(!1),g=ref("");watch(u,C=>{C&&(g.value="")});function p(C,l){t.setDragSourceId(C),l.dataTransfer?.setData("text/plain",C),l.dataTransfer.effectAllowed="move"}function h(C){const l=s.value.find(m=>m.id===C);l&&(l.collapsed=!l.collapsed)}function x(C){return t.sortedPosts.some(l=>l.parentId===C)}function _(C){const l=s.value.find(m=>m.id===C);l&&a.createTemplate({name:l.title,content:l.content,description:`从「${l.title}」创建于 ${new Date().toLocaleString("zh-CN")}`})}function w(C){i.value=C,f(!0)}return(C,l)=>{const m=_sfc_main$1Q,k=_sfc_main$U,N=_sfc_main$V,v=_sfc_main$W,V=_sfc_main$X,$=_sfc_main$Y,A=resolveComponent("PostItem",!0);return openBlock(!0),createElementBlock(Fragment,null,renderList(t.sortedPosts.filter(S=>t.parentId==null&&S.parentId==null||S.parentId===t.parentId),S=>(openBlock(),createElementBlock("div",{key:S.id},[createBaseVNode("a",{class:normalizeClass(["w-full inline-flex cursor-pointer items-center gap-1 rounded p-2 text-sm transition-colors",["hover:text-primary-foreground hover:bg-primary",{"bg-primary text-primary-foreground shadow-sm":unref(i)===S.id,"opacity-50":t.dragSourceId===S.id,"outline-2 outline-dashed outline-primary  border-gray-200 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":t.dropTargetId===S.id}]]),draggable:"true",onDragstart:H=>p(S.id,H),onDragend:l[0]||(l[0]=(...H)=>t.handleDragEnd&&t.handleDragEnd(...H)),onDrop:withModifiers(H=>t.handleDrop(S.id),["prevent"]),onDragover:withModifiers(H=>t.setDropTargetId(S.id),["stop","prevent"]),onDragleave:l[1]||(l[1]=withModifiers(H=>t.setDropTargetId(null),["prevent"])),onClick:H=>i.value=S.id},[createVNode(m,{size:"xs",variant:"ghost",class:normalizeClass(["h-max p-0.5",x(S.id)?"opacity-100":"opacity-0"]),onClick:withModifiers(H=>x(S.id)&&h(S.id),["stop"])},{default:withCtx(()=>[createVNode(unref(ChevronRight),{class:normalizeClass(["size-4 transition-transform",{"rotate-90":!S.collapsed}])},null,8,["class"])]),_:2},1032,["class","onClick"]),createBaseVNode("span",_hoisted_2$k,toDisplayString(S.title),1),createVNode($,null,{default:withCtx(()=>[createVNode(k,{"as-child":""},{default:withCtx(()=>[createVNode(m,{size:"xs",variant:"ghost",class:"ml-auto h-max p-0.5"},{default:withCtx(()=>[createVNode(unref(Ellipsis),{class:"size-4"})]),_:1})]),_:1}),createVNode(V,null,{default:withCtx(()=>[createVNode(N,{onClick:withModifiers(H=>t.openAddPostDialog(S.id),["stop"])},{default:withCtx(()=>[createVNode(unref(SquarePlus),{class:"mr-2 size-4"}),l[2]||(l[2]=createTextVNode(" 新增内容 ",-1))]),_:1},8,["onClick"]),createVNode(N,{onClick:withModifiers(H=>t.startRenamePost(S.id),["stop"])},{default:withCtx(()=>[createVNode(unref(PenLine),{class:"mr-2 size-4"}),l[3]||(l[3]=createTextVNode(" 重命名 ",-1))]),_:1},8,["onClick"]),createVNode(N,{onClick:withModifiers(H=>t.openHistoryDialog(S.id),["stop"])},{default:withCtx(()=>[createVNode(unref(History),{class:"mr-2 size-4"}),l[4]||(l[4]=createTextVNode(" 历史记录 ",-1))]),_:1},8,["onClick"]),createVNode(v),createVNode(N,{onClick:withModifiers(H=>_(S.id),["stop"])},{default:withCtx(()=>[createVNode(unref(Package),{class:"mr-2 size-4"}),l[5]||(l[5]=createTextVNode(" 存储为模板 ",-1))]),_:1},8,["onClick"]),createVNode(N,{onClick:withModifiers(H=>w(S.id),["stop"])},{default:withCtx(()=>[createVNode(unref(FileInput),{class:"mr-2 size-4"}),l[6]||(l[6]=createTextVNode(" 应用模板 ",-1))]),_:1},8,["onClick"]),createVNode(v),unref(s).length>1?(openBlock(),createBlock(N,{key:0,onClick:withModifiers(H=>t.startDelPost(S.id),["stop"])},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"mr-2 size-4"}),l[7]||(l[7]=createTextVNode(" 删除 ",-1))]),_:1},8,["onClick"])):createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)],42,_hoisted_1$o),x(S.id)&&!S.collapsed?(openBlock(),createElementBlock("div",_hoisted_3$j,[createVNode(A,{"parent-id":S.id,"sorted-posts":t.sortedPosts,"start-rename-post":t.startRenamePost,"open-history-dialog":t.openHistoryDialog,"start-del-post":t.startDelPost,"drag-source-id":t.dragSourceId,"set-drag-source-id":t.setDragSourceId,"drop-target-id":t.dropTargetId,"set-drop-target-id":t.setDropTargetId,"handle-drag-end":t.handleDragEnd,"handle-drop":t.handleDrop,"open-add-post-dialog":t.openAddPostDialog},null,8,["parent-id","sorted-posts","start-rename-post","open-history-dialog","start-del-post","drag-source-id","set-drag-source-id","drop-target-id","set-drop-target-id","handle-drag-end","handle-drop","open-add-post-dialog"])])):createCommentVNode("",!0)]))),128)}}}),_sfc_main$S=defineComponent({__name:"DropdownMenuRadioGroup",props:{modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(Ch),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_hoisted_1$n={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},_sfc_main$R=defineComponent({__name:"DropdownMenuRadioItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(wh),mergeProps(unref(s),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",o.class)}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$n,[createVNode(unref(gh),null,{default:withCtx(()=>[createVNode(unref(Circle),{class:"h-2 w-2 fill-current"})]),_:1})]),renderSlot(i.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$Q=defineComponent({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(ou),normalizeProps(guardReactiveProps(t)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$P=defineComponent({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(Hg),normalizeProps(guardReactiveProps(t)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$O=defineComponent({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(Wg),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$N=defineComponent({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(qg),null,{default:withCtx(()=>[createVNode(unref(Ug),mergeProps({...unref(s),...i.$attrs},{class:unref(cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$M=defineComponent({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(jg),normalizeProps(guardReactiveProps(t)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_hoisted_1$m={key:0,class:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 border-b mb-2 bg-background"},_hoisted_2$j={class:"space-x-4 mb-2 flex justify-center shrink-0 py-2"},_hoisted_3$i={class:"flex-1 overflow-y-auto space-y-1 px-1"},_hoisted_4$h={class:"h-[50vh] flex"},_hoisted_5$f={class:"space-y-1.5 w-[180px]"},_hoisted_6$e=["onClick"],_hoisted_7$a={class:"break-words w-full"},_hoisted_8$a={class:"space-y-2 max-h-full flex-1 overflow-y-auto"},_hoisted_9$9={class:"whitespace-pre-wrap p-2",style:{"word-wrap":"break-word","overflow-wrap":"break-word","word-break":"break-all",hyphens:"auto"}},_sfc_main$L=defineComponent({__name:"index",setup(e){const t=useUIStore(),{isMobile:o,isOpenPostSlider:a}=storeToRefs(t),n=usePostStore(),{posts:s}=storeToRefs(n),i=useEditorStore(),{editor:f}=storeToRefs(i),u=ref(!1);watch(a,()=>{o.value&&(u.value=!0)}),watch(o,()=>{u.value=!1});const g=ref(null),p=ref(!1),h=ref("");watch(p,j=>{j&&(h.value="",g.value=null)});function x(j){p.value=!0,nextTick(()=>{g.value=j})}function _(){if(!h.value.trim())return toast.error("内容标题不可为空");if(s.value.some(j=>j.title===h.value.trim()))return toast.error("内容标题已存在");n.addPost(h.value.trim(),g.value),p.value=!1,toast.success("内容新增成功")}const w=ref(null),C=ref(!1),l=ref("");function m(j){w.value=j,l.value=n.getPostById(j).title,C.value=!0}function k(){if(!l.value.trim())return toast.error("内容标题不可为空");if(s.value.some(j=>j.title===l.value.trim()&&j.id!==w.value))return toast.error("内容标题已存在");if(l.value===n.getPostById(w.value)?.title){C.value=!1;return}n.renamePost(w.value,l.value.trim()),toast.success("内容重命名成功"),C.value=!1}const N=ref(null),v=ref(!1),V=computed(()=>{const j=n.getPostById(N.value||"")?.title??"";return`此操作将删除「${j.length>20?`${j.slice(0,20)}…`:j}」，是否继续？`});function $(j){N.value=j,v.value=!0}function A(){n.delPost(N.value),v.value=!1,toast.success("内容删除成功")}const S=ref(!1),H=ref(null),G=ref(0);function y(j){H.value=j,G.value=0,S.value=!0}function E(){const j=n.getPostById(H.value);if(!j){S.value=!1;return}const D=j.history[G.value].content;j.content=D;const ie=toRaw(f.value);ie.dispatch({changes:{from:0,to:ie.state.doc.length,insert:D}}),toast.success("记录恢复成功"),S.value=!1}const R=store.reactive(addPrefix("sort_mode"),"create-old-new"),F=computed(()=>[...s.value].sort((j,D)=>{switch(R.value){case"A-Z":return j.title.localeCompare(D.title);case"Z-A":return D.title.localeCompare(j.title);case"update-new-old":return+new Date(D.updateDatetime)-+new Date(j.updateDatetime);case"update-old-new":return+new Date(j.updateDatetime)-+new Date(D.updateDatetime);case"create-new-old":return+new Date(D.createDatetime)-+new Date(j.createDatetime);default:return+new Date(j.createDatetime)-+new Date(D.createDatetime)}})),T=ref(!1),ae=ref(null),se=ref(null);function K(j){const D=ae.value;if(!D)return;const ie=de=>{if(!de)return!1;const te=n.getPostById(de);return te?te.parentId===D?!0:ie(te.parentId):!1};ie(j)?toast.error("不能将内容拖拽到其子内容下面"):D!==j&&n.updatePostParentId(D,j||null),ae.value=null}function Z(j){j.preventDefault()}function le(){ae.value=null,se.value=null,T.value=!1}return(j,D)=>{const ie=_sfc_main$1Q,de=_sfc_main$M,te=_sfc_main$N,L=_sfc_main$O,ee=_sfc_main$P,fe=_sfc_main$Q,pe=_sfc_main$1C,W=_sfc_main$1D,Y=_sfc_main$1E,M=_sfc_main$1G,P=_sfc_main$1I,Q=_sfc_main$1J,me=_sfc_main$1K,re=_sfc_main$U,ge=_sfc_main$R,be=_sfc_main$W,oe=_sfc_main$S,U=_sfc_main$X,J=_sfc_main$Y,I=_sfc_main$T,we=_sfc_main$1L,ue=_sfc_main$1M,_e=_sfc_main$1N,Ne=_sfc_main$1O,ve=_sfc_main$1P,Ce=_sfc_main$1R,Be=_sfc_main$1S,Ve=_sfc_main$1T,ke=_sfc_main$Z,Ee=_sfc_main$_;return openBlock(),createElementBlock(Fragment,null,[unref(o)&&unref(a)?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:D[0]||(D[0]=he=>a.value=!1)})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["h-full w-full overflow-hidden mobile-drawer",{"fixed top-0 left-0 z-55 bg-background border-r shadow-lg":unref(o),animate:unref(o)&&unref(u),"border-2 border-[#0000] border-dashed bg-gray/20 transition-colors":!unref(o),"border-gray-700 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":!unref(o)&&unref(T)}]),style:normalizeStyle({transform:unref(o)&&unref(a)?"translateX(0)":unref(o)&&!unref(a)?"translateX(-100%)":void 0}),onDragover:D[6]||(D[6]=withModifiers(he=>T.value=!0,["prevent"])),onDragleave:D[7]||(D[7]=withModifiers(he=>T.value=!1,["prevent"])),onDragend:le},[createBaseVNode("nav",{class:normalizeClass(["h-full flex flex-col transition-transform overflow-hidden",{"p-2":unref(o)}]),onDragover:Z,onDrop:D[5]||(D[5]=withModifiers(he=>K(null),["prevent"]))},[unref(o)?(openBlock(),createElementBlock("div",_hoisted_1$m,[D[13]||(D[13]=createBaseVNode("h2",{class:"text-lg font-semibold"}," 内容管理 ",-1)),createVNode(ie,{variant:"ghost",size:"sm",onClick:D[1]||(D[1]=he=>a.value=!1)},{default:withCtx(()=>[createVNode(unref(X),{class:"h-4 w-4"})]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$j,[createVNode(me,{open:unref(p),"onUpdate:open":D[3]||(D[3]=he=>isRef(p)?p.value=he:null)},{default:withCtx(()=>[createVNode(fe,null,{default:withCtx(()=>[createVNode(ee,{"delay-duration":200},{default:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[createVNode(de,{"as-child":""},{default:withCtx(()=>[createVNode(ie,{variant:"ghost",size:"xs",class:"h-max p-1"},{default:withCtx(()=>[createVNode(unref(SquarePlus),{class:"size-5"})]),_:1})]),_:1}),createVNode(te,{side:"bottom"},{default:withCtx(()=>[...D[14]||(D[14]=[createTextVNode(" 新增内容 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(Q,null,{default:withCtx(()=>[createVNode(Y,null,{default:withCtx(()=>[createVNode(pe,null,{default:withCtx(()=>[...D[15]||(D[15]=[createTextVNode("新增内容",-1)])]),_:1}),createVNode(W,null,{default:withCtx(()=>[...D[16]||(D[16]=[createTextVNode("请输入内容名称",-1)])]),_:1})]),_:1}),createVNode(M,{modelValue:unref(h),"onUpdate:modelValue":D[2]||(D[2]=he=>isRef(h)?h.value=he:null),onKeyup:withKeys(_,["enter"])},null,8,["modelValue"]),createVNode(P,null,{default:withCtx(()=>[createVNode(ie,{onClick:_},{default:withCtx(()=>[...D[17]||(D[17]=[createTextVNode(" 确 定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(J,null,{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(ee,{"delay-duration":200},{default:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[createVNode(de,{"as-child":""},{default:withCtx(()=>[createVNode(ie,{variant:"ghost",size:"xs",class:"h-max p-1"},{default:withCtx(()=>[createVNode(unref(ArrowUpNarrowWide),{class:"size-5"})]),_:1})]),_:1}),createVNode(te,{side:"bottom"},{default:withCtx(()=>[...D[18]||(D[18]=[createTextVNode(" 排序模式 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(U,null,{default:withCtx(()=>[createVNode(oe,{modelValue:unref(R),"onUpdate:modelValue":D[4]||(D[4]=he=>isRef(R)?R.value=he:null)},{default:withCtx(()=>[createVNode(ge,{value:"A-Z"},{default:withCtx(()=>[...D[19]||(D[19]=[createTextVNode(" 文件名（A-Z） ",-1)])]),_:1}),createVNode(ge,{value:"Z-A"},{default:withCtx(()=>[...D[20]||(D[20]=[createTextVNode(" 文件名（Z-A） ",-1)])]),_:1}),createVNode(be),createVNode(ge,{value:"update-new-old"},{default:withCtx(()=>[...D[21]||(D[21]=[createTextVNode(" 编辑时间（新→旧） ",-1)])]),_:1}),createVNode(ge,{value:"update-old-new"},{default:withCtx(()=>[...D[22]||(D[22]=[createTextVNode(" 编辑时间（旧→新） ",-1)])]),_:1}),createVNode(be),createVNode(ge,{value:"create-new-old"},{default:withCtx(()=>[...D[23]||(D[23]=[createTextVNode(" 创建时间（新→旧） ",-1)])]),_:1}),createVNode(ge,{value:"create-old-new"},{default:withCtx(()=>[...D[24]||(D[24]=[createTextVNode(" 创建时间（旧→新） ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),createVNode(ee,{"delay-duration":200},{default:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[createVNode(de,{"as-child":""},{default:withCtx(()=>[createVNode(ie,{variant:"ghost",size:"xs",class:"h-max p-1",onClick:unref(n).collapseAllPosts},{default:withCtx(()=>[createVNode(unref(ChevronsDownUp),{class:"size-5"})]),_:1},8,["onClick"])]),_:1}),createVNode(te,{side:"bottom"},{default:withCtx(()=>[...D[25]||(D[25]=[createTextVNode(" 全部收起 ",-1)])]),_:1})]),_:1})]),_:1}),createVNode(ee,{"delay-duration":200},{default:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[createVNode(de,{"as-child":""},{default:withCtx(()=>[createVNode(ie,{variant:"ghost",size:"xs",class:"h-max p-1",onClick:unref(n).expandAllPosts},{default:withCtx(()=>[createVNode(unref(ChevronsUpDown),{class:"size-5"})]),_:1},8,["onClick"])]),_:1}),createVNode(te,{side:"bottom"},{default:withCtx(()=>[...D[26]||(D[26]=[createTextVNode(" 全部展开 ",-1)])]),_:1})]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_3$i,[createVNode(I,{"parent-id":null,"sorted-posts":unref(F),"start-rename-post":m,"open-history-dialog":y,"start-del-post":$,"drop-target-id":unref(se),"set-drop-target-id":he=>se.value=he,"drag-source-id":unref(ae),"set-drag-source-id":he=>ae.value=he,"handle-drop":K,"handle-drag-end":le,"open-add-post-dialog":x},null,8,["sorted-posts","drop-target-id","set-drop-target-id","drag-source-id","set-drag-source-id"])])],34)],38),createVNode(me,{open:unref(C),"onUpdate:open":D[10]||(D[10]=he=>isRef(C)?C.value=he:null)},{default:withCtx(()=>[createVNode(Q,{class:"sm:max-w-[425px]"},{default:withCtx(()=>[createVNode(Y,null,{default:withCtx(()=>[createVNode(pe,null,{default:withCtx(()=>[...D[27]||(D[27]=[createTextVNode("编辑内容名称",-1)])]),_:1}),createVNode(W,null,{default:withCtx(()=>[...D[28]||(D[28]=[createTextVNode("请输入新的内容名称",-1)])]),_:1})]),_:1}),createVNode(M,{modelValue:unref(l),"onUpdate:modelValue":D[8]||(D[8]=he=>isRef(l)?l.value=he:null),onKeyup:withKeys(k,["enter"])},null,8,["modelValue"]),createVNode(P,null,{default:withCtx(()=>[createVNode(ie,{variant:"outline",onClick:D[9]||(D[9]=he=>C.value=!1)},{default:withCtx(()=>[...D[29]||(D[29]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode(ie,{onClick:k},{default:withCtx(()=>[...D[30]||(D[30]=[createTextVNode(" 保存 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(Ve,{open:unref(v),"onUpdate:open":D[11]||(D[11]=he=>isRef(v)?v.value=he:null)},{default:withCtx(()=>[createVNode(Be,null,{default:withCtx(()=>[createVNode(_e,null,{default:withCtx(()=>[createVNode(we,null,{default:withCtx(()=>[...D[31]||(D[31]=[createTextVNode("提示",-1)])]),_:1}),createVNode(ue,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(V)),1)]),_:1})]),_:1}),createVNode(Ce,null,{default:withCtx(()=>[createVNode(Ne,null,{default:withCtx(()=>[...D[32]||(D[32]=[createTextVNode("取消",-1)])]),_:1}),createVNode(ve,{onClick:A},{default:withCtx(()=>[...D[33]||(D[33]=[createTextVNode(" 确认 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(me,{open:unref(S),"onUpdate:open":D[12]||(D[12]=he=>isRef(S)?S.value=he:null)},{default:withCtx(()=>[createVNode(Q,{class:"sm:max-w-4xl"},{default:withCtx(()=>[createVNode(Y,null,{default:withCtx(()=>[createVNode(pe,null,{default:withCtx(()=>[...D[34]||(D[34]=[createTextVNode("历史记录",-1)])]),_:1}),createVNode(W,null,{default:withCtx(()=>[...D[35]||(D[35]=[createTextVNode("每隔 30 秒自动保存，最多保留 10 条",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_4$h,[createBaseVNode("ul",_hoisted_5$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).getPostById(unref(H))?.history,(he,$e)=>(openBlock(),createElementBlock("li",{key:he.datetime,class:normalizeClass(["min-h-[2.75rem] w-full inline-flex cursor-pointer items-center gap-2 rounded-md px-3 py-2.5 text-sm transition-colors leading-tight",["hover:bg-primary hover:text-primary-foreground",{"bg-primary text-primary-foreground shadow-sm":unref(G)===$e}]]),onClick:ye=>G.value=$e},[createBaseVNode("span",_hoisted_7$a,toDisplayString(he.datetime),1)],10,_hoisted_6$e))),128))]),createVNode(ke,{orientation:"vertical",class:"mx-2"}),createBaseVNode("div",_hoisted_8$a,[createBaseVNode("div",_hoisted_9$9,toDisplayString(unref(n).getPostById(unref(H))?.history[unref(G)].content??""),1)])]),createVNode(P,null,{default:withCtx(()=>[createVNode(Ve,null,{default:withCtx(()=>[createVNode(Ee,null,{default:withCtx(()=>[createVNode(ie,null,{default:withCtx(()=>[...D[36]||(D[36]=[createTextVNode("恢 复",-1)])]),_:1})]),_:1}),createVNode(Be,null,{default:withCtx(()=>[createVNode(_e,null,{default:withCtx(()=>[createVNode(we,null,{default:withCtx(()=>[...D[37]||(D[37]=[createTextVNode("提示",-1)])]),_:1}),createVNode(ue,null,{default:withCtx(()=>[...D[38]||(D[38]=[createTextVNode(" 此操作将用该记录替换当前文章内容，是否继续？ ",-1)])]),_:1})]),_:1}),createVNode(Ce,null,{default:withCtx(()=>[createVNode(Ne,null,{default:withCtx(()=>[...D[39]||(D[39]=[createTextVNode("取消",-1)])]),_:1}),createVNode(ve,{onClick:E},{default:withCtx(()=>[...D[40]||(D[40]=[createTextVNode(" 恢 复 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),__unplugin_components_2=_export_sfc(_sfc_main$L,[["__scopeId","data-v-ea50a0e5"]]),useAIImageConfigStore=defineStore("AIImageConfig",()=>{const e=store.reactive("openai_image_type",DEFAULT_SERVICE_TYPE),t=store.reactive("openai_image_size","1024x1024"),o=store.reactive("openai_image_quality","standard"),a=store.reactive("openai_image_style","natural"),n=customRef((u,g)=>{let p="";return(async()=>e.value==="custom"?p=await store.get(`openai_image_endpoint_${e.value}`)||"":p=(imageServiceOptions.find(_=>_.value===e.value)??imageServiceOptions[0]).endpoint)(),{get(){return u(),p},set(x){p=x,g(),e.value==="custom"&&store.set(`openai_image_endpoint_${e.value}`,x)}}}),s=ref(""),i=customRef((u,g)=>{let p="";return store.get(`openai_image_key_${e.value}`).then(h=>{p=h||DEFAULT_SERVICE_KEY}),{get(){return u(),p},set(h){p=h,g(),e.value!==DEFAULT_SERVICE_TYPE&&store.set(`openai_image_key_${e.value}`,h)}}});return watch(e,async u=>{const g=imageServiceOptions.find(p=>p.value===u)??imageServiceOptions[0];if(u==="custom"){const p=await store.get(`openai_image_model_${u}`)||"";s.value=p}else{const p=await store.get(`openai_image_model_${u}`)||"";s.value=g.models.includes(p)?p:g.models[0],!g.models.includes(p)&&g.models[0]&&await store.set(`openai_image_model_${u}`,g.models[0])}},{immediate:!0}),watch(s,async u=>{await store.set(`openai_image_model_${e.value}`,u)}),{type:e,endpoint:n,model:s,size:t,quality:o,style:a,apiKey:i,reset:async()=>{e.value=DEFAULT_SERVICE_TYPE,t.value="1024x1024",o.value="standard",a.value="natural",await Promise.all(imageServiceOptions.map(async({value:u})=>{await store.remove(`openai_image_key_${u}`),await store.remove(`openai_image_model_${u}`),await store.remove(`openai_image_endpoint_${u}`)}))}}}),_hoisted_1$l={class:"relative"},_hoisted_2$i=["type","placeholder"],_sfc_main$K=defineComponent({__name:"PasswordInput",props:{defaultValue:{},modelValue:{},class:{},placeholder:{}},setup(e,{emit:t}){const o=e,n=useVModel(o,"modelValue",t,{passive:!0,defaultValue:o.defaultValue}),s=ref(!1);function i(){s.value=!s.value}return(f,u)=>(openBlock(),createElementBlock("div",_hoisted_1$l,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":u[0]||(u[0]=g=>isRef(n)?n.value=g:null),type:unref(s)?"text":"password",placeholder:e.placeholder,class:normalizeClass(unref(cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 pr-10 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",o.class))},null,10,_hoisted_2$i),[[vModelDynamic,unref(n)]]),createBaseVNode("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","aria-label":"切换密码可见性",onClick:i},[unref(s)?(openBlock(),createBlock(unref(EyeOff),{key:1,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Eye),{key:0,class:"h-4 w-4"}))])]))}}),_hoisted_1$k={class:"space-y-4 max-w-full"},_hoisted_2$h=["readonly"],_hoisted_3$h={key:0},_hoisted_4$g={key:1},_hoisted_5$e={key:2},_hoisted_6$d={key:3,class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-950/30 rounded-md text-sm"},_hoisted_7$9={key:4,class:"flex items-start gap-2 p-3 bg-orange-50 dark:bg-orange-950/30 rounded-md text-sm"},_hoisted_8$9={class:"flex flex-wrap gap-2"},_hoisted_9$8={key:5,class:"mt-1 text-xs text-gray-500"},_sfc_main$J=defineComponent({__name:"AIImageConfig",emits:["saved"],setup(e,{emit:t}){const o=t,a=useAIImageConfigStore(),{type:n,endpoint:s,model:i,apiKey:f,size:u,quality:g,style:p}=storeToRefs(a),h=ref(!1),x=ref(""),_=computed(()=>imageServiceOptions.find(v=>v.value===n.value)||imageServiceOptions[0]);watch(n,()=>{x.value=""}),watch(i,()=>{x.value=""}),watch(s,()=>{x.value=""});function w(){if(!s.value.trim()||!i.value.trim()){x.value="❌ 请检查配置项是否完整";return}if(n.value!==DEFAULT_SERVICE_TYPE&&!f.value.trim()){x.value="❌ 请输入 API Key";return}try{new URL(s.value)}catch{x.value="❌ 端点格式有误";return}x.value="✅ 配置已保存",o("saved")}function C(){a.reset(),x.value="🗑️ 当前 AI 图像配置已清除"}async function l(){x.value="",h.value=!0;const v={"Content-Type":"application/json"};f.value&&n.value!==DEFAULT_SERVICE_TYPE&&(v.Authorization=`Bearer ${f.value}`);try{const V=new URL(s.value);!V.pathname.includes("/images/")&&!V.pathname.endsWith("/images/generations")&&(V.pathname=V.pathname.replace(/\/?$/,"/images/generations"));const $={model:i.value,prompt:"test connection",size:u.value,quality:g.value,style:p.value,n:1},A=await window.fetch(V.toString(),{method:"POST",headers:v,body:JSON.stringify($)});if(A.ok)x.value="✅ 连接成功";else{const S=await A.text();x.value=`❌ 连接失败：${A.status} ${S}`}}catch(V){x.value=`❌ 连接失败：${V.message}`}finally{h.value=!1}}const m=[{label:"正方形 (1024x1024)",value:"1024x1024"},{label:"横版 (1792x1024)",value:"1792x1024"},{label:"竖版 (1024x1792)",value:"1024x1792"}],k=[{label:"标准",value:"standard"},{label:"高清",value:"hd"}],N=[{label:"自然",value:"natural"},{label:"鲜明",value:"vivid"}];return(v,V)=>(openBlock(),createElementBlock("div",_hoisted_1$k,[V[19]||(V[19]=createBaseVNode("div",{class:"text-lg font-semibold border-b pb-2"}," AI 图像生成配置 ",-1)),createBaseVNode("div",null,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...V[8]||(V[8]=[createTextVNode("服务商",-1)])]),_:1}),createVNode(unref(_sfc_main$1l),{modelValue:unref(n),"onUpdate:modelValue":V[0]||(V[0]=$=>isRef(n)?n.value=$:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(_).label),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(imageServiceOptions),$=>(openBlock(),createBlock(unref(_sfc_main$1j),{key:$.value,value:$.value},{default:withCtx(()=>[createTextVNode(toDisplayString($.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",null,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...V[9]||(V[9]=[createTextVNode("API 端点",-1)])]),_:1}),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[1]||(V[1]=$=>isRef(s)?s.value=$:null),type:"url",class:"w-full mt-1 p-2 border rounded-md bg-background focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"https://api.openai.com/v1",readonly:unref(n)!=="custom"},null,8,_hoisted_2$h),[[vModelText,unref(s)]])]),unref(n)!=="default"?(openBlock(),createElementBlock("div",_hoisted_3$h,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...V[10]||(V[10]=[createTextVNode("API Key",-1)])]),_:1}),createVNode(unref(_sfc_main$K),{modelValue:unref(f),"onUpdate:modelValue":V[2]||(V[2]=$=>isRef(f)?f.value=$:null),class:"w-full mt-1 focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"sk-..."},null,8,["modelValue"])])):createCommentVNode("",!0),createBaseVNode("div",null,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...V[11]||(V[11]=[createTextVNode("模型",-1)])]),_:1}),unref(n)!=="custom"&&unref(_).models.length>0?(openBlock(),createBlock(unref(_sfc_main$1l),{key:0,modelValue:unref(i),"onUpdate:modelValue":V[3]||(V[3]=$=>isRef(i)?i.value=$:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(i)||"请选择模型"),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_).models,$=>(openBlock(),createBlock(unref(_sfc_main$1j),{key:$,value:$},{default:withCtx(()=>[createTextVNode(toDisplayString($),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":V[4]||(V[4]=$=>isRef(i)?i.value=$:null),type:"text",class:"w-full mt-1 p-2 border rounded-md bg-background focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"输入模型名称，如：dall-e-3"},null,512)),[[vModelText,unref(i)]])]),createBaseVNode("div",null,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...V[12]||(V[12]=[createTextVNode("图像尺寸",-1)])]),_:1}),createVNode(unref(_sfc_main$1l),{modelValue:unref(u),"onUpdate:modelValue":V[5]||(V[5]=$=>isRef(u)?u.value=$:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(m.find($=>$.value===unref(u))?.label||unref(u)),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(m,$=>createVNode(unref(_sfc_main$1j),{key:$.value,value:$.value},{default:withCtx(()=>[createTextVNode(toDisplayString($.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),unref(i).includes("dall-e")?(openBlock(),createElementBlock("div",_hoisted_4$g,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...V[13]||(V[13]=[createTextVNode("图像质量",-1)])]),_:1}),createVNode(unref(_sfc_main$1l),{modelValue:unref(g),"onUpdate:modelValue":V[6]||(V[6]=$=>isRef(g)?g.value=$:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(k.find($=>$.value===unref(g))?.label||unref(g)),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(k,$=>createVNode(unref(_sfc_main$1j),{key:$.value,value:$.value},{default:withCtx(()=>[createTextVNode(toDisplayString($.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])):createCommentVNode("",!0),unref(i).includes("dall-e")?(openBlock(),createElementBlock("div",_hoisted_5$e,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...V[14]||(V[14]=[createTextVNode("图像风格",-1)])]),_:1}),createVNode(unref(_sfc_main$1l),{modelValue:unref(p),"onUpdate:modelValue":V[7]||(V[7]=$=>isRef(p)?p.value=$:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(N.find($=>$.value===unref(p))?.label||unref(p)),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(N,$=>createVNode(unref(_sfc_main$1j),{key:$.value,value:$.value},{default:withCtx(()=>[createTextVNode(toDisplayString($.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])):createCommentVNode("",!0),unref(n)==="default"?(openBlock(),createElementBlock("div",_hoisted_6$d,[createVNode(unref(Info),{class:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),V[15]||(V[15]=createBaseVNode("div",{class:"text-blue-700 dark:text-blue-300"},[createBaseVNode("p",{class:"font-medium"}," 默认图像服务 "),createBaseVNode("p",null,"免费使用，无需配置 API Key，支持 Kwai-Kolors/Kolors 模型。")],-1))])):unref(n)==="custom"?(openBlock(),createElementBlock("div",_hoisted_7$9,[createVNode(unref(Info),{class:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),V[16]||(V[16]=createBaseVNode("div",{class:"text-orange-700 dark:text-orange-300"},[createBaseVNode("p",{class:"font-medium"}," 自定义服务 "),createBaseVNode("p",null,"可配置任何兼容 OpenAI 图像生成 API 的服务，如自建的 API 代理或其他第三方服务。"),createBaseVNode("p",{class:"mt-1 text-xs"}," 端点格式示例：https://your-api.com/v1 ")],-1))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$9,[createVNode(unref(_sfc_main$1Q),{type:"button",class:"flex-1 min-w-[100px]",onClick:w},{default:withCtx(()=>[...V[17]||(V[17]=[createTextVNode(" 保存配置 ",-1)])]),_:1}),createVNode(unref(_sfc_main$1Q),{variant:"outline",type:"button",class:"flex-1 min-w-[80px]",onClick:C},{default:withCtx(()=>[...V[18]||(V[18]=[createTextVNode(" 清空 ",-1)])]),_:1}),createVNode(unref(_sfc_main$1Q),{size:"sm",variant:"outline",class:"flex-1 min-w-[100px]",disabled:unref(h),onClick:l},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(h)?"测试中...":"测试连接"),1)]),_:1},8,["disabled"])]),unref(x)?(openBlock(),createElementBlock("div",_hoisted_9$8,toDisplayString(unref(x)),1)):createCommentVNode("",!0)]))}}),_hoisted_1$j={class:"space-x-1 flex items-center"},_hoisted_2$g={key:0,class:"mb-4 w-full border rounded-md p-4 max-h-[60vh] overflow-y-auto flex-shrink-0"},_hoisted_3$g={key:1,class:"flex flex-col space-y-4 flex-shrink-0"},_hoisted_4$f={class:"flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-lg min-h-[250px] sm:min-h-[300px]"},_hoisted_5$d={key:0,class:"flex flex-col items-center gap-4"},_hoisted_6$c={key:1,class:"w-full flex flex-col space-y-3"},_hoisted_7$8={key:0,class:"flex items-center justify-between p-2 bg-muted/20 rounded"},_hoisted_8$8={class:"text-sm text-muted-foreground"},_hoisted_9$7={class:"flex items-center justify-center p-2 sm:p-4"},_hoisted_10$5=["src","alt"],_hoisted_11$5={class:"px-2 sm:px-4 py-2 bg-muted/10 rounded space-y-1"},_hoisted_12$5={class:"text-xs text-muted-foreground text-center"},_hoisted_13$5={class:"text-xs text-muted-foreground break-words text-center"},_hoisted_14$4={class:"ml-1"},_hoisted_15$3={class:"text-xs text-muted-foreground text-center"},_hoisted_16$3={class:"flex flex-wrap justify-center gap-2 p-2 sm:p-4 bg-muted/20 border-t border-border rounded-b-lg"},_hoisted_17$2={key:2,class:"relative flex-shrink-0 mt-auto"},_hoisted_18$2={class:"bg-background border-border flex flex-col items-baseline gap-2 border rounded-xl px-3 py-2 pr-12 shadow-inner"},_sfc_main$I=defineComponent({__name:"AIImageGeneratorPanel",props:{open:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const o=e,a=t,n=useEditorStore(),{editor:s}=storeToRefs(n),i=useUIStore(),{toggleAIDialog:f}=i,u=ref(o.open);watch(()=>o.open,W=>{u.value=W,W&&E()}),watch(u,W=>a("update:open",W));const g=ref(!1),p=ref(!1),h=ref(""),x=ref(""),_=ref([]),w=ref([]),C=ref([]),l=ref(null),m=ref(0),k=ref(null),N=useAIImageConfigStore(),{apiKey:v,endpoint:V,model:$,type:A,size:S,quality:H,style:G}=storeToRefs(N);function y(W){return Date.now()-W>36e5}async function E(){const W=await store.get("ai_generated_images"),Y=await store.get("ai_image_timestamps");if(!W)return;const M=await store.getJSON("ai_generated_images",[]),P=await store.getJSON("ai_image_prompts",[]),Q=await store.getJSON("ai_image_timestamps",[]);if(!Y||Q.length===0){console.log("🧹 检测到旧版本数据，清除所有过期图片"),_.value=[],w.value=[],C.value=[],await store.remove("ai_generated_images"),await store.remove("ai_image_prompts"),await store.remove("ai_image_timestamps");return}const me=[];Q.forEach((oe,U)=>{y(oe)||me.push(U)});const re=me.map(oe=>M[oe]).filter(Boolean),ge=me.map(oe=>P[oe]||"").filter((oe,U)=>re[U]),be=me.map(oe=>Q[oe]).filter(Boolean);_.value=re,w.value=ge,C.value=be,re.length<M.length&&(console.log(`🧹 清除了 ${M.length-re.length} 张过期图片`),re.length>0?(await store.setJSON("ai_generated_images",re),await store.setJSON("ai_image_prompts",ge),await store.setJSON("ai_image_timestamps",be)):(await store.remove("ai_generated_images"),await store.remove("ai_image_prompts"),await store.remove("ai_image_timestamps"))),console.log("📊 过期检查完成，有效图片数量:",re.length)}onMounted(async()=>{await E();const W=_.value.length,Y=w.value.length,M=C.value.length,P=Math.max(W,Y,M);W<P?(console.warn("⚠️ 数据不一致，清除所有数据"),_.value=[],w.value=[],C.value=[],await store.remove("ai_generated_images"),await store.remove("ai_image_prompts"),await store.remove("ai_image_timestamps")):(Y<W&&(w.value=[...w.value,...Array.from({length:W-Y},()=>"")]),M<W&&(C.value=[...C.value,...Array.from({length:W-M},()=>Date.now())])),k.value=setInterval(()=>{_.value.length>0&&E()},3e4)}),onBeforeUnmount(()=>{k.value&&(clearInterval(k.value),k.value=null)});function R(){g.value=!1}function F(){a("update:open",!1),setTimeout(()=>{f(!0)},100)}function T(W){W.isComposing||W.keyCode===229||W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),ae())}async function ae(){if(!h.value.trim()||p.value)return;const W=h.value.trim();x.value=W,p.value=!0,l.value=new AbortController;const Y={"Content-Type":"application/json"};v.value&&A.value!=="default"&&(Y.Authorization=`Bearer ${v.value}`);try{const M=new URL(V.value);!M.pathname.includes("/images/")&&!M.pathname.endsWith("/images/generations")&&(M.pathname=M.pathname.replace(/\/?$/,"/images/generations"));const P={model:$.value,prompt:W,size:S.value,n:1};$.value.includes("dall-e")&&(P.quality=H.value,P.style=G.value);const Q=await window.fetch(M.toString(),{method:"POST",headers:Y,body:JSON.stringify(P),signal:l.value.signal});if(!Q.ok){const re=await Q.text();throw new Error(`${Q.status}: ${re}`)}const me=await Q.json();if(me.data&&me.data.length>0){const re=me.data[0].url||me.data[0].b64_json;if(re){const ge=re.startsWith("data:")||re.startsWith("http")?re:`data:image/png;base64,${re}`,be=Date.now();_.value.unshift(ge),w.value.unshift(W),C.value.unshift(be),m.value=0,_.value.length>20&&(_.value=_.value.slice(0,20),w.value=w.value.slice(0,20),C.value=C.value.slice(0,20)),await store.setJSON("ai_generated_images",_.value),await store.setJSON("ai_image_prompts",w.value),await store.setJSON("ai_image_timestamps",C.value),h.value=""}}else throw new Error("未收到有效的图像数据")}catch(M){M.name==="AbortError"?console.log("图像生成请求中止"):console.error("图像生成失败:",M)}finally{p.value=!1,l.value=null}}function se(){l.value&&(l.value.abort(),l.value=null),p.value=!1}async function K(){_.value=[],w.value=[],C.value=[],m.value=0,await store.remove("ai_generated_images"),await store.remove("ai_image_prompts"),await store.remove("ai_image_timestamps")}async function Z(W,Y){try{const P=await(await fetch(W)).blob(),Q=window.URL.createObjectURL(P),me=document.createElement("a");me.href=Q;const re=w.value[Y]||"",ge=re?re.substring(0,20).replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"):"no-prompt";me.download=`ai-image-${Y+1}-${ge}.png`,document.body.appendChild(me),me.click(),document.body.removeChild(me),window.URL.revokeObjectURL(Q)}catch(M){console.error("下载图像失败:",M)}}async function le(W){try{await copyPlain(W),console.log("✅ 图片链接已复制到剪贴板"),typeof toast<"u"&&toast.success("图片链接已复制到剪贴板")}catch(Y){console.error("❌ 复制失败:",Y),typeof toast<"u"&&toast.error("复制失败，请重试")}}function j(){const W=w.value[m.value];W?(console.log("🔄 重新生成图像，使用当前图片的prompt:",W),D(W)):console.warn("⚠️ 没有找到当前图片的prompt")}async function D(W){if(!W.trim()||p.value)return;p.value=!0,l.value=new AbortController;const Y={"Content-Type":"application/json"};v.value&&A.value!=="default"&&(Y.Authorization=`Bearer ${v.value}`);try{const M=new URL(V.value);!M.pathname.includes("/images/")&&!M.pathname.endsWith("/images/generations")&&(M.pathname=M.pathname.replace(/\/?$/,"/images/generations"));const P={model:$.value,prompt:W.trim(),size:S.value,n:1};$.value.includes("dall-e")&&(P.quality=H.value,P.style=G.value);const Q=await window.fetch(M.toString(),{method:"POST",headers:Y,body:JSON.stringify(P),signal:l.value.signal});if(!Q.ok){const re=await Q.text();throw new Error(`${Q.status}: ${re}`)}const me=await Q.json();if(me.data&&me.data.length>0){const re=me.data[0].url||me.data[0].b64_json;if(re){const ge=re.startsWith("data:")||re.startsWith("http")?re:`data:image/png;base64,${re}`,be=Date.now();_.value.unshift(ge),w.value.unshift(W.trim()),C.value.unshift(be),m.value=0,_.value.length>20&&(_.value=_.value.slice(0,20),w.value=w.value.slice(0,20),C.value=C.value.slice(0,20)),await store.setJSON("ai_generated_images",_.value),await store.setJSON("ai_image_prompts",w.value),await store.setJSON("ai_image_timestamps",C.value)}}else throw new Error("未收到有效的图像数据")}catch(M){M.name==="AbortError"?console.log("图像生成请求中止"):console.error("图像生成失败:",M)}finally{p.value=!1,l.value=null}}function ie(){m.value>0&&m.value--}function de(){m.value<_.value.length-1&&m.value++}function te(W){if(!s.value){console.warn("编辑器未初始化");return}try{const Y=w.value[m.value]||"";console.log("🔗 插入图片，使用关联的prompt:",Y);const P=`![${Y.trim()?Y.trim().substring(0,30).replace(/\n/g," "):"AI生成的图像"}](${W})`,Q=s.value.state.selection.main.head;s.value.dispatch({changes:{from:Q,insert:P},selection:{anchor:Q+P.length}}),s.value.focus(),u.value=!1,console.log("✅ 图像已成功插入到光标位置")}catch(Y){console.error("❌ 插入图像到光标位置失败:",Y)}}function L(W){if(console.log("🔍 点击查看大图:",W),!W){console.error("❌ 图片URL为空");return}try{window.open(W,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")||(console.error("❌ 无法打开新窗口，可能被浏览器阻止"),window.open(W,"_blank"))}catch(Y){console.error("❌ 打开图片失败:",Y)}}const ee=ref(Date.now());onMounted(()=>{const Y=setInterval(()=>{ee.value=Date.now()},1e3);onBeforeUnmount(()=>{clearInterval(Y)})});function fe(W){if(!C.value[W])return"未知";const Y=3600*1e3,M=C.value[W],P=ee.value-M,Q=Y-P;if(Q<=0)return"已过期";const me=Math.floor(Q/(60*1e3)),re=Math.floor(Q%(60*1e3)/1e3);return me>0?`${me}分${re}秒`:`${re}秒`}function pe(W){if(!C.value[W])return"text-muted-foreground";const Y=3600*1e3,M=C.value[W],P=ee.value-M,Q=Y-P;return Q<=0?"text-red-500 font-medium":Q<600*1e3?"text-orange-500 font-medium":Q<1800*1e3?"text-yellow-600":"text-green-600"}return(W,Y)=>(openBlock(),createBlock(unref(_sfc_main$1K),{open:u.value,"onUpdate:open":Y[8]||(Y[8]=M=>u.value=M)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1J),{class:"bg-card text-card-foreground flex flex-col w-[95vw] max-h-[90vh] sm:max-h-[85vh] sm:max-w-4xl overflow-y-auto"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1E),{class:"space-y-1 flex flex-col items-start"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$j,[createVNode(unref(_sfc_main$1C),null,{default:withCtx(()=>[...Y[9]||(Y[9]=[createTextVNode("AI 文生图",-1)])]),_:1}),createVNode(unref(_sfc_main$1Q),{title:g.value?"AI 文生图":"配置参数","aria-label":g.value?"AI 文生图":"配置参数",variant:"ghost",size:"icon",onClick:Y[0]||(Y[0]=M=>g.value=!g.value)},{default:withCtx(()=>[g.value?(openBlock(),createBlock(unref(Image),{key:0,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Settings),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"]),createVNode(unref(_sfc_main$1Q),{title:"AI 对话","aria-label":"AI 对话",variant:"ghost",size:"icon",onClick:Y[1]||(Y[1]=M=>F())},{default:withCtx(()=>[createVNode(unref(MessageCircle),{class:"h-4 w-4"})]),_:1}),createVNode(unref(_sfc_main$1Q),{title:"清空图像","aria-label":"清空图像",variant:"ghost",size:"icon",onClick:K},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"h-4 w-4"})]),_:1})]),createVNode(unref(_sfc_main$1D),{class:"text-muted-foreground text-sm"},{default:withCtx(()=>[...Y[10]||(Y[10]=[createTextVNode(" 使用 AI 根据文字描述生成图像 ",-1)])]),_:1})]),_:1}),g.value?(openBlock(),createElementBlock("div",_hoisted_2$g,[createVNode(_sfc_main$J,{onSaved:R})])):createCommentVNode("",!0),!g.value&&(p.value||_.value.length>0)?(openBlock(),createElementBlock("div",_hoisted_3$g,[createBaseVNode("div",_hoisted_4$f,[p.value?(openBlock(),createElementBlock("div",_hoisted_5$d,[createVNode(unref(LoaderCircle),{class:"h-8 w-8 animate-spin text-primary"}),Y[12]||(Y[12]=createBaseVNode("p",{class:"text-sm text-muted-foreground"}," 正在生成图像... ",-1)),createVNode(unref(_sfc_main$1Q),{variant:"outline",size:"sm",onClick:se},{default:withCtx(()=>[...Y[11]||(Y[11]=[createTextVNode(" 取消生成 ",-1)])]),_:1})])):_.value.length>0?(openBlock(),createElementBlock("div",_hoisted_6$c,[_.value.length>1?(openBlock(),createElementBlock("div",_hoisted_7$8,[createVNode(unref(_sfc_main$1Q),{variant:"outline",size:"sm",disabled:m.value<=0,onClick:ie},{default:withCtx(()=>[...Y[13]||(Y[13]=[createTextVNode(" 上一张 ",-1)])]),_:1},8,["disabled"]),createBaseVNode("span",_hoisted_8$8,toDisplayString(m.value+1)+" / "+toDisplayString(_.value.length),1),createVNode(unref(_sfc_main$1Q),{variant:"outline",size:"sm",disabled:m.value>=_.value.length-1,onClick:de},{default:withCtx(()=>[...Y[14]||(Y[14]=[createTextVNode(" 下一张 ",-1)])]),_:1},8,["disabled"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$7,[createBaseVNode("div",{class:"relative group cursor-pointer w-full max-w-sm",onClick:Y[2]||(Y[2]=M=>L(_.value[m.value]))},[createBaseVNode("img",{src:_.value[m.value],alt:`生成的图像 ${m.value+1}`,class:"w-full h-auto max-h-[300px] sm:max-h-[350px] object-contain rounded-lg shadow-lg border border-border transition-transform hover:scale-105"},null,8,_hoisted_10$5),Y[15]||(Y[15]=createBaseVNode("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/10 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},[createBaseVNode("div",{class:"bg-black/70 text-white px-3 py-1 rounded-md text-sm"}," 点击查看大图 ")],-1))])]),createBaseVNode("div",_hoisted_11$5,[createBaseVNode("p",_hoisted_12$5," 尺寸: "+toDisplayString(unref(S)),1),createBaseVNode("div",_hoisted_13$5,[Y[16]||(Y[16]=createBaseVNode("span",{class:"font-medium"},"提示词:",-1)),createBaseVNode("span",_hoisted_14$4,toDisplayString(w.value[m.value]||"无关联提示词"),1)]),createBaseVNode("div",_hoisted_15$3,[Y[17]||(Y[17]=createBaseVNode("span",{class:"font-medium"},"剩余有效期:",-1)),createBaseVNode("span",{class:normalizeClass(["ml-1",pe(m.value)])},toDisplayString(fe(m.value)),3),Y[18]||(Y[18]=createBaseVNode("span",{class:"font-medium"},"，请及时下载保存",-1))])]),createBaseVNode("div",_hoisted_16$3,[createVNode(unref(_sfc_main$1Q),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:Y[3]||(Y[3]=M=>te(_.value[m.value]))},{default:withCtx(()=>[createVNode(unref(Image),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),Y[19]||(Y[19]=createTextVNode(" 插入 ",-1))]),_:1}),createVNode(unref(_sfc_main$1Q),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:Y[4]||(Y[4]=M=>Z(_.value[m.value],m.value))},{default:withCtx(()=>[createVNode(unref(Download),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),Y[20]||(Y[20]=createTextVNode(" 下载 ",-1))]),_:1}),createVNode(unref(_sfc_main$1Q),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:Y[5]||(Y[5]=M=>le(_.value[m.value]))},{default:withCtx(()=>[createVNode(unref(Copy),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),Y[21]||(Y[21]=createTextVNode(" 复制 ",-1))]),_:1}),createVNode(unref(_sfc_main$1Q),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:j},{default:withCtx(()=>[createVNode(unref(RefreshCcw),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),Y[22]||(Y[22]=createTextVNode(" 重新生成 ",-1))]),_:1})])])):createCommentVNode("",!0)])])):createCommentVNode("",!0),g.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_17$2,[createBaseVNode("div",_hoisted_18$2,[createVNode(unref(_sfc_main$1H),{modelValue:h.value,"onUpdate:modelValue":Y[6]||(Y[6]=M=>h.value=M),placeholder:"描述你想要生成的图像... (Enter 生成，Shift+Enter 换行)",rows:"2",class:"custom-scroll min-h-16 w-full resize-none border-none bg-transparent p-0 focus-visible:outline-hidden focus:outline-hidden focus-visible:ring-0 focus:ring-0 focus-visible:ring-offset-0 focus:ring-offset-0 focus-visible:ring-transparent focus:ring-transparent",onKeydown:T},null,8,["modelValue"]),createVNode(unref(_sfc_main$1Q),{disabled:!h.value.trim()&&!p.value,size:"icon",class:normalizeClass(["absolute bottom-3 right-3 rounded-full disabled:opacity-40","bg-primary hover:bg-primary/90 text-primary-foreground"]),"aria-label":p.value?"取消":"生成",onClick:Y[7]||(Y[7]=M=>p.value?se():ae())},{default:withCtx(()=>[p.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:"h-4 w-4 animate-spin"})):(openBlock(),createBlock(unref(Image),{key:1,class:"h-4 w-4"}))]),_:1},8,["disabled","aria-label"])])]))]),_:1})]),_:1},8,["open"]))}}),AIImageGeneratorPanel=_export_sfc(_sfc_main$I,[["__scopeId","data-v-c781884c"]]),_hoisted_1$i={class:"grid grid-cols-1 lg:grid-cols-2 my-5 h-[60vh] lg:h-96 gap-4 text-center"},_hoisted_2$f={class:"flex flex-col overflow-hidden"},_hoisted_3$f={key:0,class:"space-y-2 overflow-auto"},_hoisted_4$e=["id","onUpdate:modelValue"],_hoisted_5$c=["for"],_hoisted_6$b={key:1},_hoisted_7$7={class:"flex flex-col overflow-hidden"},_hoisted_8$7={class:"relative bg-white p-2 dark:bg-gray-900"},_hoisted_9$6={class:"w-full overflow-auto border rounded-md bg-gray-50 p-2 dark:bg-gray-800"},_hoisted_10$4={class:"text-left text-sm text-gray-500 dark:text-gray-400"},_hoisted_11$4={class:"col-span-1 lg:col-span-2 flex justify-end"},_hoisted_12$4={class:"grid grid-cols-1 lg:grid-cols-2 my-5 h-[60vh] lg:h-96 gap-4 text-center"},_hoisted_13$4={class:"overflow-auto h-full flex flex-col"},_hoisted_14$3={class:"sticky top-0 z-10 bg-white p-2 dark:bg-gray-900"},_hoisted_15$2={key:0,class:"m-4 flex-1 flex flex-col items-center justify-center border-2 rounded-lg border-dashed"},_hoisted_16$2={for:"json-import-input",class:"flex-1 w-full flex flex-col cursor-pointer items-center justify-center rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800"},_hoisted_17$1={key:1,class:"mt-4 border rounded-md bg-gray-50 p-2 dark:bg-gray-800"},_hoisted_18$1={class:"text-left text-sm text-gray-500 dark:text-gray-400"},_hoisted_19$1={class:"overflow-auto h-full flex flex-col"},_hoisted_20$1={key:0},_hoisted_21$1={class:"space-y-2"},_hoisted_22$1=["id","onUpdate:modelValue"],_hoisted_23$1=["for"],_hoisted_24$1={key:1,class:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400"},_hoisted_25$1={class:"flex-1 col-span-1 lg:col-span-2 flex justify-end"},_hoisted_26$1={class:"max-h-[70vh] overflow-hidden"},_hoisted_27={class:"h-full overflow-auto border rounded-md bg-gray-50 p-4 dark:bg-gray-800"},_hoisted_28={class:"break-all text-left text-sm text-gray-500 dark:text-gray-400"},_sfc_main$H=defineComponent({__name:"EditorStateDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const o=e,a=t,n=useThemeStore(),s=useUIStore(),i=usePostStore(),f=useCssEditorStore(),u=useRenderStore();watch(()=>o.visible,y=>{y&&w()});function g(y){y||a("close")}const p=ref("import"),h=ref([{value:"import",label:"导入配置"},{value:"export",label:"导出配置"}]),x=ref({data:{},selected:{}});function _(){return{isDark:s.isDark,isEditOnLeft:s.isEditOnLeft,isOpenRightSlider:s.isOpenRightSlider,isOpenPostSlider:s.isOpenPostSlider,showAIToolbox:s.showAIToolbox,theme:n.theme,fontFamily:n.fontFamily,fontSize:n.fontSize,primaryColor:n.primaryColor,codeBlockTheme:n.codeBlockTheme,legend:n.legend,isMacCodeBlock:n.isMacCodeBlock,isShowLineNumber:n.isShowLineNumber,isCiteStatus:n.isCiteStatus,isCountStatus:n.isCountStatus,isUseIndent:n.isUseIndent,isUseJustify:n.isUseJustify,currentPostId:i.currentPostId,currentPostIndex:i.currentPostIndex,posts:i.posts,cssContentConfig:f.cssContentConfig,titleList:u.titleList,readingTime:u.readingTime,isShowCssEditor:s.isShowCssEditor,isShowInsertFormDialog:s.isShowInsertFormDialog,isShowUploadImgDialog:s.isShowUploadImgDialog,isShowInsertMpCardDialog:s.isShowInsertMpCardDialog,aiDialogVisible:s.aiDialogVisible,aiImageDialogVisible:s.aiImageDialogVisible}}async function w(){try{const y=_();x.value={data:y,selected:Object.keys(y).reduce((E,R)=>(E[R]=!0,E),{})}}catch{}}const C=computed(()=>x.value.data?Object.keys(x.value.data).reduce((y,E)=>(x.value.selected[E]&&(y[E]=x.value.data[E]),y),{}):{}),l=ref({data:{},selected:{}}),m=ref(null),k=computed(()=>l.value.data?Object.keys(l.value.data).reduce((y,E)=>(l.value.selected[E]&&(y[E]=l.value.data[E]),y),{}):{});function N(){const y=Object.keys(x.value.data).reduce((E,R)=>(x.value.selected[R]&&(E[R]=x.value.data[R]),E),{});downloadFile(JSON.stringify(y,null,2),"exported_config.json","application/json"),toast.success("配置文件导出成功"),a("close")}const v=ref(!1),V=computed(()=>p.value==="export"?C.value:p.value==="import"?k.value:{});function $(y){copyPlain(y),toast.success("复制成功")}const A=ref(null);function S(){A.value?.click()}function H(y){const E=y.target;if(!E.files?.length)return;const R=E.files[0],F=new FileReader;F.onload=T=>{try{const ae=T.target?.result,se=JSON.parse(ae);if(typeof se!="object"||Array.isArray(se)){toast.error("导入的文件格式不正确");return}const K=Object.keys(x.value.data).concat(Object.keys(l.value.data)),Z=Object.keys(se).reduce((le,j)=>(K.includes(j)&&(le[j]=se[j]),le),{});if(Object.keys(Z).length===0){toast.error("导入的文件无可应用项目配置");return}m.value=se,l.value={data:se,selected:Object.keys(se).reduce((le,j)=>(le[j]=!0,le),{})},toast.success("配置文件导入成功")}catch{toast.error("文件解析失败，请检查JSON格式")}},F.readAsText(R),E.value=""}function G(){k.value&&(Object.keys(l.value.selected).forEach(y=>{if(l.value.selected[y]&&l.value.data?.[y]!==void 0){const E=l.value.data[y];y==="isDark"?s.isDark=E:y==="isEditOnLeft"?s.isEditOnLeft=E:y==="isOpenRightSlider"?s.isOpenRightSlider=E:y==="isOpenPostSlider"?s.isOpenPostSlider=E:y==="showAIToolbox"?s.showAIToolbox=E:y==="theme"?n.theme=E:y==="fontFamily"?n.fontFamily=E:y==="fontSize"?n.fontSize=E:y==="primaryColor"?n.primaryColor=E:y==="codeBlockTheme"?n.codeBlockTheme=E:y==="legend"?n.legend=E:y==="isMacCodeBlock"?n.isMacCodeBlock=E:y==="isShowLineNumber"?n.isShowLineNumber=E:y==="isCiteStatus"?n.isCiteStatus=E:y==="isCountStatus"?n.isCountStatus=E:y==="isUseIndent"?n.isUseIndent=E:y==="isUseJustify"?n.isUseJustify=E:y==="currentPostId"?i.currentPostId=E:y==="currentPostIndex"?i.currentPostIndex=E:y==="posts"?i.posts=E:y==="cssContentConfig"?f.cssContentConfig=E:y==="titleList"?u.titleList=E:y==="readingTime"?u.readingTime=E:y==="isShowCssEditor"?s.isShowCssEditor=E:y==="isShowInsertFormDialog"?s.isShowInsertFormDialog=E:y==="isShowUploadImgDialog"?s.isShowUploadImgDialog=E:y==="isShowInsertMpCardDialog"?s.isShowInsertMpCardDialog=E:y==="aiDialogVisible"?s.aiDialogVisible=E:y==="aiImageDialogVisible"&&(s.aiImageDialogVisible=E)}}),toast.success("配置应用成功，请刷新页面查看效果"),a("close"))}return(y,E)=>{const R=_sfc_main$1C,F=_sfc_main$1D,T=_sfc_main$1E,ae=_sfc_main$1c,se=_sfc_main$1d,K=_sfc_main$1Q,Z=_sfc_main$1o,le=_sfc_main$1q,j=_sfc_main$1J,D=_sfc_main$1K,ie=_sfc_main$1I;return openBlock(),createElementBlock(Fragment,null,[createVNode(D,{open:o.visible,"onUpdate:open":g},{default:withCtx(()=>[createVNode(j,{class:"md:max-w-2/3"},{default:withCtx(()=>[createVNode(T,null,{default:withCtx(()=>[createVNode(R,null,{default:withCtx(()=>[...E[5]||(E[5]=[createTextVNode("导入/导出项目配置",-1)])]),_:1}),createVNode(F,null,{default:withCtx(()=>[...E[6]||(E[6]=[createTextVNode(" 导入的配置将覆盖当前项目的配置，请谨慎操作。 ",-1)])]),_:1})]),_:1}),createVNode(le,{modelValue:unref(p),"onUpdate:modelValue":E[2]||(E[2]=de=>isRef(p)?p.value=de:null),class:"w-full"},{default:withCtx(()=>[createVNode(se,null,{default:withCtx(()=>[createVNode(ae,{value:"import"},{default:withCtx(()=>[...E[7]||(E[7]=[createTextVNode(" 导入配置 ",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(h).filter(de=>de.value!=="import"),de=>(openBlock(),createBlock(ae,{key:de.value,value:de.value},{default:withCtx(()=>[createTextVNode(toDisplayString(de.label),1)]),_:2},1032,["value"]))),128))]),_:1}),createVNode(Z,{value:"export"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$f,[E[9]||(E[9]=createBaseVNode("p",{class:"bg-white p-2 dark:bg-gray-900"}," 请选择需要导出的配置 ",-1)),unref(x).data?(openBlock(),createElementBlock("ul",_hoisted_3$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(x).data,(de,te)=>(openBlock(),createElementBlock("li",{key:te,class:"space-x-2 flex items-center"},[withDirectives(createBaseVNode("input",{id:`export-${te}`,"onUpdate:modelValue":L=>unref(x).selected[te]=L,type:"checkbox",class:"h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500"},null,8,_hoisted_4$e),[[vModelCheckbox,unref(x).selected[te]]]),createBaseVNode("label",{for:`export-${te}`,class:"text-sm text-gray-700 dark:text-gray-300"},toDisplayString(unref(storeLabels)[te]||te),9,_hoisted_5$c)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_6$b,[...E[8]||(E[8]=[createBaseVNode("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 加载中... ",-1)])]))]),createBaseVNode("div",_hoisted_7$7,[createBaseVNode("p",_hoisted_8$7,[E[10]||(E[10]=createBaseVNode("span",null,"当前 JSON 预览",-1)),createVNode(unref(Expand),{class:"absolute right-2 top-2 cursor-pointer p-1 text-gray-500 dark:text-gray-400",onClick:E[0]||(E[0]=de=>v.value=!0)})]),createBaseVNode("div",_hoisted_9$6,[createBaseVNode("pre",_hoisted_10$4,toDisplayString(JSON.stringify(unref(C),null,2)),1)])]),createBaseVNode("div",_hoisted_11$4,[createVNode(K,{type:"primary",disabled:Object.values(unref(x).selected).every(de=>!de),onClick:N},{default:withCtx(()=>[...E[11]||(E[11]=[createTextVNode(" 导出选中配置 ",-1)])]),_:1},8,["disabled"])])])]),_:1}),createVNode(Z,{value:"import"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_12$4,[createBaseVNode("div",_hoisted_13$4,[createBaseVNode("p",_hoisted_14$3,[E[12]||(E[12]=createBaseVNode("span",null,"导入 JSON 配置文件",-1)),createVNode(unref(Expand),{class:"absolute right-2 top-2 cursor-pointer p-1 text-gray-500 dark:text-gray-400",onClick:E[1]||(E[1]=de=>v.value=!0)})]),unref(m)?(openBlock(),createElementBlock("div",_hoisted_17$1,[createBaseVNode("pre",_hoisted_18$1,toDisplayString(JSON.stringify(unref(k),null,2)),1)])):(openBlock(),createElementBlock("div",_hoisted_15$2,[createBaseVNode("input",{id:"json-import-input",ref_key:"fileInputRef",ref:A,type:"file",accept:".json",class:"hidden",onChange:H},null,544),createBaseVNode("label",_hoisted_16$2,[createVNode(unref(CloudUpload),{class:"mb-2 size-16 text-gray-500 dark:text-gray-400"}),E[13]||(E[13]=createBaseVNode("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," 点击或拖拽 JSON 文件到此处 ",-1)),E[14]||(E[14]=createBaseVNode("span",{class:"mt-1 text-xs text-gray-400 dark:text-gray-500"}," 支持格式: .json ",-1))])]))]),createBaseVNode("div",_hoisted_19$1,[E[15]||(E[15]=createBaseVNode("p",{class:"sticky top-0 z-10 bg-white p-2 dark:bg-gray-900"}," 选择要导入的配置项 ",-1)),unref(m)?(openBlock(),createElementBlock("div",_hoisted_20$1,[createBaseVNode("ul",_hoisted_21$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(l).data,(de,te)=>(openBlock(),createElementBlock("li",{key:te,class:"space-x-2 flex items-center"},[withDirectives(createBaseVNode("input",{id:`import-${te}`,"onUpdate:modelValue":L=>unref(l).selected[te]=L,type:"checkbox",class:"h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500"},null,8,_hoisted_22$1),[[vModelCheckbox,unref(l).selected[te]]]),createBaseVNode("label",{for:`import-${te}`,class:"text-sm text-gray-700 dark:text-gray-300"},toDisplayString(unref(storeLabels)[te]||te),9,_hoisted_23$1)]))),128))])])):(openBlock(),createElementBlock("div",_hoisted_24$1," 请先导入JSON文件 "))]),createBaseVNode("div",_hoisted_25$1,[createBaseVNode("input",{id:"json-import-input",ref_key:"fileInputRef",ref:A,type:"file",accept:".json",class:"hidden",onChange:H},null,544),createVNode(K,{variant:"ghost",class:"mr-2",onClick:S},{default:withCtx(()=>[...E[16]||(E[16]=[createTextVNode(" 重新导入 ",-1)])]),_:1}),createVNode(K,{disabled:Object.values(unref(l).selected).every(de=>!de),onClick:G},{default:withCtx(()=>[...E[17]||(E[17]=[createTextVNode(" 应用选中配置 ",-1)])]),_:1},8,["disabled"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["open"]),createVNode(D,{open:unref(v),"onUpdate:open":E[4]||(E[4]=de=>v.value=de)},{default:withCtx(()=>[createVNode(j,{class:"max-h-[90vh] max-w-[90vw] overflow-auto"},{default:withCtx(()=>[createVNode(T,null,{default:withCtx(()=>[createVNode(R,null,{default:withCtx(()=>[...E[18]||(E[18]=[createTextVNode("JSON 全屏预览",-1)])]),_:1}),createVNode(F,null,{default:withCtx(()=>[...E[19]||(E[19]=[createTextVNode(" 当前配置的完整 JSON 数据 ",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_26$1,[createBaseVNode("div",_hoisted_27,[createBaseVNode("pre",_hoisted_28,toDisplayString(JSON.stringify(unref(V),null,2)),1)])]),createVNode(ie,null,{default:withCtx(()=>[createVNode(K,{variant:"outline",onClick:E[3]||(E[3]=de=>$(JSON.stringify(unref(V),null,2)))},{default:withCtx(()=>[...E[20]||(E[20]=[createTextVNode(" 复制 JSON 到剪贴板 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),_hoisted_1$h={class:"text-center"},_hoisted_2$e={class:"grid grid-cols-2 my-5 gap-4"},_hoisted_3$e=["src","alt"],_sfc_main$G=defineComponent({__name:"FundDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const o=e,a=t,n=[{name:"yanglbme",imageUrl:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/support1.jpg",altText:"赞赏二维码 1"},{name:"yangfong",imageUrl:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/support2.jpg",altText:"赞赏二维码 2"}];function s(i){i||a("close")}return(i,f)=>{const u=_sfc_main$1C,g=_sfc_main$1E,p=_sfc_main$1Q,h=_sfc_main$1I,x=_sfc_main$1J,_=_sfc_main$1K;return openBlock(),createBlock(_,{open:o.visible,"onUpdate:open":s},{default:withCtx(()=>[createVNode(x,null,{default:withCtx(()=>[createVNode(g,null,{default:withCtx(()=>[createVNode(u,null,{default:withCtx(()=>[...f[1]||(f[1]=[createTextVNode("赞赏",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$h,[f[2]||(f[2]=createBaseVNode("p",null,"若觉得项目不错，可以通过以下方式支持我们～",-1)),createBaseVNode("div",_hoisted_2$e,[(openBlock(),createElementBlock(Fragment,null,renderList(n,w=>createBaseVNode("div",{key:w.name,class:"text-center"},[createBaseVNode("img",{src:w.imageUrl,alt:w.altText,class:"mx-auto",style:{width:"90%","max-width":"200px","border-radius":"10%"}},null,8,_hoisted_3$e)])),64))])]),createVNode(h,{class:"sm:justify-evenly"},{default:withCtx(()=>[createVNode(p,{onClick:f[0]||(f[0]=w=>a("close"))},{default:withCtx(()=>[...f[3]||(f[3]=[createTextVNode(" 关闭 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),_sfc_main$F=defineComponent({__name:"AboutDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const o=e,a=t;function n(f){f||a("close")}const s=[{label:"GitHub 仓库",url:"https://github.com/doocs/md"},{label:"Gitee 仓库",url:"https://gitee.com/doocs/md"},{label:"GitCode 仓库",url:"https://gitcode.com/doocs/md"}];function i(f){window.open(f,"_blank")}return(f,u)=>{const g=_sfc_main$1C,p=_sfc_main$1E,h=_sfc_main$1Q,x=_sfc_main$1I,_=_sfc_main$1J,w=_sfc_main$1K;return openBlock(),createBlock(w,{open:o.visible,"onUpdate:open":n},{default:withCtx(()=>[createVNode(_,null,{default:withCtx(()=>[createVNode(p,null,{default:withCtx(()=>[createVNode(g,null,{default:withCtx(()=>[...u[0]||(u[0]=[createTextVNode("关于",-1)])]),_:1})]),_:1}),u[1]||(u[1]=createBaseVNode("div",{class:"text-center"},[createBaseVNode("h3",null,"一款高度简洁的微信 Markdown 编辑器"),createBaseVNode("p",null,"扫码关注公众号 Doocs，原创技术内容第一时间推送！"),createBaseVNode("img",{class:"mx-auto my-5",src:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/1648303220922-7e14aefa-816e-44c1-8604-ade709ca1c69.png",alt:"Doocs Markdown 编辑器",style:{width:"40%"}})],-1)),createVNode(x,{class:"sm:justify-evenly flex flex-wrap gap-2"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(s,C=>createVNode(h,{key:C.url,onClick:l=>i(C.url)},{default:withCtx(()=>[createTextVNode(toDisplayString(C.label),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1},8,["open"])}}}),_hoisted_1$g={class:"mt-4"},_hoisted_2$d={key:0,class:"py-4 text-center"},_hoisted_3$d={key:1,class:"max-h-[400px] flex flex-col overflow-y-auto"},_hoisted_4$d={class:"mb-2 flex items-center gap-2"},_hoisted_5$b=["src"],_hoisted_6$a=["href"],_sfc_main$E=defineComponent({__name:"PostTaskDialog",props:{post:{},open:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const o=e,a=t,n=computed({get:()=>o.open,set:u=>a("update:open",u)}),s=ref(null),i=ref(!1);async function f(){if(!o.post)return;const u={post:{title:o.post.title,content:o.post.content,markdown:o.post.markdown,thumb:o.post.thumb,desc:o.post.desc},accounts:o.post.accounts.filter(h=>h.checked)},g=h=>{s.value=h},p=()=>{i.value=!1};try{window.$cose?.addTask(u,g,p)}catch(h){console.error("发布失败:",h)}}return watch(()=>o.open,u=>{u&&f()}),(u,g)=>(openBlock(),createBlock(unref(_sfc_main$1K),{open:unref(n),"onUpdate:open":g[0]||(g[0]=p=>isRef(n)?n.value=p:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1J),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$1E),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$1C),null,{default:withCtx(()=>[...g[1]||(g[1]=[createTextVNode("提交发布任务",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$g,[unref(s)?(openBlock(),createElementBlock("div",_hoisted_3$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s)?.accounts,p=>(openBlock(),createElementBlock("div",{key:p.uid+p.displayName,class:"border-b py-4 last:border-b-0"},[createBaseVNode("div",_hoisted_4$d,[p.icon?(openBlock(),createElementBlock("img",{key:0,src:p.icon,class:"object-cover h-5 w-5",alt:""},null,8,_hoisted_5$b)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(p.title)+" - "+toDisplayString(p.displayName||p.home),1)]),createBaseVNode("div",{class:normalizeClass(["w-full flex-1 gap-2 overflow-auto pl-7 text-sm",{"text-yellow-600":p.status==="uploading","text-red-600":p.status==="failed","text-green-600":p.status==="done"}])},[p.status==="uploading"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(p.msg||"发布中"),1)],64)):createCommentVNode("",!0),p.status==="failed"?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(" 同步失败, 错误内容："+toDisplayString(p.error),1)],64)):createCommentVNode("",!0),p.status==="done"&&p.editResp?(openBlock(),createElementBlock(Fragment,{key:2},[g[2]||(g[2]=createTextVNode(" 同步成功 ",-1)),p.type!=="wordpress"&&p.editResp?(openBlock(),createElementBlock("a",{key:0,href:p.editResp.draftLink,class:"ml-2 text-blue-500 hover:underline",referrerPolicy:"no-referrer",target:"_blank"},"查看草稿",8,_hoisted_6$a)):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],2)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_2$d," 等待发布.. "))])]),_:1})]),_:1},8,["open"]))}}),__unplugin_components_14=_export_sfc(_sfc_main$E,[["__scopeId","data-v-f1fb6789"]]),_sfc_main$D=defineComponent({__name:"AlertTitle",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("h5",{class:normalizeClass(unref(cn)("mb-1 font-medium leading-none tracking-tight",t.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$C=defineComponent({__name:"AlertDescription",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("text-sm [&_p]:leading-relaxed",t.class))},[renderSlot(o.$slots,"default")],2))}}),alertVariants=cva("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_sfc_main$B=defineComponent({__name:"Alert",props:{class:{},variant:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)(unref(alertVariants)({variant:e.variant}),t.class)),role:"alert"},[renderSlot(o.$slots,"default")],2))}}),_hoisted_1$f={class:"w-full flex items-center gap-4"},_hoisted_2$c={class:"w-full flex items-center gap-4"},_hoisted_3$c={class:"w-full flex items-start gap-4"},_hoisted_4$c={class:"w-full flex items-start gap-4"},_hoisted_5$a={class:"flex-1 space-y-3"},_hoisted_6$9={class:"flex items-center gap-2 mb-2"},_hoisted_7$6=["onClick"],_hoisted_8$6={class:"text-xs"},_hoisted_9$5={class:"flex items-center gap-1 ml-2"},_hoisted_10$3={class:"grid grid-cols-2 gap-x-8 gap-y-2 pl-5"},_hoisted_11$3=["src"],_hoisted_12$3={class:"text-sm font-medium"},_hoisted_13$3=["src"],_hoisted_14$2={class:"text-sm text-muted-foreground"},_sfc_main$A=defineComponent({inheritAttrs:!1,__name:"PostInfo",setup(e){const t=useEditorStore(),{editor:o}=storeToRefs(t),a=useRenderStore(),{output:n}=storeToRefs(a),s=useUIStore(),{isMobile:i}=storeToRefs(s),f=ref(!1),u=ref(!1),g=ref([]),p=ref(!1),h=ref({title:"",desc:"",thumb:"",content:"",markdown:"",accounts:[]}),x=computed(()=>u.value&&h.value.accounts.some(G=>G.checked)),_=[{name:"媒体平台",platforms:["wechat","toutiao","zhihu","baijiahao","wangyihao","sohu","weibo","bilibili","sspai","twitter","douyin","xiaohongshu"]},{name:"博客平台",platforms:["csdn","cnblogs","juejin","medium","cto51","segmentfault","oschina","infoq","jianshu"]},{name:"云平台及开发者社区",platforms:["tencentcloud","aliyun","huaweicloud","huaweidev","qianfan","alipayopen","modelscope","volcengine","elecfans"]}],w=ref(new Set(["云平台及开发者社区"]));function C(G){w.value.has(G)?w.value.delete(G):w.value.add(G)}const l=computed(()=>_.map(G=>({name:G.name,accounts:G.platforms.map(y=>h.value.accounts.find(E=>E.type===y)).filter(y=>y!==void 0)})));function m(G){const y=G.filter(E=>E.loggedIn);return y.length>0&&y.every(E=>E.checked)}function k(G){const y=G.filter(R=>R.loggedIn),E=y.filter(R=>R.checked).length;return E>0&&E<y.length}function N(G){const y=G.filter(R=>R.loggedIn),E=y.every(R=>R.checked);y.forEach(R=>R.checked=!E)}async function v(){u.value&&g.value.length===0&&await V();let G={thumb:"",title:"",desc:"",content:"",markdown:"",accounts:[]};const y=g.value.filter(E=>!["ipfs"].includes(E.type));try{G={thumb:document.querySelector("#output img")?.src??"",title:[1,2,3,4,5,6].map(E=>document.querySelector(`#output h${E}`)).find(E=>E)?.textContent??"",desc:document.querySelector("#output p")?.textContent?.trim()??"",content:n.value,markdown:o.value?.state.doc.toString()??"",accounts:y}}catch(E){console.log("error",E)}finally{h.value={...G}}}async function V(){return new Promise(G=>{window.$cose!==void 0?window.$cose.getAccounts(y=>{g.value=y.map(E=>({...E,checked:!1})),G()}):G()})}function $(){h.value.accounts=h.value.accounts.filter(G=>G.checked),p.value=!0,f.value=!1}function A(G){G||(f.value=!1)}function S(G){return{csdn:"https://blog.csdn.net",juejin:"https://juejin.cn",wechat:"https://mp.weixin.qq.com",zhihu:"https://www.zhihu.com/signin",toutiao:"https://mp.toutiao.com",segmentfault:"https://segmentfault.com/user/login",cnblogs:"https://account.cnblogs.com/signin",oschina:"https://www.oschina.net/home/login",cto51:"https://home.51cto.com/index",infoq:"https://account.geekbang.org/infoq/login/sms",jianshu:"https://www.jianshu.com/sign_in",baijiahao:"https://baijiahao.baidu.com",wangyihao:"https://mp.163.com/login.html",tencentcloud:"https://cloud.tencent.com/developer",medium:"https://medium.com/m/signin",sspai:"https://sspai.com/login",sohu:"https://mp.sohu.com/mpfe/v4/login",bilibili:"https://passport.bilibili.com/login",weibo:"https://passport.weibo.com/sso/signin",aliyun:"https://account.aliyun.com/login/login.htm",huaweicloud:"https://auth.huaweicloud.com/authui/login.html?service=https%3A%2F%2Fbbs.huaweicloud.com%2F&locale=zh-cn#/login",huaweidev:"https://developer.huawei.com/consumer/cn/blog/create",twitter:"https://x.com/i/flow/login",qianfan:"https://qianfan.cloud.baidu.com/qianfandev/topic/create",alipayopen:"https://open.alipay.com/portal/forum/post/add#article",modelscope:"https://modelscope.cn/learn/create",volcengine:"https://developer.volcengine.com/articles/draft",douyin:"https://creator.douyin.com/creator-micro/content/post/article?default-tab=5&enter_from=publish_page&media_type=article&type=new",xiaohongshu:"https://creator.xiaohongshu.com/publish/publish?from=menu&target=article",elecfans:"https://www.elecfans.com/d/article/md/"}[G]||"#"}function H(){if(window.$cose!==void 0){u.value=!0;return}let G=0;const y=setInterval(async()=>{if(window.$cose!==void 0){u.value=!0,await V(),clearInterval(y);return}G++,G>10&&clearInterval(y)},500)}return onBeforeMount(()=>{H()}),(G,y)=>{const E=_sfc_main$1Q,R=_sfc_main$Q,F=_sfc_main$1C,T=_sfc_main$1D,ae=_sfc_main$1E,se=_sfc_main$C,K=_sfc_main$B,Z=_sfc_main$D,le=_sfc_main$1F,j=_sfc_main$1G,D=_sfc_main$1H,ie=_sfc_main$1I,de=_sfc_main$1J,te=_sfc_main$1K,L=__unplugin_components_14;return openBlock(),createElementBlock("div",normalizeProps(guardReactiveProps(G.$attrs)),[createVNode(te,{open:unref(f),"onUpdate:open":[y[5]||(y[5]=ee=>isRef(f)?f.value=ee:null),A]},{default:withCtx(()=>[createVNode(R,null,{default:withCtx(()=>[unref(i)?createCommentVNode("",!0):(openBlock(),createBlock(E,{key:0,variant:"outline",class:"h-9",onClick:v},{default:withCtx(()=>[createVNode(unref(Send),{class:"mr-2 h-4 w-4"}),y[7]||(y[7]=createTextVNode(" 发布 ",-1))]),_:1}))]),_:1}),createVNode(de,{class:"!w-[750px] !max-w-[95vw] max-h-[85vh] overflow-y-auto"},{default:withCtx(()=>[createVNode(ae,null,{default:withCtx(()=>[createVNode(F,null,{default:withCtx(()=>[...y[8]||(y[8]=[createTextVNode("发布",-1)])]),_:1}),createVNode(T,null,{default:withCtx(()=>[...y[9]||(y[9]=[createTextVNode(" 将文章发布到多个平台 ",-1)])]),_:1})]),_:1}),createVNode(K,null,{default:withCtx(()=>[createVNode(unref(Info),{class:"h-4 w-4"}),createVNode(se,null,{default:withCtx(()=>[...y[10]||(y[10]=[createTextVNode(" 此功能由 ",-1),createBaseVNode("a",{href:"https://github.com/doocs/cose",target:"_blank",class:"underline"}," GitHub 开源插件 COSE",-1),createTextVNode(" 支持，完全本地运行，不收集、不存储任何用户信息。",-1),createBaseVNode("br",null,null,-1),createTextVNode("如需添加更多平台或改善同步准确度，欢迎提 ",-1),createBaseVNode("a",{href:"https://github.com/doocs/cose/issues",target:"_blank",class:"underline"},"Issue",-1),createTextVNode(" 或 PR。 ",-1)])]),_:1})]),_:1}),unref(u)?createCommentVNode("",!0):(openBlock(),createBlock(K,{key:0},{default:withCtx(()=>[createVNode(unref(Info),{class:"h-4 w-4"}),createVNode(Z,null,{default:withCtx(()=>[...y[11]||(y[11]=[createTextVNode("未检测到插件",-1)])]),_:1}),createVNode(se,null,{default:withCtx(()=>[...y[12]||(y[12]=[createTextVNode(" 请安装 ",-1),createBaseVNode("a",{href:"https://chromewebstore.google.com/detail/ilhikcdphhpjofhlnbojifbihhfmmhfk",target:"_blank",class:"underline text-primary"},"cose 文章同步助手",-1),createTextVNode(" 浏览器扩展 ",-1)])]),_:1})]),_:1})),createBaseVNode("div",_hoisted_1$f,[createVNode(le,{for:"thumb",class:"w-10 text-end"},{default:withCtx(()=>[...y[13]||(y[13]=[createTextVNode(" 封面 ",-1)])]),_:1}),createVNode(j,{id:"thumb",modelValue:unref(h).thumb,"onUpdate:modelValue":y[0]||(y[0]=ee=>unref(h).thumb=ee),placeholder:"自动提取第一张图"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_2$c,[createVNode(le,{for:"title",class:"w-10 text-end"},{default:withCtx(()=>[...y[14]||(y[14]=[createTextVNode(" 标题 ",-1)])]),_:1}),createVNode(j,{id:"title",modelValue:unref(h).title,"onUpdate:modelValue":y[1]||(y[1]=ee=>unref(h).title=ee),placeholder:"自动提取第一个标题"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_3$c,[createVNode(le,{for:"desc",class:"w-10 text-end"},{default:withCtx(()=>[...y[15]||(y[15]=[createTextVNode(" 描述 ",-1)])]),_:1}),createVNode(D,{id:"desc",modelValue:unref(h).desc,"onUpdate:modelValue":y[2]||(y[2]=ee=>unref(h).desc=ee),placeholder:"自动提取第一个段落"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_4$c,[createVNode(le,{class:"w-10 text-end"},{default:withCtx(()=>[...y[16]||(y[16]=[createTextVNode(" 平台 ",-1)])]),_:1}),createBaseVNode("div",_hoisted_5$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(l),ee=>(openBlock(),createElementBlock("div",{key:ee.name},[createBaseVNode("div",_hoisted_6$9,[createBaseVNode("div",{class:"flex items-center gap-1 cursor-pointer select-none text-sm font-medium text-muted-foreground hover:text-foreground",onClick:fe=>C(ee.name)},[unref(w).has(ee.name)?(openBlock(),createBlock(unref(ChevronRight),{key:1,class:"h-4 w-4"})):(openBlock(),createBlock(unref(ChevronDown),{key:0,class:"h-4 w-4"})),createBaseVNode("span",null,toDisplayString(ee.name),1),createBaseVNode("span",_hoisted_8$6,"("+toDisplayString(ee.accounts.length)+")",1)],8,_hoisted_7$6),createBaseVNode("div",_hoisted_9$5,[createVNode(unref(Wv),{checked:m(ee.accounts)?!0:k(ee.accounts)?"indeterminate":!1,class:"bg-background hover:bg-muted h-[18px] w-[18px] flex shrink-0 appearance-none items-center justify-center border border-gray-300 rounded-[3px] outline-hidden",onClick:withModifiers(fe=>N(ee.accounts),["stop"])},{default:withCtx(()=>[createVNode(unref(jv),null,{default:withCtx(()=>[m(ee.accounts)?(openBlock(),createBlock(unref(Check),{key:0,class:"h-3 w-3"})):k(ee.accounts)?(openBlock(),createBlock(unref(Minus),{key:1,class:"h-3 w-3"})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["checked","onClick"]),y[17]||(y[17]=createBaseVNode("span",{class:"text-xs text-muted-foreground"},"全选",-1))])]),withDirectives(createBaseVNode("div",_hoisted_10$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ee.accounts,fe=>(openBlock(),createElementBlock("div",{key:fe.uid,class:"flex items-center gap-2 whitespace-nowrap"},[createVNode(unref(Wv),{checked:fe.checked,"onUpdate:checked":pe=>fe.checked=pe,disabled:!fe.loggedIn,class:"bg-background hover:bg-muted h-[18px] w-[18px] flex shrink-0 appearance-none items-center justify-center border border-gray-300 rounded-[3px] outline-hidden disabled:opacity-50 disabled:cursor-not-allowed"},{default:withCtx(()=>[createVNode(unref(jv),null,{default:withCtx(()=>[fe.checked?(openBlock(),createBlock(unref(Check),{key:0,class:"h-3 w-3"})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["checked","onUpdate:checked","disabled"]),createBaseVNode("img",{src:fe.icon,alt:"",class:"inline-block h-[16px] w-[16px] shrink-0"},null,8,_hoisted_11$3),createBaseVNode("span",_hoisted_12$3,toDisplayString(fe.title),1),fe.loggedIn?(openBlock(),createElementBlock(Fragment,{key:0},[fe.avatar?(openBlock(),createElementBlock("img",{key:0,src:fe.avatar,alt:"",class:"ml-1 h-4 w-4 rounded-full object-cover",referrerpolicy:"no-referrer",onError:y[3]||(y[3]=pe=>pe.target.style.display="none")},null,40,_hoisted_13$3)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_14$2,"@"+toDisplayString(fe.displayName),1)],64)):(openBlock(),createBlock(unref(O),{key:1,as:"a",href:S(fe.type),target:"_blank",class:"ml-1 text-sm text-muted-foreground hover:underline"},{default:withCtx(()=>[...y[18]||(y[18]=[createTextVNode(" 登录 ",-1)])]),_:1},8,["href"]))]))),128))],512),[[vShow,!unref(w).has(ee.name)]])]))),128))])]),createVNode(ie,null,{default:withCtx(()=>[createVNode(E,{variant:"outline",onClick:y[4]||(y[4]=ee=>f.value=!1)},{default:withCtx(()=>[...y[19]||(y[19]=[createTextVNode(" 取 消 ",-1)])]),_:1}),createVNode(E,{disabled:!unref(x),onClick:$},{default:withCtx(()=>[...y[20]||(y[20]=[createTextVNode(" 确 定 ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(L,{open:unref(p),"onUpdate:open":y[6]||(y[6]=ee=>isRef(p)?p.value=ee:null),post:unref(h)},null,8,["open","post"])],16)}}}),_sfc_main$z=defineComponent({__name:"MenubarMenu",props:{value:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(Gh),normalizeProps(guardReactiveProps(t)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$y=defineComponent({__name:"MenubarContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:8},align:{default:"start"},alignOffset:{default:-4},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Yh),null,{default:withCtx(()=>[createVNode(unref(Xh),mergeProps(unref(a),{class:unref(cn)("z-50 min-w-48 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$x=defineComponent({__name:"MenubarTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(qh),mergeProps(unref(a),{class:unref(cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-hidden hover:bg-accent focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$w=defineComponent({__name:"Menubar",props:{modelValue:{},defaultValue:{},dir:{},loop:{type:Boolean},class:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(Uh),mergeProps(unref(s),{class:unref(cn)("flex h-10 items-center gap-x-1 rounded-md border bg-background p-1",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$v=defineComponent({__name:"MenubarSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(sy),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$u=defineComponent({__name:"MenubarSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(Yh),null,{default:withCtx(()=>[createVNode(unref(ry),mergeProps(unref(s),{class:unref(cn)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$t=defineComponent({__name:"MenubarSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(ey),mergeProps({class:unref(cn)("-mx-1 my-1 h-px bg-muted",t.class)},unref(a)),null,16,["class"]))}}),_sfc_main$s=defineComponent({__name:"MenubarItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(Jh),mergeProps(unref(s),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e.inset&&"pl-8",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$r=defineComponent({__name:"MenubarShortcut",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(cn)("ml-auto text-xs tracking-widest text-muted-foreground",t.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$q=defineComponent({__name:"MenubarSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(iy),mergeProps(unref(a),{class:unref(cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e.inset&&"pl-8",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default"),createVNode(unref(ChevronRight),{class:"ml-auto h-4 w-4"})]),_:3},16,["class"]))}}),_hoisted_1$e={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_2$b={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_3$b={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_4$b={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_5$9={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_6$8={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_7$5={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_8$5={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_9$4={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_10$2={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_11$2={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_12$2={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_13$2={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_14$1={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_15$1={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_16$1={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_sfc_main$p=defineComponent({__name:"EditDropdown",props:{asSub:{type:Boolean,default:!1}},emits:["copy"],setup(e,{emit:t}){const o=e,a=t,{asSub:n}=toRefs(o),s=useEditorStore(),i=usePostStore(),f=useUIStore(),{editor:u}=storeToRefs(s);async function g(){const l=await s.formatContent();l&&i.currentPost&&i.updatePostContent(i.currentPostId,l)}async function p(){const l=s.getSelection();copyPlain(l)}async function h(){try{const l=await navigator.clipboard.readText();s.replaceSelection(l)}catch(l){console.log("粘贴失败",l)}}function x(){if(u.value)try{const l=toRaw(u.value);undoAction(l),l.focus()}catch(l){console.error("Undo failed:",l)}}function _(){if(u.value)try{const l=toRaw(u.value);redoAction(l),l.focus()}catch(l){console.error("Redo failed:",l)}}function w(){if(u.value){const l=u.value.state.selection.main,m=u.value.state.doc.sliceString(l.from,l.to).trim();f.openSearchTab(m)}}function C(){if(u.value){const l=u.value.state.selection.main,m=u.value.state.doc.sliceString(l.from,l.to).trim();f.openSearchTab(m,!0)}}return(l,m)=>{const k=_sfc_main$q,N=_sfc_main$r,v=_sfc_main$s,V=_sfc_main$t,$=_sfc_main$u,A=_sfc_main$v,S=_sfc_main$x,H=_sfc_main$y,G=_sfc_main$z;return unref(n)?(openBlock(),createBlock(A,{key:0},{default:withCtx(()=>[createVNode(k,null,{default:withCtx(()=>[...m[24]||(m[24]=[createTextVNode(" 编辑 ",-1)])]),_:1}),createVNode($,{class:"w-64"},{default:withCtx(()=>[createVNode(v,{onClick:m[0]||(m[0]=y=>x())},{default:withCtx(()=>[createVNode(unref(Undo2),{class:"mr-2 h-4 w-4"}),m[26]||(m[26]=createTextVNode(" 撤销 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_1$e,toDisplayString(unref(ctrlSign)),1),m[25]||(m[25]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"Z",-1))]),_:1})]),_:1}),createVNode(v,{onClick:m[1]||(m[1]=y=>_())},{default:withCtx(()=>[createVNode(unref(Redo2),{class:"mr-2 h-4 w-4"}),m[28]||(m[28]=createTextVNode(" 重做 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_2$b,toDisplayString(unref(ctrlSign)),1),m[27]||(m[27]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"Y",-1))]),_:1})]),_:1}),createVNode(V),createVNode(A,null,{default:withCtx(()=>[createVNode(k,null,{default:withCtx(()=>[createVNode(unref(Copy),{class:"mr-2 h-4 w-4"}),m[29]||(m[29]=createTextVNode(" 复制 ",-1))]),_:1}),createVNode($,null,{default:withCtx(()=>[createVNode(v,{onClick:m[2]||(m[2]=y=>a("copy","txt"))},{default:withCtx(()=>[...m[30]||(m[30]=[createTextVNode(" 公众号格式 ",-1)])]),_:1}),createVNode(v,{onClick:m[3]||(m[3]=y=>a("copy","html"))},{default:withCtx(()=>[...m[31]||(m[31]=[createTextVNode(" HTML 格式 ",-1)])]),_:1}),createVNode(v,{onClick:m[4]||(m[4]=y=>a("copy","html-without-style"))},{default:withCtx(()=>[...m[32]||(m[32]=[createTextVNode(" HTML 格式（无样式） ",-1)])]),_:1}),createVNode(v,{onClick:m[5]||(m[5]=y=>a("copy","html-and-style"))},{default:withCtx(()=>[...m[33]||(m[33]=[createTextVNode(" HTML 格式（兼容样式） ",-1)])]),_:1}),createVNode(v,{onClick:m[6]||(m[6]=y=>a("copy","md"))},{default:withCtx(()=>[...m[34]||(m[34]=[createTextVNode(" MD 格式 ",-1)])]),_:1}),createVNode(V),createVNode(v,{onClick:m[7]||(m[7]=y=>p())},{default:withCtx(()=>[m[36]||(m[36]=createTextVNode(" 复制选中内容 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_3$b,toDisplayString(unref(ctrlSign)),1),m[35]||(m[35]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"C",-1))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(v,{onClick:m[8]||(m[8]=y=>h())},{default:withCtx(()=>[createVNode(unref(ClipboardPaste),{class:"mr-2 h-4 w-4"}),m[38]||(m[38]=createTextVNode(" 粘贴 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_4$b,toDisplayString(unref(ctrlSign)),1),m[37]||(m[37]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"V",-1))]),_:1})]),_:1}),createVNode(V),createVNode(v,{onClick:m[9]||(m[9]=y=>g())},{default:withCtx(()=>[createVNode(unref(WandSparkles),{class:"mr-2 h-4 w-4"}),m[40]||(m[40]=createTextVNode(" 格式化文档 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_5$9,toDisplayString(unref(altSign)),1),createBaseVNode("kbd",_hoisted_6$8,toDisplayString(unref(shiftSign)),1),m[39]||(m[39]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),createVNode(V),createVNode(v,{onClick:m[10]||(m[10]=y=>w())},{default:withCtx(()=>[createVNode(unref(Search),{class:"mr-2 h-4 w-4"}),m[42]||(m[42]=createTextVNode(" 查找 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_7$5,toDisplayString(unref(ctrlSign)),1),m[41]||(m[41]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),createVNode(v,{onClick:m[11]||(m[11]=y=>C())},{default:withCtx(()=>[createVNode(unref(Replace),{class:"mr-2 h-4 w-4"}),m[44]||(m[44]=createTextVNode(" 替换 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_8$5,toDisplayString(unref(ctrlSign)),1),m[43]||(m[43]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"H",-1))]),_:1})]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(G,{key:1},{default:withCtx(()=>[createVNode(S,null,{default:withCtx(()=>[...m[45]||(m[45]=[createTextVNode(" 编辑 ",-1)])]),_:1}),createVNode(H,{class:"w-64",align:"start"},{default:withCtx(()=>[createVNode(v,{onClick:m[12]||(m[12]=y=>x())},{default:withCtx(()=>[createVNode(unref(Undo2),{class:"mr-2 h-4 w-4"}),m[47]||(m[47]=createTextVNode(" 撤销 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_9$4,toDisplayString(unref(ctrlSign)),1),m[46]||(m[46]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"Z",-1))]),_:1})]),_:1}),createVNode(v,{onClick:m[13]||(m[13]=y=>_())},{default:withCtx(()=>[createVNode(unref(Redo2),{class:"mr-2 h-4 w-4"}),m[49]||(m[49]=createTextVNode(" 重做 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_10$2,toDisplayString(unref(ctrlSign)),1),m[48]||(m[48]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"Y",-1))]),_:1})]),_:1}),createVNode(V),createVNode(A,null,{default:withCtx(()=>[createVNode(k,null,{default:withCtx(()=>[createVNode(unref(Copy),{class:"mr-2 h-4 w-4"}),m[50]||(m[50]=createTextVNode(" 复制 ",-1))]),_:1}),createVNode($,null,{default:withCtx(()=>[createVNode(v,{onClick:m[14]||(m[14]=y=>a("copy","txt"))},{default:withCtx(()=>[...m[51]||(m[51]=[createTextVNode(" 公众号格式 ",-1)])]),_:1}),createVNode(v,{onClick:m[15]||(m[15]=y=>a("copy","html"))},{default:withCtx(()=>[...m[52]||(m[52]=[createTextVNode(" HTML 格式 ",-1)])]),_:1}),createVNode(v,{onClick:m[16]||(m[16]=y=>a("copy","html-without-style"))},{default:withCtx(()=>[...m[53]||(m[53]=[createTextVNode(" HTML 格式（无样式） ",-1)])]),_:1}),createVNode(v,{onClick:m[17]||(m[17]=y=>a("copy","html-and-style"))},{default:withCtx(()=>[...m[54]||(m[54]=[createTextVNode(" HTML 格式（兼容样式） ",-1)])]),_:1}),createVNode(v,{onClick:m[18]||(m[18]=y=>a("copy","md"))},{default:withCtx(()=>[...m[55]||(m[55]=[createTextVNode(" MD 格式 ",-1)])]),_:1}),createVNode(V),createVNode(v,{onClick:m[19]||(m[19]=y=>p())},{default:withCtx(()=>[m[57]||(m[57]=createTextVNode(" 复制选中内容 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_11$2,toDisplayString(unref(ctrlSign)),1),m[56]||(m[56]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"C",-1))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(v,{onClick:m[20]||(m[20]=y=>h())},{default:withCtx(()=>[createVNode(unref(ClipboardPaste),{class:"mr-2 h-4 w-4"}),m[59]||(m[59]=createTextVNode(" 粘贴 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_12$2,toDisplayString(unref(ctrlSign)),1),m[58]||(m[58]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"V",-1))]),_:1})]),_:1}),createVNode(V),createVNode(v,{onClick:m[21]||(m[21]=y=>g())},{default:withCtx(()=>[createVNode(unref(WandSparkles),{class:"mr-2 h-4 w-4"}),m[61]||(m[61]=createTextVNode(" 格式化文档 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_13$2,toDisplayString(unref(altSign)),1),createBaseVNode("kbd",_hoisted_14$1,toDisplayString(unref(shiftSign)),1),m[60]||(m[60]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),createVNode(V),createVNode(v,{onClick:m[22]||(m[22]=y=>w())},{default:withCtx(()=>[createVNode(unref(Search),{class:"mr-2 h-4 w-4"}),m[63]||(m[63]=createTextVNode(" 查找 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_15$1,toDisplayString(unref(ctrlSign)),1),m[62]||(m[62]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"F",-1))]),_:1})]),_:1}),createVNode(v,{onClick:m[23]||(m[23]=y=>C())},{default:withCtx(()=>[createVNode(unref(Replace),{class:"mr-2 h-4 w-4"}),m[65]||(m[65]=createTextVNode(" 替换 ",-1)),createVNode(N,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_16$1,toDisplayString(unref(ctrlSign)),1),m[64]||(m[64]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"H",-1))]),_:1})]),_:1})]),_:1})]),_:1}))}}}),_sfc_main$o=defineComponent({__name:"FileDropdown",props:{asSub:{type:Boolean,default:!1}},emits:["openEditorState"],setup(e,{emit:t}){const o=e,a=t,{asSub:n}=toRefs(o),s=useEditorStore(),i=useExportStore(),f=useUIStore(),{isOpenPostSlider:u,isOpenFolderPanel:g}=storeToRefs(f),{toggleShowTemplateDialog:p}=f,h=useImportMarkdownContent();function x(){a("openEditorState")}function _(){p(!0)}function w(){i.exportEditorContent2HTML()}function C(){i.exportEditorContent2PureHTML(s.getContent())}function l(){i.exportEditorContent2MD(s.getContent())}function m(){i.downloadAsCardImage()}function k(){i.exportEditorContent2PDF()}return(N,v)=>{const V=_sfc_main$q,$=_sfc_main$s,A=_sfc_main$t,S=_sfc_main$u,H=_sfc_main$v,G=_sfc_main$x,y=_sfc_main$y,E=_sfc_main$z;return unref(n)?(openBlock(),createBlock(H,{key:0},{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[...v[20]||(v[20]=[createTextVNode(" 文件 ",-1)])]),_:1}),createVNode(S,{class:"w-56"},{default:withCtx(()=>[createVNode($,{onClick:v[0]||(v[0]=R=>g.value=!unref(g))},{default:withCtx(()=>[createVNode(unref(FolderOpen),{class:"mr-2 size-4"}),v[21]||(v[21]=createTextVNode(" 本地文件夹 ",-1))]),_:1}),createVNode(A),createVNode(H,null,{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[createVNode(unref(Upload),{class:"mr-2 size-4"}),v[22]||(v[22]=createTextVNode(" 导入 ",-1))]),_:1}),createVNode(S,{class:"w-56"},{default:withCtx(()=>[createVNode($,{onClick:v[1]||(v[1]=R=>unref(h)())},{default:withCtx(()=>[createVNode(unref(FileText),{class:"mr-2 size-4"}),v[23]||(v[23]=createTextVNode(" 导入 Markdown ",-1))]),_:1})]),_:1})]),_:1}),createVNode(H,null,{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[createVNode(unref(Download),{class:"mr-2 size-4"}),v[24]||(v[24]=createTextVNode(" 导出 ",-1))]),_:1}),createVNode(S,{class:"w-56"},{default:withCtx(()=>[createVNode($,{onClick:v[2]||(v[2]=R=>l())},{default:withCtx(()=>[createVNode(unref(FileText),{class:"mr-2 size-4"}),v[25]||(v[25]=createTextVNode(" Markdown 文件 ",-1))]),_:1}),createVNode(A),createVNode($,{onClick:v[3]||(v[3]=R=>w())},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 size-4"}),v[26]||(v[26]=createTextVNode(" HTML 文件 ",-1))]),_:1}),createVNode($,{onClick:v[4]||(v[4]=R=>C())},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 size-4"}),v[27]||(v[27]=createTextVNode(" HTML（无样式） ",-1))]),_:1}),createVNode(A),createVNode($,{onClick:v[5]||(v[5]=R=>k())},{default:withCtx(()=>[createVNode(unref(FileText),{class:"mr-2 size-4"}),v[28]||(v[28]=createTextVNode(" PDF 文档 ",-1))]),_:1}),createVNode($,{onClick:v[6]||(v[6]=R=>m())},{default:withCtx(()=>[createVNode(unref(Download),{class:"mr-2 size-4"}),v[29]||(v[29]=createTextVNode(" PNG 图片 ",-1))]),_:1})]),_:1})]),_:1}),createVNode(A),createVNode($,{onClick:v[7]||(v[7]=R=>_())},{default:withCtx(()=>[createVNode(unref(Package),{class:"mr-2 size-4"}),v[30]||(v[30]=createTextVNode(" 模板管理 ",-1))]),_:1}),createVNode($,{onClick:v[8]||(v[8]=R=>u.value=!unref(u))},{default:withCtx(()=>[createVNode(unref(FolderKanban),{class:"mr-2 size-4"}),v[31]||(v[31]=createTextVNode(" 内容管理 ",-1))]),_:1}),createVNode(A),createVNode($,{onClick:v[9]||(v[9]=R=>x())},{default:withCtx(()=>[createVNode(unref(FileCog),{class:"mr-2 size-4"}),v[32]||(v[32]=createTextVNode(" 项目配置 ",-1))]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(E,{key:1},{default:withCtx(()=>[createVNode(G,null,{default:withCtx(()=>[...v[33]||(v[33]=[createTextVNode(" 文件 ",-1)])]),_:1}),createVNode(y,{class:"w-56",align:"start"},{default:withCtx(()=>[createVNode($,{onClick:v[10]||(v[10]=R=>g.value=!unref(g))},{default:withCtx(()=>[createVNode(unref(FolderOpen),{class:"mr-2 size-4"}),v[34]||(v[34]=createTextVNode(" 本地文件夹 ",-1))]),_:1}),createVNode(A),createVNode(H,null,{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[createVNode(unref(Upload),{class:"mr-2 size-4"}),v[35]||(v[35]=createTextVNode(" 导入 ",-1))]),_:1}),createVNode(S,{class:"w-56"},{default:withCtx(()=>[createVNode($,{onClick:v[11]||(v[11]=R=>unref(h)())},{default:withCtx(()=>[createVNode(unref(FileText),{class:"mr-2 size-4"}),v[36]||(v[36]=createTextVNode(" 导入 Markdown ",-1))]),_:1})]),_:1})]),_:1}),createVNode(H,null,{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[createVNode(unref(Download),{class:"mr-2 size-4"}),v[37]||(v[37]=createTextVNode(" 导出 ",-1))]),_:1}),createVNode(S,{class:"w-56"},{default:withCtx(()=>[createVNode($,{onClick:v[12]||(v[12]=R=>l())},{default:withCtx(()=>[createVNode(unref(FileText),{class:"mr-2 size-4"}),v[38]||(v[38]=createTextVNode(" Markdown 文件 ",-1))]),_:1}),createVNode(A),createVNode($,{onClick:v[13]||(v[13]=R=>w())},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 size-4"}),v[39]||(v[39]=createTextVNode(" HTML 文件 ",-1))]),_:1}),createVNode($,{onClick:v[14]||(v[14]=R=>C())},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 size-4"}),v[40]||(v[40]=createTextVNode(" HTML（无样式） ",-1))]),_:1}),createVNode(A),createVNode($,{onClick:v[15]||(v[15]=R=>k())},{default:withCtx(()=>[createVNode(unref(FileText),{class:"mr-2 size-4"}),v[41]||(v[41]=createTextVNode(" PDF 文档 ",-1))]),_:1}),createVNode($,{onClick:v[16]||(v[16]=R=>m())},{default:withCtx(()=>[createVNode(unref(Download),{class:"mr-2 size-4"}),v[42]||(v[42]=createTextVNode(" PNG 图片 ",-1))]),_:1})]),_:1})]),_:1}),createVNode(A),createVNode($,{onClick:v[17]||(v[17]=R=>_())},{default:withCtx(()=>[createVNode(unref(Package),{class:"mr-2 size-4"}),v[43]||(v[43]=createTextVNode(" 模板管理 ",-1))]),_:1}),createVNode($,{onClick:v[18]||(v[18]=R=>u.value=!unref(u))},{default:withCtx(()=>[createVNode(unref(FolderKanban),{class:"mr-2 size-4"}),v[44]||(v[44]=createTextVNode(" 内容管理 ",-1))]),_:1}),createVNode(A),createVNode($,{onClick:v[19]||(v[19]=R=>x())},{default:withCtx(()=>[createVNode(unref(FileCog),{class:"mr-2 size-4"}),v[45]||(v[45]=createTextVNode(" 项目配置 ",-1))]),_:1})]),_:1})]),_:1}))}}}),_sfc_main$n=defineComponent({__name:"HoverCard",props:{defaultOpen:{type:Boolean},open:{type:Boolean},openDelay:{},closeDelay:{}},emits:["update:open"],setup(e,{emit:t}){const n=Se(e,t);return(s,i)=>(openBlock(),createBlock(unref(Rh),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$m=defineComponent({__name:"HoverCardContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=computed(()=>{const{class:n,...s}=t;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Oh),null,{default:withCtx(()=>[createVNode(unref(kh),mergeProps(unref(a),{class:unref(cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$l=defineComponent({__name:"HoverCardTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createBlock(unref(Ah),normalizeProps(guardReactiveProps(t)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_hoisted_1$d={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_2$a={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_3$a={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_4$a={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_5$8={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_6$7={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_7$4={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_8$4={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_9$3={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_10$1={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_11$1={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_12$1={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_13$1={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_14={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_15={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_16={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_17={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_18={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_19={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_20={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_21={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_22={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_23={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_24={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_25={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_hoisted_26={class:"mx-1 bg-gray-2 dark:bg-stone-9"},_sfc_main$k=defineComponent({__name:"FormatDropdown",props:{asSub:{type:Boolean,default:!1}},setup(e){const t=e,{asSub:o}=toRefs(t),a=useEditorStore(),n=useThemeStore(),s=useRenderStore(),i=useUIStore(),{editor:f}=storeToRefs(a);function u(){n.updateCodeTheme();const C=a.getContent();s.render(C)}function g(){n.isCiteStatus=!n.isCiteStatus,u()}function p(){n.isCountStatus=!n.isCountStatus,u()}const h=useTemplateRef("pickColorsContainer"),x=reactive({format:"rgb",formatOptions:["rgb"],textColor:"rgba(0, 0, 0, 1)"});function _(C){x.textColor=C;const l=f.value;f.value&&formatColor(l,C)}function w(C){const l=f.value;if(f.value)switch(C){case`${ctrlKey}-B`:formatBold(l);break;case`${ctrlKey}-I`:formatItalic(l);break;case`${ctrlKey}-D`:formatStrikethrough(l);break;case`${ctrlKey}-K`:formatLink(l);break;case`${ctrlKey}-E`:formatCode(l);break;case`${ctrlKey}-1`:applyHeading(l,1);break;case`${ctrlKey}-2`:applyHeading(l,2);break;case`${ctrlKey}-3`:applyHeading(l,3);break;case`${ctrlKey}-4`:applyHeading(l,4);break;case`${ctrlKey}-5`:applyHeading(l,5);break;case`${ctrlKey}-6`:applyHeading(l,6);break;case`${ctrlKey}-U`:formatUnorderedList(l);break;case`${ctrlKey}-O`:formatOrderedList(l);break}}return(C,l)=>{const m=_sfc_main$q,k=_sfc_main$r,N=_sfc_main$s,v=_sfc_main$l,V=_sfc_main$m,$=_sfc_main$n,A=_sfc_main$t,S=_sfc_main$u,H=_sfc_main$v,G=_sfc_main$x,y=_sfc_main$y,E=_sfc_main$z;return unref(o)?(openBlock(),createBlock(H,{key:0},{default:withCtx(()=>[createVNode(m,null,{default:withCtx(()=>[...l[33]||(l[33]=[createTextVNode(" 格式 ",-1)])]),_:1}),createVNode(S,{class:"w-64"},{default:withCtx(()=>[createVNode(N,{onClick:l[0]||(l[0]=R=>w(`${unref(ctrlKey)}-B`))},{default:withCtx(()=>[createVNode(unref(Bold),{class:"mr-2 h-4 w-4"}),l[35]||(l[35]=createTextVNode(" 加粗 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_1$d,toDisplayString(unref(ctrlSign)),1),l[34]||(l[34]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"B",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[1]||(l[1]=R=>w(`${unref(ctrlKey)}-I`))},{default:withCtx(()=>[createVNode(unref(Italic),{class:"mr-2 h-4 w-4"}),l[37]||(l[37]=createTextVNode(" 斜体 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_2$a,toDisplayString(unref(ctrlSign)),1),l[36]||(l[36]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"I",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[2]||(l[2]=R=>w(`${unref(ctrlKey)}-D`))},{default:withCtx(()=>[createVNode(unref(Strikethrough),{class:"mr-2 h-4 w-4"}),l[39]||(l[39]=createTextVNode(" 删除线 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_3$a,toDisplayString(unref(ctrlSign)),1),l[38]||(l[38]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"D",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[3]||(l[3]=R=>w(`${unref(ctrlKey)}-K`))},{default:withCtx(()=>[createVNode(unref(Link),{class:"mr-2 h-4 w-4"}),l[41]||(l[41]=createTextVNode(" 超链接 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_4$a,toDisplayString(unref(ctrlSign)),1),l[40]||(l[40]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"K",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[4]||(l[4]=R=>w(`${unref(ctrlKey)}-E`))},{default:withCtx(()=>[createVNode(unref(Code),{class:"mr-2 h-4 w-4"}),l[43]||(l[43]=createTextVNode(" 行内代码 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_5$8,toDisplayString(unref(ctrlSign)),1),l[42]||(l[42]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"E",-1))]),_:1})]),_:1}),createVNode($,{"open-delay":100},{default:withCtx(()=>[createVNode(v,{"as-child":""},{default:withCtx(()=>[createVNode(N,{onClick:l[5]||(l[5]=withModifiers(()=>{},["prevent"]))},{default:withCtx(()=>[createVNode(unref(Palette),{class:"mr-2 h-4 w-4"}),l[44]||(l[44]=createTextVNode(" 文字颜色 ",-1))]),_:1})]),_:1}),createVNode(V,{side:"right",class:"w-min"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"pickColorsContainer",ref:h},[createVNode(unref(Re),{value:unref(x).textColor,"show-alpha":"",format:unref(x).format,"format-options":unref(x).formatOptions,theme:unref(i).isDark?"dark":"light","popup-container":unref(h),onChange:_},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1}),createVNode(A),createVNode(H,null,{default:withCtx(()=>[createVNode(m,null,{default:withCtx(()=>[createVNode(unref(Heading1),{class:"mr-2 h-4 w-4"}),l[45]||(l[45]=createTextVNode(" 标题 ",-1))]),_:1}),createVNode(S,null,{default:withCtx(()=>[createVNode(N,{onClick:l[6]||(l[6]=R=>w(`${unref(ctrlKey)}-1`))},{default:withCtx(()=>[createVNode(unref(Heading1),{class:"mr-2 h-4 w-4"}),l[47]||(l[47]=createTextVNode(" 标题 1 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_6$7,toDisplayString(unref(ctrlSign)),1),l[46]||(l[46]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"1",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[7]||(l[7]=R=>w(`${unref(ctrlKey)}-2`))},{default:withCtx(()=>[createVNode(unref(Heading2),{class:"mr-2 h-4 w-4"}),l[49]||(l[49]=createTextVNode(" 标题 2 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_7$4,toDisplayString(unref(ctrlSign)),1),l[48]||(l[48]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"2",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[8]||(l[8]=R=>w(`${unref(ctrlKey)}-3`))},{default:withCtx(()=>[createVNode(unref(Heading3),{class:"mr-2 h-4 w-4"}),l[51]||(l[51]=createTextVNode(" 标题 3 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_8$4,toDisplayString(unref(ctrlSign)),1),l[50]||(l[50]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"3",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[9]||(l[9]=R=>w(`${unref(ctrlKey)}-4`))},{default:withCtx(()=>[createVNode(unref(Heading4),{class:"mr-2 h-4 w-4"}),l[53]||(l[53]=createTextVNode(" 标题 4 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_9$3,toDisplayString(unref(ctrlSign)),1),l[52]||(l[52]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"4",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[10]||(l[10]=R=>w(`${unref(ctrlKey)}-5`))},{default:withCtx(()=>[createVNode(unref(Heading5),{class:"mr-2 h-4 w-4"}),l[55]||(l[55]=createTextVNode(" 标题 5 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_10$1,toDisplayString(unref(ctrlSign)),1),l[54]||(l[54]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"5",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[11]||(l[11]=R=>w(`${unref(ctrlKey)}-6`))},{default:withCtx(()=>[createVNode(unref(Heading6),{class:"mr-2 h-4 w-4"}),l[57]||(l[57]=createTextVNode(" 标题 6 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_11$1,toDisplayString(unref(ctrlSign)),1),l[56]||(l[56]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"6",-1))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(N,{onClick:l[12]||(l[12]=R=>w(`${unref(ctrlKey)}-U`))},{default:withCtx(()=>[createVNode(unref(List),{class:"mr-2 h-4 w-4"}),l[59]||(l[59]=createTextVNode(" 无序列表 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_12$1,toDisplayString(unref(ctrlSign)),1),l[58]||(l[58]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"U",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[13]||(l[13]=R=>w(`${unref(ctrlKey)}-O`))},{default:withCtx(()=>[createVNode(unref(ListOrdered),{class:"mr-2 h-4 w-4"}),l[61]||(l[61]=createTextVNode(" 有序列表 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_13$1,toDisplayString(unref(ctrlSign)),1),l[60]||(l[60]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"O",-1))]),_:1})]),_:1}),createVNode(A),createVNode(N,{onClick:l[14]||(l[14]=R=>g())},{default:withCtx(()=>[createVNode(unref(Link2),{class:"mr-2 h-4 w-4"}),l[62]||(l[62]=createTextVNode(" 微信外链转引用 ",-1))]),_:1}),createVNode(N,{onClick:l[15]||(l[15]=R=>p())},{default:withCtx(()=>[createVNode(unref(Clock),{class:"mr-2 h-4 w-4"}),l[63]||(l[63]=createTextVNode(" 统计字数时间 ",-1))]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(E,{key:1},{default:withCtx(()=>[createVNode(G,null,{default:withCtx(()=>[...l[64]||(l[64]=[createTextVNode(" 格式 ",-1)])]),_:1}),createVNode(y,{class:"w-64",align:"start"},{default:withCtx(()=>[createVNode(N,{onClick:l[16]||(l[16]=R=>w(`${unref(ctrlKey)}-B`))},{default:withCtx(()=>[createVNode(unref(Bold),{class:"mr-2 h-4 w-4"}),l[66]||(l[66]=createTextVNode(" 加粗 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_14,toDisplayString(unref(ctrlSign)),1),l[65]||(l[65]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"B",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[17]||(l[17]=R=>w(`${unref(ctrlKey)}-I`))},{default:withCtx(()=>[createVNode(unref(Italic),{class:"mr-2 h-4 w-4"}),l[68]||(l[68]=createTextVNode(" 斜体 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_15,toDisplayString(unref(ctrlSign)),1),l[67]||(l[67]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"I",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[18]||(l[18]=R=>w(`${unref(ctrlKey)}-D`))},{default:withCtx(()=>[createVNode(unref(Strikethrough),{class:"mr-2 h-4 w-4"}),l[70]||(l[70]=createTextVNode(" 删除线 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_16,toDisplayString(unref(ctrlSign)),1),l[69]||(l[69]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"D",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[19]||(l[19]=R=>w(`${unref(ctrlKey)}-K`))},{default:withCtx(()=>[createVNode(unref(Link),{class:"mr-2 h-4 w-4"}),l[72]||(l[72]=createTextVNode(" 超链接 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_17,toDisplayString(unref(ctrlSign)),1),l[71]||(l[71]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"K",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[20]||(l[20]=R=>w(`${unref(ctrlKey)}-E`))},{default:withCtx(()=>[createVNode(unref(Code),{class:"mr-2 h-4 w-4"}),l[74]||(l[74]=createTextVNode(" 行内代码 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_18,toDisplayString(unref(ctrlSign)),1),l[73]||(l[73]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"E",-1))]),_:1})]),_:1}),createVNode($,{"open-delay":100},{default:withCtx(()=>[createVNode(v,{"as-child":""},{default:withCtx(()=>[createVNode(N,{onClick:l[21]||(l[21]=withModifiers(()=>{},["prevent"]))},{default:withCtx(()=>[createVNode(unref(Palette),{class:"mr-2 h-4 w-4"}),l[75]||(l[75]=createTextVNode(" 文字颜色 ",-1))]),_:1})]),_:1}),createVNode(V,{side:"right",class:"w-min"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"pickColorsContainer",ref:h},[createVNode(unref(Re),{value:unref(x).textColor,"onUpdate:value":l[22]||(l[22]=R=>unref(x).textColor=R),"show-alpha":"",format:unref(x).format,"format-options":unref(x).formatOptions,theme:unref(i).isDark?"dark":"light","popup-container":unref(h),onChange:_},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1}),createVNode(A),createVNode(H,null,{default:withCtx(()=>[createVNode(m,null,{default:withCtx(()=>[createVNode(unref(Heading1),{class:"mr-2 h-4 w-4"}),l[76]||(l[76]=createTextVNode(" 标题 ",-1))]),_:1}),createVNode(S,null,{default:withCtx(()=>[createVNode(N,{onClick:l[23]||(l[23]=R=>w(`${unref(ctrlKey)}-1`))},{default:withCtx(()=>[createVNode(unref(Heading1),{class:"mr-2 h-4 w-4"}),l[78]||(l[78]=createTextVNode(" 标题 1 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_19,toDisplayString(unref(ctrlSign)),1),l[77]||(l[77]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"1",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[24]||(l[24]=R=>w(`${unref(ctrlKey)}-2`))},{default:withCtx(()=>[createVNode(unref(Heading2),{class:"mr-2 h-4 w-4"}),l[80]||(l[80]=createTextVNode(" 标题 2 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_20,toDisplayString(unref(ctrlSign)),1),l[79]||(l[79]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"2",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[25]||(l[25]=R=>w(`${unref(ctrlKey)}-3`))},{default:withCtx(()=>[createVNode(unref(Heading3),{class:"mr-2 h-4 w-4"}),l[82]||(l[82]=createTextVNode(" 标题 3 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_21,toDisplayString(unref(ctrlSign)),1),l[81]||(l[81]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"3",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[26]||(l[26]=R=>w(`${unref(ctrlKey)}-4`))},{default:withCtx(()=>[createVNode(unref(Heading4),{class:"mr-2 h-4 w-4"}),l[84]||(l[84]=createTextVNode(" 标题 4 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_22,toDisplayString(unref(ctrlSign)),1),l[83]||(l[83]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"4",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[27]||(l[27]=R=>w(`${unref(ctrlKey)}-5`))},{default:withCtx(()=>[createVNode(unref(Heading5),{class:"mr-2 h-4 w-4"}),l[86]||(l[86]=createTextVNode(" 标题 5 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_23,toDisplayString(unref(ctrlSign)),1),l[85]||(l[85]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"5",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[28]||(l[28]=R=>w(`${unref(ctrlKey)}-6`))},{default:withCtx(()=>[createVNode(unref(Heading6),{class:"mr-2 h-4 w-4"}),l[88]||(l[88]=createTextVNode(" 标题 6 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_24,toDisplayString(unref(ctrlSign)),1),l[87]||(l[87]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"6",-1))]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(N,{onClick:l[29]||(l[29]=R=>w(`${unref(ctrlKey)}-U`))},{default:withCtx(()=>[createVNode(unref(List),{class:"mr-2 h-4 w-4"}),l[90]||(l[90]=createTextVNode(" 无序列表 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_25,toDisplayString(unref(ctrlSign)),1),l[89]||(l[89]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"U",-1))]),_:1})]),_:1}),createVNode(N,{onClick:l[30]||(l[30]=R=>w(`${unref(ctrlKey)}-O`))},{default:withCtx(()=>[createVNode(unref(ListOrdered),{class:"mr-2 h-4 w-4"}),l[92]||(l[92]=createTextVNode(" 有序列表 ",-1)),createVNode(k,null,{default:withCtx(()=>[createBaseVNode("kbd",_hoisted_26,toDisplayString(unref(ctrlSign)),1),l[91]||(l[91]=createBaseVNode("kbd",{class:"mx-1 bg-gray-2 dark:bg-stone-9"},"O",-1))]),_:1})]),_:1}),createVNode(A),createVNode(N,{onClick:l[31]||(l[31]=R=>g())},{default:withCtx(()=>[createVNode(unref(Link2),{class:"mr-2 h-4 w-4"}),l[93]||(l[93]=createTextVNode(" 微信外链转引用 ",-1))]),_:1}),createVNode(N,{onClick:l[32]||(l[32]=R=>p())},{default:withCtx(()=>[createVNode(unref(Clock),{class:"mr-2 h-4 w-4"}),l[94]||(l[94]=createTextVNode(" 统计字数时间 ",-1))]),_:1})]),_:1})]),_:1}))}}}),_sfc_main$j=defineComponent({__name:"HelpDropdown",props:{asSub:{type:Boolean,default:!1}},emits:["openAbout","openFund"],setup(e,{emit:t}){const o=e,a=t,{asSub:n}=toRefs(o);function s(){a("openAbout")}function i(){a("openFund")}function f(){window.open("https://github.com/doocs/md/issues","_blank")}function u(){window.open("https://github.com/doocs/md/releases","_blank")}return(g,p)=>{const h=_sfc_main$q,x=_sfc_main$s,_=_sfc_main$u,w=_sfc_main$v,C=_sfc_main$x,l=_sfc_main$y,m=_sfc_main$z;return unref(n)?(openBlock(),createBlock(w,{key:0},{default:withCtx(()=>[createVNode(h,null,{default:withCtx(()=>[...p[8]||(p[8]=[createTextVNode(" 帮助 ",-1)])]),_:1}),createVNode(_,{align:"start"},{default:withCtx(()=>[createVNode(x,{onClick:p[0]||(p[0]=k=>f())},{default:withCtx(()=>[createVNode(unref(MessageSquare),{class:"mr-2 h-4 w-4"}),p[9]||(p[9]=createTextVNode(" 反馈 ",-1))]),_:1}),createVNode(x,{onClick:p[1]||(p[1]=k=>u())},{default:withCtx(()=>[createVNode(unref(Tag),{class:"mr-2 h-4 w-4"}),p[10]||(p[10]=createTextVNode(" 版本历史 ",-1))]),_:1}),createVNode(x,{onClick:p[2]||(p[2]=k=>s())},{default:withCtx(()=>[createVNode(unref(CircleQuestionMark),{class:"mr-2 h-4 w-4"}),p[11]||(p[11]=createTextVNode(" 关于 ",-1))]),_:1}),createVNode(x,{onClick:p[3]||(p[3]=k=>i())},{default:withCtx(()=>[createVNode(unref(Heart),{class:"mr-2 h-4 w-4"}),p[12]||(p[12]=createTextVNode(" 赞赏 ",-1))]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(m,{key:1},{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[...p[13]||(p[13]=[createTextVNode("帮助",-1)])]),_:1}),createVNode(l,{align:"start"},{default:withCtx(()=>[createVNode(x,{onClick:p[4]||(p[4]=k=>f())},{default:withCtx(()=>[createVNode(unref(MessageSquare),{class:"mr-2 h-4 w-4"}),p[14]||(p[14]=createTextVNode(" 反馈 ",-1))]),_:1}),createVNode(x,{onClick:p[5]||(p[5]=k=>u())},{default:withCtx(()=>[createVNode(unref(Tag),{class:"mr-2 h-4 w-4"}),p[15]||(p[15]=createTextVNode(" 版本历史 ",-1))]),_:1}),createVNode(x,{onClick:p[6]||(p[6]=k=>s())},{default:withCtx(()=>[createVNode(unref(CircleQuestionMark),{class:"mr-2 h-4 w-4"}),p[16]||(p[16]=createTextVNode(" 关于 ",-1))]),_:1}),createVNode(x,{onClick:p[7]||(p[7]=k=>i())},{default:withCtx(()=>[createVNode(unref(Heart),{class:"mr-2 h-4 w-4"}),p[17]||(p[17]=createTextVNode(" 赞赏 ",-1))]),_:1})]),_:1})]),_:1}))}}}),_sfc_main$i=defineComponent({__name:"InsertDropdown",props:{asSub:{type:Boolean,default:!1}},setup(e){const t=e,{asSub:o}=toRefs(t),a=useUIStore(),{toggleShowInsertFormDialog:n,toggleShowUploadImgDialog:s,toggleShowInsertMpCardDialog:i}=a;return(f,u)=>{const g=_sfc_main$q,p=_sfc_main$s,h=_sfc_main$u,x=_sfc_main$v,_=_sfc_main$x,w=_sfc_main$y,C=_sfc_main$z;return unref(o)?(openBlock(),createBlock(x,{key:0},{default:withCtx(()=>[createVNode(g,null,{default:withCtx(()=>[...u[6]||(u[6]=[createTextVNode(" 插入 ",-1)])]),_:1}),createVNode(h,{class:"w-52"},{default:withCtx(()=>[createVNode(p,{onClick:u[0]||(u[0]=l=>unref(s)())},{default:withCtx(()=>[createVNode(unref(Image),{class:"mr-2 h-4 w-4"}),u[7]||(u[7]=createTextVNode(" 插入图片 ",-1))]),_:1}),createVNode(p,{onClick:u[1]||(u[1]=l=>unref(n)())},{default:withCtx(()=>[createVNode(unref(Table),{class:"mr-2 h-4 w-4"}),u[8]||(u[8]=createTextVNode(" 插入表格 ",-1))]),_:1}),createVNode(p,{onClick:u[2]||(u[2]=l=>unref(i)())},{default:withCtx(()=>[createVNode(unref(Contact),{class:"mr-2 h-4 w-4"}),u[9]||(u[9]=createTextVNode(" 公众号名片 ",-1))]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(C,{key:1},{default:withCtx(()=>[createVNode(_,null,{default:withCtx(()=>[...u[10]||(u[10]=[createTextVNode(" 插入 ",-1)])]),_:1}),createVNode(w,{class:"w-52",align:"start"},{default:withCtx(()=>[createVNode(p,{onClick:u[3]||(u[3]=l=>unref(s)())},{default:withCtx(()=>[createVNode(unref(Image),{class:"mr-2 h-4 w-4"}),u[11]||(u[11]=createTextVNode(" 插入图片 ",-1))]),_:1}),createVNode(p,{onClick:u[4]||(u[4]=l=>unref(n)())},{default:withCtx(()=>[createVNode(unref(Table),{class:"mr-2 h-4 w-4"}),u[12]||(u[12]=createTextVNode(" 插入表格 ",-1))]),_:1}),createVNode(p,{onClick:u[5]||(u[5]=l=>unref(i)())},{default:withCtx(()=>[createVNode(unref(Contact),{class:"mr-2 h-4 w-4"}),u[13]||(u[13]=createTextVNode(" 公众号名片 ",-1))]),_:1})]),_:1})]),_:1}))}}}),_hoisted_1$c={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},_sfc_main$h=defineComponent({__name:"MenubarCheckboxItem",props:{checked:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:checked"],setup(e,{emit:t}){const o=e,a=t,n=computed(()=>{const{class:i,...f}=o;return f}),s=Se(n,a);return(i,f)=>(openBlock(),createBlock(unref(ty),mergeProps(unref(s),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",o.class)}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$c,[createVNode(unref(ay),null,{default:withCtx(()=>[createVNode(unref(Check),{class:"h-4 w-4"})]),_:1})]),renderSlot(i.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$g=defineComponent({__name:"DropdownMenuShortcut",props:{class:{}},setup(e){const t=e;return(o,a)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(cn)("ml-auto text-xs tracking-widest opacity-60",t.class))},[renderSlot(o.$slots,"default")],2))}}),_hoisted_1$b={key:1,class:"mr-2 h-4 w-4"},_sfc_main$f=defineComponent({__name:"StyleOptionMenu",props:{title:{},options:{},current:{},change:{type:Function},icon:{}},setup(e){const t=e;function o(a,n){switch(a){case"字体":return{fontFamily:n};case"字号":return{fontSize:n};case"主题色":case"文字颜色":return{color:n};default:return{}}}return(a,n)=>{const s=_sfc_main$q,i=_sfc_main$g,f=_sfc_main$h,u=_sfc_main$u,g=_sfc_main$v;return openBlock(),createBlock(g,null,{default:withCtx(()=>[createVNode(s,null,{default:withCtx(()=>[t.icon?(openBlock(),createBlock(resolveDynamicComponent(t.icon),{key:0,class:"mr-2 h-4 w-4"})):(openBlock(),createElementBlock("span",_hoisted_1$b)),createBaseVNode("span",null,toDisplayString(t.title),1)]),_:1}),createVNode(u,{class:"max-h-56 overflow-auto"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.options,({label:p,value:h,desc:x})=>(openBlock(),createBlock(f,{key:h,label:p,"model-value":h,class:"w-50",checked:e.current===h,onClick:_=>e.change(h)},{default:withCtx(()=>[createTextVNode(toDisplayString(p)+" ",1),createVNode(i,{style:normalizeStyle(o(e.title,h))},{default:withCtx(()=>[createTextVNode(toDisplayString(x),1)]),_:2},1032,["style"])]),_:2},1032,["label","model-value","checked","onClick"]))),128))]),_:1})]),_:1})}}}),_sfc_main$e=defineComponent({__name:"StyleDropdown",props:{asSub:{type:Boolean,default:!1}},setup(e){const t=e,{asSub:o}=toRefs(t),a=useThemeStore(),n=useUIStore(),s=useEditorStore(),i=useRenderStore(),{toggleShowCssEditor:f}=n,{theme:u,fontFamily:g,fontSize:p,primaryColor:h,codeBlockTheme:x,legend:_,isMacCodeBlock:w}=storeToRefs(a),{isDark:C}=storeToRefs(n);function l(){a.updateCodeTheme();const T=s.getContent();i.render(T)}function m(T){a.theme=T,a.applyCurrentTheme(),l()}function k(T){a.fontFamily=T,a.applyCurrentTheme(),l()}function N(T){a.fontSize=T,a.applyCurrentTheme(),l()}function v(T){a.primaryColor=T,a.applyCurrentTheme(),l()}function V(T){a.codeBlockTheme=T,l()}function $(T){a.legend=T,l()}function A(){a.isMacCodeBlock=!a.isMacCodeBlock,l()}function S(){n.isOpenConfirmDialog=!0}const H=ref(null);function G(){H.value?.show()}function y(){f()}const E=useTemplateRef("pickColorsContainer"),R=ref("rgb"),F=ref(["rgb","hex","hsl","hsv"]);return(T,ae)=>{const se=_sfc_main$q,K=_sfc_main$f,Z=_sfc_main$t,le=_sfc_main$l,j=_sfc_main$m,D=_sfc_main$n,ie=_sfc_main$h,de=_sfc_main$u,te=_sfc_main$v,L=_sfc_main$x,ee=_sfc_main$y,fe=_sfc_main$z;return unref(o)?(openBlock(),createBlock(te,{key:0},{default:withCtx(()=>[createVNode(se,null,{default:withCtx(()=>[...ae[2]||(ae[2]=[createTextVNode(" 样式 ",-1)])]),_:1}),createVNode(de,{class:"w-56"},{default:withCtx(()=>[createVNode(K,{title:"主题",options:unref(themeOptions),current:unref(u),change:m},null,8,["options","current"]),createVNode(Z),createVNode(K,{title:"字体",options:unref(fontFamilyOptions),current:unref(g),change:k},null,8,["options","current"]),createVNode(K,{title:"字号",options:unref(fontSizeOptions),current:unref(p),change:N},null,8,["options","current"]),createVNode(K,{title:"主题色",options:unref(colorOptions),current:unref(h),change:v},null,8,["options","current"]),createVNode(K,{title:"代码块主题",options:unref(codeBlockThemeOptions),current:unref(x),change:V},null,8,["options","current"]),createVNode(K,{title:"图注格式",options:unref(legendOptions),current:unref(_),change:$},null,8,["options","current"]),createVNode(Z),createVNode(ie,{onClick:withModifiers(G,["self","prevent"])},{default:withCtx(()=>[createVNode(D,{"open-delay":100},{default:withCtx(()=>[createVNode(le,{class:"w-full flex"},{default:withCtx(()=>[...ae[3]||(ae[3]=[createTextVNode(" 自定义主题色 ",-1)])]),_:1}),createVNode(j,{side:"right",class:"w-min"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"pickColorsContainer",ref:E},[createVNode(unref(Re),{value:unref(h),"onUpdate:value":ae[0]||(ae[0]=pe=>isRef(h)?h.value=pe:null),"show-alpha":"",format:unref(R),"format-options":unref(F),theme:unref(C)?"dark":"light","popup-container":unref(E),onChange:v},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1})]),_:1}),createVNode(ie,{onClick:y},{default:withCtx(()=>[...ae[4]||(ae[4]=[createTextVNode(" 自定义 CSS ",-1)])]),_:1}),createVNode(Z),createVNode(ie,{checked:unref(w),onClick:A},{default:withCtx(()=>[...ae[5]||(ae[5]=[createTextVNode(" Mac 代码块 ",-1)])]),_:1},8,["checked"]),createVNode(Z),createVNode(ie,{divided:"",onClick:S},{default:withCtx(()=>[...ae[6]||(ae[6]=[createTextVNode(" 重置 ",-1)])]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(fe,{key:1},{default:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[...ae[7]||(ae[7]=[createTextVNode(" 样式 ",-1)])]),_:1}),createVNode(ee,{class:"w-56",align:"start"},{default:withCtx(()=>[createVNode(K,{title:"主题",options:unref(themeOptions),current:unref(u),change:m},null,8,["options","current"]),createVNode(Z),createVNode(K,{title:"字体",options:unref(fontFamilyOptions),current:unref(g),change:k},null,8,["options","current"]),createVNode(K,{title:"字号",options:unref(fontSizeOptions),current:unref(p),change:N},null,8,["options","current"]),createVNode(K,{title:"主题色",options:unref(colorOptions),current:unref(h),change:v},null,8,["options","current"]),createVNode(K,{title:"代码块主题",options:unref(codeBlockThemeOptions),current:unref(x),change:V},null,8,["options","current"]),createVNode(K,{title:"图注格式",options:unref(legendOptions),current:unref(_),change:$},null,8,["options","current"]),createVNode(Z),createVNode(ie,{onClick:withModifiers(G,["self","prevent"])},{default:withCtx(()=>[createVNode(D,{"open-delay":100},{default:withCtx(()=>[createVNode(le,{class:"w-full flex"},{default:withCtx(()=>[...ae[8]||(ae[8]=[createTextVNode(" 自定义主题色 ",-1)])]),_:1}),createVNode(j,{side:"right",class:"w-min"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"pickColorsContainer",ref:E},[createVNode(unref(Re),{value:unref(h),"onUpdate:value":ae[1]||(ae[1]=pe=>isRef(h)?h.value=pe:null),"show-alpha":"",format:unref(R),"format-options":unref(F),theme:unref(C)?"dark":"light","popup-container":unref(E),onChange:v},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1})]),_:1}),createVNode(ie,{onClick:y},{default:withCtx(()=>[...ae[9]||(ae[9]=[createTextVNode(" 自定义 CSS ",-1)])]),_:1}),createVNode(Z),createVNode(ie,{checked:unref(w),onClick:A},{default:withCtx(()=>[...ae[10]||(ae[10]=[createTextVNode(" Mac 代码块 ",-1)])]),_:1},8,["checked"]),createVNode(Z),createVNode(ie,{divided:"",onClick:S},{default:withCtx(()=>[...ae[11]||(ae[11]=[createTextVNode(" 重置 ",-1)])]),_:1})]),_:1})]),_:1}))}}}),_sfc_main$d=defineComponent({__name:"ViewDropdown",props:{asSub:{type:Boolean,default:!1}},setup(e){const t=e,{asSub:o}=toRefs(t),a=useUIStore(),n=useThemeStore(),{isDark:s,isEditOnLeft:i,isShowCssEditor:f,isOpenRightSlider:u}=storeToRefs(a),{previewWidth:g}=storeToRefs(n),p=widthOptions[0].value,h=widthOptions[1].value;function x(_){n.previewWidth=_}return(_,w)=>{const C=_sfc_main$q,l=_sfc_main$h,m=_sfc_main$u,k=_sfc_main$v,N=_sfc_main$t,v=_sfc_main$s,V=_sfc_main$x,$=_sfc_main$y,A=_sfc_main$z;return unref(o)?(openBlock(),createBlock(k,{key:0},{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[...w[22]||(w[22]=[createTextVNode(" 视图 ",-1)])]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(k,null,{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(s)?unref(Moon):unref(Sun)),{class:"mr-2 h-4 w-4"})),w[23]||(w[23]=createTextVNode(" 外观 ",-1))]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(l,{checked:!unref(s),onClick:w[0]||(w[0]=S=>s.value=!1)},{default:withCtx(()=>[...w[24]||(w[24]=[createTextVNode(" 浅色模式 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:unref(s),onClick:w[1]||(w[1]=S=>s.value=!0)},{default:withCtx(()=>[...w[25]||(w[25]=[createTextVNode(" 深色模式 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),createVNode(k,null,{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[createVNode(unref(PanelLeft),{class:"mr-2 h-4 w-4"}),w[26]||(w[26]=createTextVNode(" 编辑模式 ",-1))]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(l,{checked:unref(i),onClick:w[2]||(w[2]=S=>i.value=!0)},{default:withCtx(()=>[...w[27]||(w[27]=[createTextVNode(" 左侧编辑 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:!unref(i),onClick:w[3]||(w[3]=S=>i.value=!1)},{default:withCtx(()=>[...w[28]||(w[28]=[createTextVNode(" 右侧编辑 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),createVNode(k,null,{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(g)===unref(p)?unref(Smartphone):unref(Monitor)),{class:"mr-2 h-4 w-4"})),w[29]||(w[29]=createTextVNode(" 预览模式 ",-1))]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(l,{checked:unref(g)===unref(p),onClick:w[4]||(w[4]=S=>x(unref(p)))},{default:withCtx(()=>[...w[30]||(w[30]=[createTextVNode(" 移动端 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:unref(g)===unref(h),onClick:w[5]||(w[5]=S=>x(unref(h)))},{default:withCtx(()=>[...w[31]||(w[31]=[createTextVNode(" 电脑端 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),createVNode(k,null,{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[createVNode(unref(PanelLeft),{class:"mr-2 h-4 w-4"}),w[32]||(w[32]=createTextVNode(" 浮动目录 ",-1))]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(l,{checked:unref(a).isShowFloatingToc&&unref(a).isPinFloatingToc,onClick:w[6]||(w[6]=()=>{unref(a).isShowFloatingToc=!0,unref(a).isPinFloatingToc=!0})},{default:withCtx(()=>[...w[33]||(w[33]=[createTextVNode(" 常驻显示 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:unref(a).isShowFloatingToc&&!unref(a).isPinFloatingToc,onClick:w[7]||(w[7]=()=>{unref(a).isShowFloatingToc=!0,unref(a).isPinFloatingToc=!1})},{default:withCtx(()=>[...w[34]||(w[34]=[createTextVNode(" 移入触发 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:!unref(a).isShowFloatingToc,onClick:w[8]||(w[8]=()=>{unref(a).isShowFloatingToc=!1})},{default:withCtx(()=>[...w[35]||(w[35]=[createTextVNode(" 隐藏 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),createVNode(N),createVNode(v,{onClick:w[9]||(w[9]=S=>u.value=!unref(u))},{default:withCtx(()=>[createVNode(unref(Palette),{class:"mr-2 h-4 w-4"}),w[36]||(w[36]=createTextVNode(" 样式面板 ",-1))]),_:1}),createVNode(v,{onClick:w[10]||(w[10]=S=>f.value=!unref(f))},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 h-4 w-4"}),w[37]||(w[37]=createTextVNode(" CSS 编辑器 ",-1))]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(A,{key:1},{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[...w[38]||(w[38]=[createTextVNode(" 视图 ",-1)])]),_:1}),createVNode($,{align:"start"},{default:withCtx(()=>[createVNode(k,null,{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(s)?unref(Moon):unref(Sun)),{class:"mr-2 h-4 w-4"})),w[39]||(w[39]=createTextVNode(" 外观 ",-1))]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(l,{checked:!unref(s),onClick:w[11]||(w[11]=S=>s.value=!1)},{default:withCtx(()=>[...w[40]||(w[40]=[createTextVNode(" 浅色模式 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:unref(s),onClick:w[12]||(w[12]=S=>s.value=!0)},{default:withCtx(()=>[...w[41]||(w[41]=[createTextVNode(" 深色模式 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),createVNode(k,null,{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[createVNode(unref(PanelLeft),{class:"mr-2 h-4 w-4"}),w[42]||(w[42]=createTextVNode(" 编辑模式 ",-1))]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(l,{checked:unref(i),onClick:w[13]||(w[13]=S=>i.value=!0)},{default:withCtx(()=>[...w[43]||(w[43]=[createTextVNode(" 左侧编辑 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:!unref(i),onClick:w[14]||(w[14]=S=>i.value=!1)},{default:withCtx(()=>[...w[44]||(w[44]=[createTextVNode(" 右侧编辑 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),createVNode(k,null,{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(g)===unref(p)?unref(Smartphone):unref(Monitor)),{class:"mr-2 h-4 w-4"})),w[45]||(w[45]=createTextVNode(" 预览模式 ",-1))]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(l,{checked:unref(g)===unref(p),onClick:w[15]||(w[15]=S=>x(unref(p)))},{default:withCtx(()=>[...w[46]||(w[46]=[createTextVNode(" 移动端 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:unref(g)===unref(h),onClick:w[16]||(w[16]=S=>x(unref(h)))},{default:withCtx(()=>[...w[47]||(w[47]=[createTextVNode(" 电脑端 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),createVNode(k,null,{default:withCtx(()=>[createVNode(C,null,{default:withCtx(()=>[createVNode(unref(PanelLeft),{class:"mr-2 h-4 w-4"}),w[48]||(w[48]=createTextVNode(" 浮动目录 ",-1))]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(l,{checked:unref(a).isShowFloatingToc&&unref(a).isPinFloatingToc,onClick:w[17]||(w[17]=()=>{unref(a).isShowFloatingToc=!0,unref(a).isPinFloatingToc=!0})},{default:withCtx(()=>[...w[49]||(w[49]=[createTextVNode(" 常驻显示 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:unref(a).isShowFloatingToc&&!unref(a).isPinFloatingToc,onClick:w[18]||(w[18]=()=>{unref(a).isShowFloatingToc=!0,unref(a).isPinFloatingToc=!1})},{default:withCtx(()=>[...w[50]||(w[50]=[createTextVNode(" 移入触发 ",-1)])]),_:1},8,["checked"]),createVNode(l,{checked:!unref(a).isShowFloatingToc,onClick:w[19]||(w[19]=()=>{unref(a).isShowFloatingToc=!1})},{default:withCtx(()=>[...w[51]||(w[51]=[createTextVNode(" 隐藏 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}),createVNode(N),createVNode(v,{onClick:w[20]||(w[20]=S=>u.value=!unref(u))},{default:withCtx(()=>[createVNode(unref(Palette),{class:"mr-2 h-4 w-4"}),w[52]||(w[52]=createTextVNode(" 样式面板 ",-1))]),_:1}),createVNode(v,{onClick:w[21]||(w[21]=S=>f.value=!unref(f))},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 h-4 w-4"}),w[53]||(w[53]=createTextVNode(" CSS 编辑器 ",-1))]),_:1})]),_:1})]),_:1}))}}}),_hoisted_1$a={class:"header-container h-15 flex flex-wrap items-center justify-between px-5 relative"},_hoisted_2$9={class:"space-x-1 hidden md:flex"},_hoisted_3$9={class:"md:hidden"},_hoisted_4$9={class:"flex flex-wrap items-center gap-2"},_sfc_main$c=defineComponent({__name:"index",emits:["startCopy","endCopy"],setup(e,{emit:t}){const o=t,a=useEditorStore(),n=useThemeStore(),s=useRenderStore(),i=useUIStore(),f=useExportStore(),{editor:u}=storeToRefs(a),{output:g}=storeToRefs(s),{primaryColor:p}=storeToRefs(n),{isOpenRightSlider:h}=storeToRefs(i);function x(){n.updateCodeTheme();const E=a.getContent();s.render(E)}const _=ref(!1),w=ref(!1),C=ref(!1);function l(){_.value=!0}function m(){w.value=!0}function k(){C.value=!0}const N=store.reactive(addPrefix("copyMode"),"txt"),{copy:v}=useClipboard({legacy:!0}),V=E=>new Promise(R=>window.setTimeout(R,E)),$=E=>E instanceof Error?E.message:String(E);async function A(E){if(!navigator.clipboard?.write)throw new Error("Clipboard API not available.");await V(0),await navigator.clipboard.write(E)}function S(E){const R=window.getSelection();if(!R)return!1;const F=document.createElement("div");F.innerHTML=E,F.style.position="fixed",F.style.left="-9999px",F.style.top="0",F.style.opacity="0",F.style.pointerEvents="none",F.style.setProperty("background-color","#ffffff","important"),F.style.setProperty("color","#000000","important"),document.body.appendChild(F);const T=document.documentElement,ae=T.classList.contains("dark");let se=!1;try{ae&&T.classList.remove("dark");const K=document.createRange();K.selectNodeContents(F),R.removeAllRanges(),R.addRange(K),se=document.execCommand("copy")}catch{se=!1}finally{R.removeAllRanges(),F.remove(),ae&&T.classList.add("dark")}return se}async function H(){if(N.value==="md"){const E=u.value?.state.doc.toString()||"";await v(E),toast.success("已复制 Markdown 源码到剪贴板。");return}o("startCopy"),setTimeout(()=>{nextTick(async()=>{try{await processClipboardContent(p.value)}catch(F){toast.error(`处理 HTML 失败，请联系开发者。${$(F)}`),x(),o("endCopy");return}const E=document.getElementById("output");if(!E){toast.error("未找到复制输出区域，请刷新页面后重试。"),x(),o("endCopy");return}E.focus(),window.getSelection()?.removeAllRanges();const R=E.innerHTML;if(N.value==="txt")try{if(typeof ClipboardItem>"u")throw new TypeError("ClipboardItem is not supported in this browser.");const F=E.textContent||"",T=new ClipboardItem({"text/html":new Blob([R],{type:"text/html"}),"text/plain":new Blob([F],{type:"text/plain"})});await A([T])}catch(F){if(!S(R)){E.innerHTML=g.value,window.getSelection()?.removeAllRanges(),x(),toast.error(`复制失败，请联系开发者。${$(F)}`),o("endCopy");return}}E.innerHTML=g.value,N.value==="html"?await v(R):N.value==="html-without-style"?await v(await generatePureHTML(u.value.state.doc.toString())):N.value==="html-and-style"&&await v(f.editorContent2HTML()),toast.success(N.value==="html"?"已复制 HTML 源码，请进行下一步操作。":"已复制渲染后的内容到剪贴板，可直接到公众号后台粘贴。"),window.dispatchEvent(new CustomEvent("copyToMp",{detail:{content:g.value}})),x(),o("endCopy")})},350)}function G(E){N.value=E,H()}function y(){N.value="txt",H()}return(E,R)=>{const F=_sfc_main$w,T=_sfc_main$1Q,ae=_sfc_main$x,se=_sfc_main$y,K=_sfc_main$z,Z=_sfc_main$A,le=_sfc_main$F,j=_sfc_main$G,D=_sfc_main$H,ie=AIImageGeneratorPanel;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("header",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$9,[createVNode(F,{class:"menubar border-0"},{default:withCtx(()=>[createVNode(_sfc_main$o,{onOpenEditorState:k}),createVNode(_sfc_main$p,{onCopy:G}),createVNode(_sfc_main$k),createVNode(_sfc_main$i),createVNode(_sfc_main$e),createVNode(_sfc_main$d),createVNode(_sfc_main$j,{onOpenAbout:l,onOpenFund:m})]),_:1})]),createBaseVNode("div",_hoisted_3$9,[createVNode(F,{class:"menubar border-0 p-0"},{default:withCtx(()=>[createVNode(K,null,{default:withCtx(()=>[createVNode(ae,{class:"p-0"},{default:withCtx(()=>[createVNode(T,{variant:"outline",size:"icon"},{default:withCtx(()=>[createVNode(unref(Menu),{class:"size-4"})]),_:1})]),_:1}),createVNode(se,{align:"start"},{default:withCtx(()=>[createVNode(_sfc_main$o,{"as-sub":!0,onOpenEditorState:k}),createVNode(_sfc_main$p,{"as-sub":!0,onCopy:G}),createVNode(_sfc_main$k,{"as-sub":!0}),createVNode(_sfc_main$i,{"as-sub":!0}),createVNode(_sfc_main$e,{"as-sub":!0}),createVNode(_sfc_main$d,{"as-sub":!0}),createVNode(_sfc_main$j,{"as-sub":!0,onOpenAbout:l,onOpenFund:m})]),_:1})]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_4$9,[createVNode(T,{variant:"outline",class:"h-9",onClick:y},{default:withCtx(()=>[createVNode(unref(Copy),{class:"mr-2 h-4 w-4"}),R[5]||(R[5]=createBaseVNode("span",null,"复制",-1))]),_:1}),createVNode(Z,{class:"hidden md:inline-flex"}),createVNode(T,{variant:"outline",class:normalizeClass(["h-9",{"bg-accent text-accent-foreground":unref(h)}]),onClick:R[0]||(R[0]=de=>h.value=!unref(h))},{default:withCtx(()=>[createVNode(unref(Palette),{class:"mr-2 h-4 w-4"}),R[6]||(R[6]=createBaseVNode("span",null,"样式",-1))]),_:1},8,["class"])])]),createVNode(le,{visible:unref(_),onClose:R[1]||(R[1]=de=>_.value=!1)},null,8,["visible"]),createVNode(j,{visible:unref(w),onClose:R[2]||(R[2]=de=>w.value=!1)},null,8,["visible"]),createVNode(D,{visible:unref(C),onClose:R[3]||(R[3]=de=>C.value=!1)},null,8,["visible"]),createVNode(ie,{open:unref(i).aiImageDialogVisible,"onUpdate:open":R[4]||(R[4]=de=>unref(i).aiImageDialogVisible=de)},null,8,["open"])],64)}}}),__unplugin_components_1=_export_sfc(_sfc_main$c,[["__scopeId","data-v-a5d4f213"]]),useAIConfigStore=defineStore("AIConfig",()=>{const e=store.reactive("openai_type",DEFAULT_SERVICE_TYPE),t=store.reactive("openai_temperature",DEFAULT_SERVICE_TEMPERATURE),o=store.reactive("openai_max_token",DEFAULT_SERVICE_MAX_TOKEN),a=ref(""),n=ref(""),s=customRef((f,u)=>{let g="";return store.get(`openai_key_${e.value}`).then(p=>{g=p||DEFAULT_SERVICE_KEY}),{get(){return f(),g},set(p){g=p,u(),e.value!==DEFAULT_SERVICE_TYPE&&store.set(`openai_key_${e.value}`,p)}}});return watch(e,async f=>{const u=serviceOptions.find(p=>p.value===f)??serviceOptions[0];a.value=u.endpoint;const g=await store.get(`openai_model_${f}`)||"";n.value=u.models.includes(g)?g:u.models[0],await store.set(`openai_model_${f}`,n.value)},{immediate:!0}),watch(n,async f=>{await store.set(`openai_model_${e.value}`,f)}),{type:e,endpoint:a,model:n,temperature:t,maxToken:o,apiKey:s,reset:async()=>{e.value=DEFAULT_SERVICE_TYPE,t.value=DEFAULT_SERVICE_TEMPERATURE,o.value=DEFAULT_SERVICE_MAX_TOKEN,await Promise.all(serviceOptions.map(async({value:f})=>{await store.remove(`openai_key_${f}`),await store.remove(`openai_model_${f}`)}))}}}),_hoisted_1$9={class:"custom-scroll space-y-4 max-h-[calc(100dvh-10rem)] overflow-y-auto pr-1 text-xs sm:max-h-none sm:text-sm"},_hoisted_2$8={key:0},_hoisted_3$8={key:1},_hoisted_4$8={class:"mt-2 flex flex-col gap-2 sm:flex-row"},_hoisted_5$7={key:2,class:"mt-1 text-xs text-gray-500"},_sfc_main$b=defineComponent({__name:"AIConfig",emits:["saved"],setup(e,{emit:t}){const o=t,a=useAIConfigStore(),{type:n,endpoint:s,model:i,apiKey:f,temperature:u,maxToken:g}=storeToRefs(a),p=ref(!1),h=ref(""),x=computed(()=>serviceOptions.find(l=>l.value===n.value)||serviceOptions[0]);watch(n,()=>{h.value=""}),watch(i,()=>{h.value=""});function _(l=!0){l&&(h.value="✅ 配置已保存",o("saved"))}function w(){a.reset(),h.value="🗑️ 当前 AI 配置已清除"}async function C(){h.value="",p.value=!0;const l={"Content-Type":"application/json"};f.value&&n.value!==DEFAULT_SERVICE_TYPE&&(l.Authorization=`Bearer ${f.value}`);try{const m=new URL(s.value);m.pathname.endsWith("/chat/completions")||(m.pathname=m.pathname.replace(/\/?$/,"/chat/completions"));const k={model:i.value,messages:[{role:"user",content:"ping"}],temperature:0,max_tokens:1,stream:!1},N=await window.fetch(m.toString(),{method:"POST",headers:l,body:JSON.stringify(k)});if(N.ok)h.value="✅ 测试成功，/chat/completions 可用",_(!1);else{const v=await N.text();try{const{error:V}=JSON.parse(v);if(N.status===404&&(V?.code==="ModelNotOpen"||/not activated|未开通/i.test(V?.message))){h.value=`⚠️ 测试成功，但当前模型未开通：${i.value}`,_(!1);return}}catch{}h.value=`❌ 测试失败：${N.status} ${N.statusText}，${v}`}}catch(m){h.value=`❌ 测试失败：${m.message}`}finally{p.value=!1}}return(l,m)=>{const k=_sfc_main$1F,N=_sfc_main$1f,v=_sfc_main$1g,V=_sfc_main$1j,$=_sfc_main$1e,A=_sfc_main$1l,S=_sfc_main$1G,H=_sfc_main$M,G=_sfc_main$N,y=_sfc_main$O,E=_sfc_main$P,R=_sfc_main$1Q;return openBlock(),createElementBlock("div",_hoisted_1$9,[m[16]||(m[16]=createBaseVNode("div",{class:"font-medium"}," AI 配置 ",-1)),createBaseVNode("div",null,[createVNode(k,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...m[7]||(m[7]=[createTextVNode("服务类型",-1)])]),_:1}),createVNode(A,{modelValue:unref(n),"onUpdate:modelValue":m[0]||(m[0]=F=>isRef(n)?n.value=F:null)},{default:withCtx(()=>[createVNode(v,{class:"w-full"},{default:withCtx(()=>[createVNode(N,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(x).label),1)]),_:1})]),_:1}),createVNode($,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(serviceOptions),F=>(openBlock(),createBlock(V,{key:F.value,value:F.value},{default:withCtx(()=>[createTextVNode(toDisplayString(F.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),unref(n)!==unref(DEFAULT_SERVICE_TYPE)?(openBlock(),createElementBlock("div",_hoisted_2$8,[createVNode(k,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...m[8]||(m[8]=[createTextVNode("API 端点",-1)])]),_:1}),createVNode(S,{modelValue:unref(s),"onUpdate:modelValue":m[1]||(m[1]=F=>isRef(s)?s.value=F:null),placeholder:"输入 API 端点 URL",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])])):createCommentVNode("",!0),unref(n)!==unref(DEFAULT_SERVICE_TYPE)?(openBlock(),createElementBlock("div",_hoisted_3$8,[createVNode(k,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...m[9]||(m[9]=[createTextVNode("API 密钥",-1)])]),_:1}),createVNode(unref(_sfc_main$K),{modelValue:unref(f),"onUpdate:modelValue":m[2]||(m[2]=F=>isRef(f)?f.value=F:null),placeholder:"sk-...",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])])):createCommentVNode("",!0),createBaseVNode("div",null,[createVNode(k,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...m[10]||(m[10]=[createTextVNode("模型名称",-1)])]),_:1}),unref(x).models.length>0?(openBlock(),createBlock(A,{key:0,modelValue:unref(i),"onUpdate:modelValue":m[3]||(m[3]=F=>isRef(i)?i.value=F:null)},{default:withCtx(()=>[createVNode(v,{class:"w-full"},{default:withCtx(()=>[createVNode(N,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(i)||"请选择模型"),1)]),_:1})]),_:1}),createVNode($,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(x).models,F=>(openBlock(),createBlock(V,{key:F,value:F},{default:withCtx(()=>[createTextVNode(toDisplayString(F),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])):(openBlock(),createBlock(S,{key:1,modelValue:unref(i),"onUpdate:modelValue":m[4]||(m[4]=F=>isRef(i)?i.value=F:null),placeholder:"输入模型名称",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"]))]),createBaseVNode("div",null,[createVNode(k,{class:"mb-1 flex items-center gap-1 text-sm font-medium"},{default:withCtx(()=>[m[12]||(m[12]=createTextVNode(" 温度 ",-1)),createVNode(E,null,{default:withCtx(()=>[createVNode(y,null,{default:withCtx(()=>[createVNode(H,{"as-child":""},{default:withCtx(()=>[createVNode(unref(Info),{class:"text-gray-500",size:16})]),_:1}),createVNode(G,{side:"top",class:"z-[250]"},{default:withCtx(()=>[...m[11]||(m[11]=[createBaseVNode("div",null,"控制输出的随机性：较小值使输出更确定，较大值使其更随机。",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(S,{modelValue:unref(u),"onUpdate:modelValue":m[5]||(m[5]=F=>isRef(u)?u.value=F:null),modelModifiers:{number:!0},type:"number",step:"0.1",min:"0",max:"2",placeholder:"0 ~ 2，默认 1",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])]),createBaseVNode("div",null,[createVNode(k,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...m[13]||(m[13]=[createTextVNode("最大 Token 数",-1)])]),_:1}),createVNode(S,{modelValue:unref(g),"onUpdate:modelValue":m[6]||(m[6]=F=>isRef(g)?g.value=F:null),modelModifiers:{number:!0},type:"number",min:"1",max:"32768",placeholder:"比如 1024",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_4$8,[createVNode(R,{size:"sm",onClick:_},{default:withCtx(()=>[...m[14]||(m[14]=[createTextVNode(" 保存 ",-1)])]),_:1}),createVNode(R,{size:"sm",variant:"ghost",onClick:w},{default:withCtx(()=>[...m[15]||(m[15]=[createTextVNode(" 清空 ",-1)])]),_:1}),createVNode(R,{size:"sm",variant:"outline",disabled:unref(p),onClick:C},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(p)?"测试中...":"测试连接"),1)]),_:1},8,["disabled"])]),unref(h)?(openBlock(),createElementBlock("div",_hoisted_5$7,toDisplayString(unref(h)),1)):createCommentVNode("",!0)])}}}),__unplugin_components_0=_export_sfc(_sfc_main$b,[["__scopeId","data-v-670209a6"]]),STORAGE_KEY="quick_commands";function hydrate(e){return{...e,buildPrompt:(t="")=>e.template.replace(/\{\{\s*sel\s*\}\}/gi,t)}}const DEFAULT_COMMANDS=[{id:"polish",label:"润色",template:`请润色以下内容：

{{sel}}`},{id:"to-en",label:"翻译成英文",template:`请将以下内容翻译为英文：

{{sel}}`},{id:"to-zh",label:"翻译成中文",template:`Please translate the following content into Chinese:

{{sel}}`},{id:"summary",label:"总结",template:`请对以下内容进行总结：

{{sel}}`}],useQuickCommands=defineStore("quickCommands",()=>{const e=ref([]);async function t(){const i=e.value.map(({id:f,label:u,template:g})=>({id:f,label:u,template:g}));await store.setJSON(STORAGE_KEY,i)}async function o(){const i=await store.getJSON(STORAGE_KEY);if(i&&Array.isArray(i))try{e.value=i.map(hydrate)}catch(f){console.warn("解析快捷指令失败，已恢复默认值",f),e.value=DEFAULT_COMMANDS.map(hydrate),await t()}else e.value=DEFAULT_COMMANDS.map(hydrate),await t()}function a(i,f){const u=crypto.randomUUID();e.value.push(hydrate({id:u,label:i,template:f}))}function n(i,f,u){const g=e.value.findIndex(p=>p.id===i);g!==-1&&(e.value[g]=hydrate({id:i,label:f,template:u}))}function s(i){e.value=e.value.filter(f=>f.id!==i)}return o(),watch(e,t,{deep:!0}),{commands:e,add:a,update:n,remove:s}}),_hoisted_1$8={class:"space-y-4 flex-1 overflow-y-auto pr-1"},_hoisted_2$7={class:"flex justify-end gap-2"},_hoisted_3$7={key:1,class:"flex items-center justify-between"},_hoisted_4$7={class:"break-all text-sm"},_hoisted_5$6={class:"flex gap-1"},_hoisted_6$6={class:"space-y-2 mt-4 border rounded-md p-3"},_sfc_main$a=defineComponent({__name:"QuickCommandManager",props:{open:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const o=e,a=t,n=ref(o.open);watch(()=>o.open,C=>n.value=C),watch(n,C=>a("update:open",C));const s=useQuickCommands(),i=ref(""),f=ref("");function u(){!i.value.trim()||!f.value.trim()||(s.add(i.value.trim(),f.value.trim()),i.value="",f.value="")}const g=ref(null),p=ref(""),h=ref("");function x(C){g.value=C.id,p.value=C.label,h.value=C.template}function _(){g.value=null}function w(){!p.value.trim()||!h.value.trim()||(s.update(g.value,p.value.trim(),h.value.trim()),g.value=null)}return(C,l)=>(openBlock(),createBlock(unref(_sfc_main$1K),{open:n.value,"onUpdate:open":l[4]||(l[4]=m=>n.value=m)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1J),{class:"max-h-[90vh] w-[92vw] flex flex-col sm:max-w-lg"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1E),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$1C),null,{default:withCtx(()=>[...l[5]||(l[5]=[createTextVNode("管理快捷指令",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s).commands,m=>(openBlock(),createElementBlock("div",{key:m.id,class:"flex flex-col gap-2 border rounded-md p-3"},[g.value===m.id?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(unref(_sfc_main$1G),{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=k=>p.value=k),placeholder:"指令名称"},null,8,["modelValue"]),createVNode(unref(_sfc_main$1H),{modelValue:h.value,"onUpdate:modelValue":l[1]||(l[1]=k=>h.value=k),rows:"2",placeholder:"模板内容，支持 {{sel}} 占位"},null,8,["modelValue"]),createBaseVNode("div",_hoisted_2$7,[createVNode(unref(_sfc_main$1Q),{size:"xs",onClick:w},{default:withCtx(()=>[...l[6]||(l[6]=[createTextVNode(" 保存 ",-1)])]),_:1}),createVNode(unref(_sfc_main$1Q),{variant:"ghost",size:"xs",onClick:_},{default:withCtx(()=>[...l[7]||(l[7]=[createTextVNode(" 取消 ",-1)])]),_:1})])],64)):(openBlock(),createElementBlock("div",_hoisted_3$7,[createBaseVNode("span",_hoisted_4$7,toDisplayString(m.label),1),createBaseVNode("div",_hoisted_5$6,[createVNode(unref(_sfc_main$1Q),{variant:"ghost",size:"xs",onClick:k=>x(m)},{default:withCtx(()=>[...l[8]||(l[8]=[createTextVNode(" 编辑 ",-1)])]),_:1},8,["onClick"]),createVNode(unref(_sfc_main$1Q),{variant:"outline",size:"xs",onClick:k=>unref(s).remove(m.id)},{default:withCtx(()=>[...l[9]||(l[9]=[createTextVNode(" 删除 ",-1)])]),_:1},8,["onClick"])])]))]))),128))]),createBaseVNode("div",_hoisted_6$6,[createVNode(unref(_sfc_main$1G),{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=m=>i.value=m),placeholder:"指令名称 (如：改写为 SEO 文案)"},null,8,["modelValue"]),createVNode(unref(_sfc_main$1H),{modelValue:f.value,"onUpdate:modelValue":l[3]||(l[3]=m=>f.value=m),rows:"2",placeholder:"模板，可用 {{sel}} 占位，例如：\\n请把以下文字改写为 SEO 友好的标题：\\n\\n{{sel}}"},null,8,["modelValue"]),createVNode(unref(_sfc_main$1Q),{class:"w-full",onClick:u},{default:withCtx(()=>[...l[10]||(l[10]=[createTextVNode(" 添加 ",-1)])]),_:1})])]),_:1})]),_:1},8,["open"]))}}),_hoisted_1$7={class:"space-x-1 flex items-center"},_hoisted_2$6={class:"flex-1 truncate"},_hoisted_3$6={key:0,class:"mb-3 flex flex-wrap gap-2 overflow-x-auto pb-1"},_hoisted_4$6={key:1,class:"text-muted-foreground flex items-center gap-2 border rounded-md border-dashed px-3 py-1 text-xs"},_hoisted_5$5={key:2,class:"custom-scroll space-y-3 chat-container mb-4 flex-1 overflow-y-auto pr-2"},_hoisted_6$5={key:0,class:"text-muted-foreground mb-1 italic"},_hoisted_7$3={key:3,class:"relative mt-2"},_hoisted_8$3={class:"bg-background border-border flex flex-col items-baseline gap-2 border rounded-xl px-3 py-2 pr-12 shadow-inner"},memoryKey="ai_memory_context",conversationListKey="ai_conversation_list",_sfc_main$9=defineComponent({__name:"AIAssistantPanel",props:{open:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const o=e,a=t,n=useEditorStore(),{editor:s}=storeToRefs(n),i=useUIStore(),{toggleAIImageDialog:f}=i,u=ref(o.open);watch(()=>o.open,M=>u.value=M),watch(u,M=>{a("update:open",M),M&&ee(!0)});const g=ref(""),p=ref([]),h=ref(null),x=ref(!1),_=ref(!1),w=ref(null),C=ref(null),l=ref(!1),m=ref(!1),k=ref(null),N=ref([]),v=ref([]),V=useAIConfigStore(),{apiKey:$,endpoint:A,model:S,temperature:H,maxToken:G,type:y}=storeToRefs(V),E=useQuickCommands();function R(){try{const M=s.value;return M&&typeof M.getSelection=="function"&&M.getSelection()||""}catch(M){return console.warn("获取选中文本失败",M),""}}function F(M){const P=R();g.value=M.buildPrompt(P),h.value=null,nextTick(()=>{const Q=document.querySelector('textarea[placeholder*="说些什么" ]');Q?.focus(),Q&&Q.setSelectionRange(Q.value.length,Q.value.length)})}onMounted(async()=>{const M=await store.get(conversationListKey);M&&(N.value=JSON.parse(M));const P=await store.get(memoryKey);v.value=P?JSON.parse(P).map(Q=>({...Q,id:Q.id||crypto.randomUUID()})):T(),await ee(!0)});function T(){return[{role:"assistant",content:"你好，我是 AI 助手，有什么可以帮你的？",id:crypto.randomUUID()}]}function ae(){const M=v.value.find(Q=>Q.role==="user");if(!M)return`对话 ${new Date().toLocaleString()}`;let P=M.content.trim();return P.length>20&&(P=`${P.substring(0,20)}...`),P}async function se(){if(!(v.value.length<=1)){if(k.value){const M=N.value.find(P=>P.id===k.value);M&&(M.timestamp=Date.now(),await store.setJSON(conversationListKey,N.value))}else{k.value=crypto.randomUUID();const M={id:k.value,name:ae(),timestamp:Date.now()};N.value.unshift(M),await store.setJSON(conversationListKey,N.value)}await store.setJSON(`ai_conversation_${k.value}`,v.value)}}async function K(){await se(),k.value=null,v.value=T(),await store.setJSON(memoryKey,v.value),await ee(!0),toast.success("已创建新会话")}async function Z(M){await se();const P=await store.getJSON(`ai_conversation_${M}`,[]);P.length>0&&(v.value=P.map(Q=>({...Q,id:Q.id||crypto.randomUUID()})),k.value=M,await store.setJSON(memoryKey,v.value),await ee(!0),toast.success("对话已加载"))}async function le(M){N.value=N.value.filter(P=>P.id!==M),await store.setJSON(conversationListKey,N.value),await store.remove(`ai_conversation_${M}`),k.value===M&&(k.value=null,v.value=T(),await store.setJSON(memoryKey,v.value)),toast.success("对话已删除")}function j(){x.value=!1,ee(!0)}function D(){a("update:open",!1),setTimeout(()=>{f(!0)},100)}function ie(M){if(!(M.isComposing||M.keyCode===229)){if(M.key==="Enter"&&!M.shiftKey)M.preventDefault(),Y();else if(M.key==="ArrowUp"){if(M.preventDefault(),p.value.length===0)return;h.value===null?h.value=p.value.length-1:h.value>0&&h.value--,g.value=p.value[h.value]||""}else if(M.key==="ArrowDown"){if(M.preventDefault(),h.value===null)return;h.value<p.value.length-1?(h.value++,g.value=p.value[h.value]||""):(h.value=null,g.value="")}}}async function de(M,P){copyPlain(M),C.value=P,setTimeout(()=>C.value=null,1500)}async function te(){w.value&&(w.value.abort(),w.value=null),k.value&&(N.value=N.value.filter(M=>M.id!==k.value),await store.setJSON(conversationListKey,N.value),await store.remove(`ai_conversation_${k.value}`),k.value=null),v.value=T(),await store.setJSON(memoryKey,v.value),ee(!0),toast.success("会话已清空")}function L(){w.value&&(w.value.abort(),w.value=null),_.value=!1;const M=v.value[v.value.length-1];M?.role==="assistant"&&(M.done=!0),ee(!0)}async function ee(M=!1){await nextTick();const P=document.querySelector(".chat-container");if(P){const Q=P.scrollTop+P.clientHeight>=P.scrollHeight-50;(M||Q)&&(P.scrollTop=P.scrollHeight,await new Promise(me=>setTimeout(me,50)))}}function fe(){l.value=!l.value}async function pe(){if(_.value)return;const M=v.value.length-1;if(M<0||v.value[M].role!=="assistant")return;v.value.splice(M,1),_.value=!0;const P={role:"assistant",content:"",reasoning:"",done:!1};v.value.push(P);const Q=v.value[v.value.length-1];await ee(!0),await W(Q)}async function W(M){const P=v.value.slice(-12).filter((U,J,I)=>!(J===I.length-1&&U.role==="assistant"&&!U.done)&&!(J===0&&U.role==="assistant"));let Q;if(l.value){const U=[];for(let J=P.length-1;J>=0&&U.length<2;J--){const I=P[J];(U.length===0||I.role==="user"||I.role==="assistant")&&U.unshift(I)}Q=U}else Q=P.slice(-10);const me=l.value?[{role:"system",content:`下面是一篇 Markdown 文章全文，请严格以此为主完成后续指令：

${s.value?.state.doc.toString()}`}]:[],re=[{role:"system",content:"你是一个专业的 Markdown 编辑器助手，请用简洁中文回答。"},...me,...Q],ge={model:S.value,messages:re,temperature:H.value,max_tokens:G.value,stream:!0},be={"Content-Type":"application/json"};$.value&&y.value!=="default"&&(be.Authorization=`Bearer ${$.value}`),w.value=new AbortController;const oe=w.value.signal;try{const U=new URL(A.value);U.pathname.endsWith("/chat/completions")||(U.pathname=U.pathname.replace(/\/?$/,"/chat/completions"));const J=await window.fetch(U.toString(),{method:"POST",headers:be,body:JSON.stringify(ge),signal:oe});if(!J.ok||!J.body)throw new Error(`响应错误：${J.status} ${J.statusText}`);const I=J.body.getReader(),we=new TextDecoder("utf-8");let ue="";for(;;){const{value:_e,done:Ne}=await I.read();if(Ne){const Ce=v.value[v.value.length-1];Ce.role==="assistant"&&(Ce.done=!0,await ee(!0));break}ue+=we.decode(_e,{stream:!0});const ve=ue.split(`
`);ue=ve.pop()||"";for(const Ce of ve)if(!(!Ce.trim()||Ce.trim()==="data: [DONE]"))try{const Ve=JSON.parse(Ce.replace(/^data: /,"")).choices?.[0]?.delta||{},ke=v.value[v.value.length-1];if(ke!==M)return;Ve.content?ke.content+=Ve.content:Ve.reasoning_content&&(ke.reasoning=(ke.reasoning||"")+Ve.reasoning_content),await ee()}catch{}}}catch(U){U.name!=="AbortError"&&(v.value[v.value.length-1].content=`❌ 请求失败: ${U.message}`),await ee(!0)}finally{await store.setJSON(memoryKey,v.value),await se(),_.value=!1,w.value=null}}async function Y(){if(!g.value.trim()||_.value)return;p.value.push(g.value.trim()),h.value=null,_.value=!0;const M=g.value.trim();v.value.push({role:"user",content:M}),g.value="";const P={role:"assistant",content:"",reasoning:"",done:!1};v.value.push(P);const Q=v.value[v.value.length-1];await ee(!0),await W(Q)}return(M,P)=>{const Q=_sfc_main$a,me=__unplugin_components_0;return openBlock(),createBlock(unref(_sfc_main$1K),{open:unref(u),"onUpdate:open":P[6]||(P[6]=re=>isRef(u)?u.value=re:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1J),{class:"bg-card text-card-foreground h-dvh max-h-dvh w-full flex flex-col rounded-none shadow-xl sm:max-h-[80vh] sm:max-w-2xl sm:rounded-xl"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1E),{class:"space-y-1 flex flex-col items-start"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$7,[createVNode(unref(_sfc_main$1C),null,{default:withCtx(()=>[...P[7]||(P[7]=[createTextVNode("AI 对话",-1)])]),_:1}),createVNode(unref(_sfc_main$1Q),{title:unref(x)?"AI 对话":"配置参数","aria-label":unref(x)?"AI 对话":"配置参数",variant:"ghost",size:"icon",onClick:P[0]||(P[0]=re=>x.value=!unref(x))},{default:withCtx(()=>[unref(x)?(openBlock(),createBlock(unref(MessageCircle),{key:0,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Settings),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"]),createVNode(unref(_sfc_main$1Q),{title:"AI 文生图","aria-label":"AI 文生图",variant:"ghost",size:"icon",onClick:P[1]||(P[1]=re=>D())},{default:withCtx(()=>[createVNode(unref(Image),{class:"h-4 w-4"})]),_:1}),createVNode(unref(_sfc_main$1Q),{title:"新建会话","aria-label":"新建会话",variant:"ghost",size:"icon",onClick:K},{default:withCtx(()=>[createVNode(unref(Plus),{class:"h-4 w-4"})]),_:1}),createVNode(unref(_sfc_main$Y),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$U),{"as-child":""},{default:withCtx(()=>[createVNode(unref(_sfc_main$1Q),{title:"加载对话","aria-label":"加载对话",variant:"ghost",size:"icon"},{default:withCtx(()=>[createVNode(unref(FolderOpen),{class:"h-4 w-4"})]),_:1})]),_:1}),createVNode(unref(_sfc_main$X),{align:"end",class:"max-h-64 overflow-y-auto w-64 z-[9999]"},{default:withCtx(()=>[unref(N).length===0?(openBlock(),createBlock(unref(_sfc_main$V),{key:0,disabled:"",class:"text-muted-foreground text-sm"},{default:withCtx(()=>[...P[8]||(P[8]=[createTextVNode(" 暂无保存的对话 ",-1)])]),_:1})):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(N),re=>(openBlock(),createBlock(unref(_sfc_main$V),{key:re.id,class:"flex items-center justify-between gap-2 cursor-pointer",onClick:ge=>Z(re.id)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$6,toDisplayString(re.name),1),createVNode(unref(_sfc_main$1Q),{variant:"ghost",size:"icon",class:"h-6 w-6 flex-shrink-0",onClick:withModifiers(ge=>le(re.id),["stop"])},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"h-3 w-3"})]),_:1},8,["onClick"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),createVNode(unref(_sfc_main$1Q),{title:"清空对话内容","aria-label":"清空对话内容",variant:"ghost",size:"icon",onClick:te},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"h-4 w-4"})]),_:1})]),createVNode(unref(_sfc_main$1D),{class:"text-muted-foreground text-sm"},{default:withCtx(()=>[...P[9]||(P[9]=[createTextVNode(" 使用 AI 助手帮助您编写和优化内容 ",-1)])]),_:1})]),_:1}),unref(x)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$6,[unref(E).commands.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(E).commands,re=>(openBlock(),createBlock(unref(_sfc_main$1Q),{key:re.id,variant:"secondary",size:"sm",class:"text-xs",onClick:ge=>F(re)},{default:withCtx(()=>[createTextVNode(toDisplayString(re.label),1)]),_:2},1032,["onClick"]))),128)):(openBlock(),createElementBlock("div",_hoisted_4$6," 还没有任何快捷指令，点击右侧添加 ")),createVNode(unref(_sfc_main$1Q),{variant:"ghost",size:"sm",title:"管理指令",onClick:P[2]||(P[2]=re=>m.value=!0)},{default:withCtx(()=>[createVNode(unref(Plus),{class:"h-4 w-4"})]),_:1}),createVNode(Q,{open:unref(m),"onUpdate:open":P[3]||(P[3]=re=>isRef(m)?m.value=re:null)},null,8,["open"])])),unref(x)?(openBlock(),createBlock(me,{key:1,class:"mb-4 w-full border rounded-md p-4",onSaved:j})):createCommentVNode("",!0),unref(x)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_5$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(v),(re,ge)=>(openBlock(),createElementBlock("div",{key:re.id||ge,class:normalizeClass(["relative flex",re.role==="user"?"justify-end":"justify-start"])},[createBaseVNode("div",{class:normalizeClass(["ring-border/20 max-w-[75%] rounded-2xl px-4 py-2 text-sm leading-relaxed shadow-xs ring-1",re.role==="user"?"bg-black text-white dark:bg-primary dark:text-primary-foreground":"bg-gray-100 text-gray-800 dark:bg-muted/60 dark:text-muted-foreground"])},[re.reasoning?(openBlock(),createElementBlock("div",_hoisted_6$5,toDisplayString(re.reasoning),1)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["whitespace-pre-wrap",re.content?"":"animate-pulse text-muted-foreground"])},toDisplayString(re.content||(re.role==="assistant"&&!re.done?"思考中…":"")),3),createBaseVNode("div",{class:normalizeClass(["mt-1 flex",re.role==="user"?"justify-end":"justify-start"])},[ge>0&&!(re.role==="assistant"&&ge===unref(v).length-1&&!re.done)?(openBlock(),createBlock(unref(_sfc_main$1Q),{key:0,variant:"ghost",size:"icon",class:"ml-0 h-5 w-5 p-1","aria-label":"复制内容",onClick:be=>de(re.content,ge)},{default:withCtx(()=>[unref(C)===ge?(openBlock(),createBlock(unref(Check),{key:0,class:"h-3 w-3 text-green-600"})):(openBlock(),createBlock(unref(Copy),{key:1,class:"text-muted-foreground h-3 w-3"}))]),_:2},1032,["onClick"])):createCommentVNode("",!0),re.role==="assistant"&&re.done&&ge===unref(v).length-1?(openBlock(),createBlock(unref(_sfc_main$1Q),{key:1,variant:"ghost",size:"icon",class:"ml-1 h-5 w-5 p-1","aria-label":"重新生成",onClick:pe},{default:withCtx(()=>[createVNode(unref(RefreshCcw),{class:"text-muted-foreground h-3 w-3"})]),_:1})):createCommentVNode("",!0)],2)],2)],2))),128))])),unref(x)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$3,[createBaseVNode("div",_hoisted_8$3,[createVNode(unref(_sfc_main$1H),{modelValue:unref(g),"onUpdate:modelValue":P[4]||(P[4]=re=>isRef(g)?g.value=re:null),placeholder:"说些什么… (Enter 发送，Shift+Enter 换行)",rows:"2",class:"custom-scroll min-h-16 w-full resize-none border-none bg-transparent p-0 focus-visible:outline-hidden focus:outline-hidden focus-visible:ring-0 focus:ring-0 focus-visible:ring-offset-0 focus:ring-offset-0 focus-visible:ring-transparent focus:ring-transparent",onKeydown:ie},null,8,["modelValue"]),createVNode(unref(_sfc_main$1Q),{size:"sm",variant:"outline",class:normalizeClass(["h-8 flex items-center gap-1 rounded-md px-3 font-medium transition-colors duration-150",[unref(l)?"bg-primary text-white border-primary dark:bg-white dark:text-black dark:border-white":"bg-background text-muted-foreground border-border hover:text-foreground hover:border-foreground dark:bg-muted dark:text-gray-400 dark:hover:text-white dark:hover:border-white/60"]]),"aria-label":"引用全文",onClick:fe},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(l)?unref(Check):unref(Copy)),{class:"h-4 w-4"})),P[10]||(P[10]=createBaseVNode("span",{class:"text-xs"},"引用全文",-1))]),_:1},8,["class"]),createVNode(unref(_sfc_main$1Q),{disabled:!unref(g).trim()&&!unref(_),size:"icon",class:normalizeClass(["absolute bottom-3 right-3 rounded-full disabled:opacity-40","bg-primary hover:bg-primary/90 text-primary-foreground"]),"aria-label":unref(_)?"暂停":"发送",onClick:P[5]||(P[5]=re=>unref(_)?L():Y())},{default:withCtx(()=>[unref(_)?(openBlock(),createBlock(unref(Pause),{key:0,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Send),{key:1,class:"h-4 w-4"}))]),_:1},8,["disabled","aria-label"])])]))]),_:1})]),_:1},8,["open"])}}}),AIAssistantPanel=_export_sfc(_sfc_main$9,[["__scopeId","data-v-6dff03fd"]]),_hoisted_1$6={class:"space-x-1 flex items-center"},_hoisted_2$5={key:1,class:"custom-scroll space-y-3 flex-1 overflow-y-auto px-6 pb-3"},_hoisted_3$5={class:"border-border custom-scroll bg-muted/20 text-muted-foreground max-h-32 overflow-y-auto whitespace-pre-line border rounded px-3 py-2 text-sm"},_hoisted_4$5={key:0},_hoisted_5$4={class:"custom-scroll border-border max-h-24 min-h-[40px] flex flex-wrap gap-2 overflow-y-auto border rounded px-2 py-1"},_hoisted_6$4=["onClick"],_hoisted_7$2={key:1,class:"min-h-[20px] flex items-center text-xs text-red-500"},_hoisted_8$2={key:2},_hoisted_9$2={key:2,class:"flex justify-end gap-2 px-6 py-3.5 mt-auto"},_sfc_main$8=defineComponent({__name:"ToolBoxPopover",props:{open:{type:Boolean},selectedText:{},isMobile:{type:Boolean}},emits:["update:open"],setup(e,{expose:t,emit:o}){const a=e,n=o,s=ref(!1),i=ref(a.open),f=ref(""),u=ref(!1),g=ref(null),p=ref([]),h=ref(!1),x=ref("optimize"),_=ref(""),w=ref(""),C=useEditorStore(),l=ref(null);watch(()=>a.open,se=>{i.value=se,se&&a.selectedText.trim()&&(_.value=a.selectedText,y())}),watch(i,se=>n("update:open",se));const m=useAIConfigStore(),{apiKey:k,endpoint:N,model:v,temperature:V,maxToken:$,type:A}=storeToRefs(m),S=[{value:"optimize",label:"优化文本",defaultPrompt:"请优化文本，使其更通顺易读。"},{value:"summarize",label:"文章总结",defaultPrompt:"请对文本进行摘要，输出主要观点和结论。"},{value:"spellcheck",label:"错别字纠正",defaultPrompt:"请找出并纠正文本中的错别字、标点和语法错误。"},{value:"translate-zh",label:"翻译为中文",defaultPrompt:"请将文本翻译为地道的中文。"},{value:"translate-en",label:"翻译为英文",defaultPrompt:"请将文本翻译为自然流畅的英文。"},{value:"custom",label:"自定义",defaultPrompt:""}];watch(f,async()=>{await nextTick(),l.value?.scrollTo({top:l.value.scrollHeight})}),watch(x,se=>{se!=="custom"&&(p.value=[])}),watch(()=>a.selectedText,se=>{i.value&&(_.value=se,y())});function H(se){const K=se.target,Z=K.value.trim();Z&&!p.value.includes(Z)&&p.value.push(Z),K.value=""}function G(se){p.value.splice(se,1)}function y(){f.value="",u.value=!1,h.value=!1,w.value="",g.value?.abort(),g.value=null}async function E(){const se=_.value.trim();if(!se||u.value)return;y(),u.value=!0,g.value=new AbortController;const K="你是一名专业的多语言文本助手，请根据用户的指令处理下列内容。在输出时，不要输出任何额外的信息，只输出处理后的文本。",Z=S.find(te=>te.value===x.value),le=[];Z.defaultPrompt&&le.push(Z.defaultPrompt),p.value.length&&le.push(`请同时满足以下要求：${p.value.join("、")}。`),le.length||le.push("请根据最佳实践优化文本。");const j=le.join(" "),D=[{role:"system",content:K},{role:"user",content:`${j}

待处理文本：
${se}`}],ie={model:v.value,messages:D,temperature:V.value,max_tokens:$.value,stream:!0},de={"Content-Type":"application/json"};k.value&&A.value!=="default"&&(de.Authorization=`Bearer ${k.value}`);try{const te=new URL(N.value);te.pathname.endsWith("/chat/completions")||(te.pathname=te.pathname.replace(/\/?$/,"/chat/completions"));const L=await window.fetch(te.toString(),{method:"POST",headers:de,body:JSON.stringify(ie),signal:g.value.signal});if(!L.ok||!L.body)throw new Error(`响应错误：${L.status}`);const ee=L.body.getReader(),fe=new TextDecoder("utf-8");let pe="";for(;;){const{value:W,done:Y}=await ee.read();if(Y)break;pe+=fe.decode(W,{stream:!0});const M=pe.split(`
`);pe=M.pop()||"";for(const P of M)if(!(!P.trim()||P.trim()==="data: [DONE]"))try{const me=JSON.parse(P.replace(/^data: /,"")).choices?.[0]?.delta?.content;me?.trim()&&(f.value+=me,h.value=!0)}catch{}}}catch(te){te.name==="AbortError"?console.log("Request aborted by user."):(console.error("请求失败：",te),w.value=te.message||"请求失败")}finally{u.value=!1}}function R(){u.value&&g.value&&(g.value.abort(),u.value=!1)}function F(){const se=toRaw(C.editor),K=se.state.selection.main;se.dispatch(se.state.replaceSelection(f.value));const Z=se.state.selection.main;se.dispatch({selection:{anchor:K.from,head:Z.head}}),se.focus(),_.value=f.value,y()}function T(){i.value=!0}function ae(){i.value=!1,p.value=[],x.value="optimize",y()}return t({dialogVisible:i,runAIAction:E,replaceText:F,show:T,close:ae,stopAI:R}),(se,K)=>{const Z=__unplugin_components_0;return openBlock(),createBlock(unref(_sfc_main$1K),{open:unref(i),"onUpdate:open":K[3]||(K[3]=le=>isRef(i)?i.value=le:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1J),{class:"bg-card text-card-foreground flex flex-col w-[95vw] max-h-[90vh] sm:max-h-[85vh] sm:max-w-2xl overflow-hidden p-0"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1E),{class:"space-y-1 flex flex-col items-start px-6 pt-6 pb-4"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$6,[createVNode(unref(_sfc_main$1C),null,{default:withCtx(()=>[...K[4]||(K[4]=[createTextVNode("AI 工具箱",-1)])]),_:1}),createVNode(unref(_sfc_main$1Q),{title:unref(s)?"AI 工具箱":"配置参数","aria-label":unref(s)?"AI 工具箱":"配置参数",variant:"ghost",size:"icon",onClick:K[0]||(K[0]=le=>s.value=!unref(s))},{default:withCtx(()=>[unref(s)?(openBlock(),createBlock(unref(WandSparkles),{key:0,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Settings),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"])])]),_:1}),unref(s)?(openBlock(),createBlock(Z,{key:0,class:"border-border mx-6 mb-4 w-auto border rounded-md p-4",onSaved:K[1]||(K[1]=()=>s.value=!1)})):(openBlock(),createElementBlock("div",_hoisted_2$5,[createBaseVNode("div",null,[K[5]||(K[5]=createBaseVNode("div",{class:"mb-1.5 text-sm font-medium"}," 选择操作 ",-1)),createVNode(unref(_sfc_main$1l),{modelValue:unref(x),"onUpdate:modelValue":K[2]||(K[2]=le=>isRef(x)?x.value=le:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),{placeholder:"请选择要执行的操作"})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$1k),null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(S,le=>createVNode(unref(_sfc_main$1j),{key:le.value,value:le.value},{default:withCtx(()=>[createTextVNode(toDisplayString(le.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",null,[K[6]||(K[6]=createBaseVNode("div",{class:"mb-1.5 text-sm font-medium"}," 原文 ",-1)),createBaseVNode("div",_hoisted_3$5,toDisplayString(unref(_)),1)]),unref(x)==="custom"?(openBlock(),createElementBlock("div",_hoisted_4$5,[K[7]||(K[7]=createBaseVNode("div",{class:"mb-1.5 text-sm font-medium"}," 自定义提示词（可选） ",-1)),createBaseVNode("div",_hoisted_5$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(p),(le,j)=>(openBlock(),createElementBlock("div",{key:j,class:"text-muted-foreground bg-muted flex items-center gap-1 rounded-full px-2 py-1 text-sm"},[createBaseVNode("span",null,toDisplayString(le),1),createBaseVNode("button",{class:"hover:bg-muted/60 h-4 w-4 flex items-center justify-center rounded-full",onClick:D=>G(j)},[createVNode(unref(X),{class:"h-3 w-3"})],8,_hoisted_6$4)]))),128)),createBaseVNode("input",{class:"min-w-[100px] flex-1 bg-transparent py-1 text-sm focus:outline-hidden",placeholder:"输入提示词后按回车",onKeydown:withKeys(H,["enter"])},null,32)])])):createCommentVNode("",!0),unref(w)?(openBlock(),createElementBlock("div",_hoisted_7$2,toDisplayString(unref(w)),1)):createCommentVNode("",!0),unref(f)?(openBlock(),createElementBlock("div",_hoisted_8$2,[K[8]||(K[8]=createBaseVNode("div",{class:"mb-1.5 text-sm font-medium"}," 处理结果 ",-1)),createBaseVNode("div",{ref_key:"resultContainer",ref:l,class:"custom-scroll border-border bg-background max-h-40 min-h-[60px] overflow-y-auto whitespace-pre-line border rounded px-3 py-2 text-sm"},toDisplayString(unref(f)),513)])):createCommentVNode("",!0)])),unref(s)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9$2,[unref(u)?(openBlock(),createBlock(unref(_sfc_main$1Q),{key:0,variant:"secondary",onClick:R},{default:withCtx(()=>[createVNode(unref(Pause),{class:"mr-1 h-4 w-4"}),K[9]||(K[9]=createTextVNode(" 终止 ",-1))]),_:1})):createCommentVNode("",!0),unref(h)&&!unref(u)?(openBlock(),createBlock(unref(_sfc_main$1Q),{key:1,variant:"default",onClick:F},{default:withCtx(()=>[...K[10]||(K[10]=[createTextVNode(" 接受 ",-1)])]),_:1})):createCommentVNode("",!0),unref(u)?createCommentVNode("",!0):(openBlock(),createBlock(unref(_sfc_main$1Q),{key:2,variant:"outline",disabled:!unref(h)&&!!unref(f),onClick:E},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(h)?"重试":"AI 处理"),1)]),_:1},8,["disabled"]))]))]),_:1})]),_:1},8,["open"])}}}),AIPolishPopover=_export_sfc(_sfc_main$8,[["__scopeId","data-v-71e2c135"]]),_hoisted_1$5={key:0,class:"editor-ai-toolbar absolute top-1/2 -translate-y-1/2 right-0 z-30 transition-all duration-300 ease-out"},_hoisted_2$4={key:0,class:"hint-bubble absolute right-full mr-3 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-sm font-medium rounded-lg shadow-xl whitespace-nowrap pointer-events-none animate-bounce-gentle z-50",style:{top:"50%",transform:"translateY(-50%)"}},_hoisted_3$4={class:"relative flex items-center gap-2"},_hoisted_4$4={key:1,class:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-l border-gray-200/50 dark:border-gray-700/50 shadow-lg overflow-hidden transition-all duration-300 w-12 rounded-l-md",style:{height:"auto"}},_hoisted_5$3={class:"flex flex-col py-2 gap-2"},_hoisted_6$3={class:"flex flex-col items-center gap-1 px-1"},_hoisted_7$1={class:"flex flex-col items-center gap-1 px-1"},_hoisted_8$1={key:0,class:"mx-1.5"},_hoisted_9$1={key:1,class:"flex flex-col items-center gap-1 px-1"},_sfc_main$7=defineComponent({__name:"SidebarAIToolbar",props:{isMobile:{type:Boolean},showEditor:{type:Boolean}},setup(e){const t=useUIStore(),{aiDialogVisible:o,aiImageDialogVisible:a}=storeToRefs(t),{toggleAIDialog:n,toggleAIImageDialog:s}=t,i=useEditorStore(),{editor:f}=storeToRefs(i),{hasShownAIToolboxHint:u}=storeToRefs(t),g=ref(!1),p=ref(!1),h=ref(!1);let x=null,_=null,w="";function C(){try{if(!f.value)return"";const A=f.value.state.selection.main;return f.value.state.doc.sliceString(A.from,A.to).trim()}catch{return""}}function l(){if(u.value)return;const A=C();A!==w&&(w=A,x&&(clearTimeout(x),x=null),A&&!g.value?(h.value=!0,u.value=!0,x=setTimeout(()=>{h.value=!1},3e3)):h.value=!1)}const m=computed(()=>!f.value||!g.value?!1:C().length>0),k=computed(()=>p.value?C():"");function N(){g.value=!g.value,g.value&&(h.value=!1,x&&(clearTimeout(x),x=null))}function v(){n(!0)}function V(){s(!0)}function $(){p.value=!0}return onMounted(()=>{_=setInterval(()=>{l()},300);const A=S=>{if(!g.value)return;const H=S.target;if(!H)return;const G=document.querySelector(".editor-ai-toolbar");if(G&&G.contains(H))return;["dialog",".popover",".modal",'[role="dialog"]',"nav",".menu",".dropdown",".tooltip",".floating",".ai-assistant-panel",".ai-image-generator-panel"].some(R=>H.closest(R))||(g.value=!1)};document.addEventListener("click",A,!0),document.addEventListener("touchstart",A,!0),onUnmounted(()=>{document.removeEventListener("click",A,!0),document.removeEventListener("touchstart",A,!0),x&&(clearTimeout(x),x=null),_&&(clearInterval(_),_=null)})}),(A,S)=>!e.isMobile||e.isMobile&&e.showEditor?(openBlock(),createElementBlock("div",_hoisted_1$5,[unref(g)?(openBlock(),createElementBlock("div",_hoisted_4$4,[createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$3,[createBaseVNode("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI助手",onClick:v},[createVNode(unref(Bot),{class:"h-4 w-4"})]),S[5]||(S[5]=createBaseVNode("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 助手 ",-1))]),S[9]||(S[9]=createBaseVNode("div",{class:"mx-1.5"},[createBaseVNode("div",{class:"h-px bg-gray-200/50 dark:bg-gray-700/50"})],-1)),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI文生图",onClick:V},[createVNode(unref(Image),{class:"h-4 w-4"})]),S[6]||(S[6]=createBaseVNode("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 文生图 ",-1))]),unref(m)&&unref(g)?(openBlock(),createElementBlock("div",_hoisted_8$1,[...S[7]||(S[7]=[createBaseVNode("div",{class:"h-px bg-gray-200/50 dark:bg-gray-700/50"},null,-1)])])):createCommentVNode("",!0),unref(m)&&unref(g)?(openBlock(),createElementBlock("div",_hoisted_9$1,[createBaseVNode("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI工具箱",onClick:$},[createVNode(unref(WandSparkles),{class:"h-4 w-4"})]),S[8]||(S[8]=createBaseVNode("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 工具箱 ",-1))])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["w-5 h-16 bg-gradient-to-b from-blue-500/90 to-purple-500/90 hover:from-blue-600/95 hover:to-purple-600/95 dark:from-blue-400/90 dark:to-purple-400/90 dark:hover:from-blue-500/95 dark:hover:to-purple-500/95 backdrop-blur-lg border-l border-y border-blue-300/50 dark:border-blue-600/50 cursor-pointer transition-all duration-200 flex items-center justify-center rounded-l-lg shadow-lg group utools-sidebar-edge",{"animate-pulse-hint":unref(h)}]),title:"展开AI工具栏",onClick:N},[createVNode(unref(Settings2),{class:"h-4 w-4 text-white drop-shadow-sm group-hover:scale-110 transition-transform duration-200"}),createVNode(Transition,{name:"hint-fade"},{default:withCtx(()=>[unref(h)?(openBlock(),createElementBlock("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$4,[createVNode(unref(WandSparkles),{class:"h-4 w-4"}),S[3]||(S[3]=createBaseVNode("span",null,"点击打开 AI 工具箱",-1)),S[4]||(S[4]=createBaseVNode("div",{class:"hint-arrow absolute top-1/2 -right-2 -translate-y-1/2 w-0 h-0 border-t-[6px] border-b-[6px] border-l-[6px] border-transparent border-l-purple-500"},null,-1))])])):createCommentVNode("",!0)]),_:1})],2)),createVNode(AIAssistantPanel,{open:unref(o),"onUpdate:open":S[0]||(S[0]=H=>isRef(o)?o.value=H:null)},null,8,["open"]),createVNode(AIImageGeneratorPanel,{open:unref(a),"onUpdate:open":S[1]||(S[1]=H=>isRef(a)?a.value=H:null)},null,8,["open"]),createVNode(unref(AIPolishPopover),{open:unref(p),"onUpdate:open":S[2]||(S[2]=H=>isRef(p)?p.value=H:null),"selected-text":unref(k),"is-mobile":e.isMobile},null,8,["open","selected-text","is-mobile"])])):createCommentVNode("",!0)}}),SidebarAIToolbar=_export_sfc(_sfc_main$7,[["__scopeId","data-v-91021d01"]]),useFolderSourceStore=defineStore("folderSource",()=>{const e=new Map,t=ref(null),o=ref([]),a=ref(""),n=ref(!1),s=ref(""),i=computed(()=>t.value&&e.get(t.value)||null),f=computed(()=>Array.from(e.values()).map(V=>({id:V.id,name:V.name,handle:V.handle,permission:!0}))),u=computed(()=>i.value?{id:i.value.id,name:i.value.name,handle:i.value.handle,permission:!0}:null),g=ref([]),p=computed(()=>typeof window<"u"&&"showDirectoryPicker"in window);async function h(){if(!p.value){toast.error("您的浏览器不支持 File System Access API");return}try{n.value=!0,s.value="";const V=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});if(await V.requestPermission({mode:"readwrite"})!=="granted"){toast.error("未授予文件夹访问权限");return}let A;const S=Array.from(e.values()).find(H=>H.name===V.name);if(S)A=S.id,S.handle=V;else{A=v();const H={id:A,name:V.name,handle:V};e.set(A,H)}t.value=A,await w(V),toast.success(`文件夹「${V.name}」已打开`)}catch(V){if(V.name==="AbortError")return;s.value=V.message||"打开文件夹失败",toast.error(`打开文件夹失败: ${V.message}`)}finally{n.value=!1}}function x(){t.value=null,o.value=[],a.value=""}function _(V){e.delete(V),t.value===V&&x()}async function w(V){try{const $=await C(V,V.name);o.value=[$]}catch($){throw s.value=$.message||"加载文件树失败",$}}async function C(V,$){const A={name:V.name,path:$,type:"directory",children:[],handle:V};try{for await(const S of V.values()){const H=`${$}/${S.name}`;if(S.kind==="file")S.name.toLowerCase().endsWith(".md")&&A.children.push({name:S.name,path:H,type:"file",handle:S});else if(S.kind==="directory"){const G=await C(S,H);A.children.push(G)}}A.children.sort((S,H)=>S.type!==H.type?S.type==="directory"?-1:1:S.name.localeCompare(H.name,"zh-CN"))}catch(S){console.error(`读取目录失败: ${$}`,S)}return A}async function l(V){if(!i.value)throw new Error("未选择文件夹");try{const $=k(o.value,V);if(!$)throw new Error(`文件不存在: ${V}`);if($.type!=="file")throw new Error(`不是文件: ${V}`);return await(await $.handle.getFile()).text()}catch($){throw toast.error(`读取文件失败: ${$.message}`),$}}async function m(V,$){if(!i.value)throw new Error("未选择文件夹");try{const A=V.split("/").slice(1);let S=i.value.handle;for(let E=0;E<A.length-1;E++){const R=A[E];try{S=await S.getDirectoryHandle(R)}catch{S=await S.getDirectoryHandle(R,{create:!0})}}const H=A[A.length-1],y=await(await S.getFileHandle(H,{create:!0})).createWritable();await y.write($),await y.close()}catch(A){throw console.error(`保存文件失败: ${A.message}`),A}}function k(V,$){for(const A of V){if(A.path===$)return A;if(A.children){const S=k(A.children,$);if(S)return S}}return null}function N(V=o.value){const $=[];for(const A of V)A.type==="file"&&$.push(A),A.children&&$.push(...N(A.children));return $}function v(){return`folder_${Date.now()}_${Math.random().toString(36).slice(2,9)}`}return{folderHandles:f,currentFolderHandle:u,savedFolders:g,fileTree:o,selectedFilePath:a,isLoading:n,loadError:s,isFileSystemAPISupported:p,selectFolder:h,closeFolder:x,removeFolder:_,loadFileTree:w,readFile:l,writeFile:m,findNodeByPath:k,getAllMarkdownFiles:N}});function useFolderFileSync(){const e=usePostStore(),t=useFolderSourceStore(),o=ref(null);let a=null;const n=1e3;function s(u){o.value=u}async function i(u,g){if(u)try{await t.writeFile(u,g)}catch(p){console.error("文件同步失败:",p)}}function f(){!o.value||!e.currentPost||(a&&clearTimeout(a),a=setTimeout(()=>{const u=e.currentPost?.content||"";i(o.value,u)},n))}return watch(()=>e.currentPost?.content,()=>{f()},{deep:!1}),watch(()=>o.value,(u,g)=>{g&&u!==g&&a&&(clearTimeout(a),a=null)}),onBeforeUnmount(()=>{a&&clearTimeout(a)}),{currentFilePath:o,setCurrentFilePath:s}}const _hoisted_1$4={class:"folder-tree"},_hoisted_2$3=["onClick"],_hoisted_3$3=["onClick"],_hoisted_4$3={key:1,class:"toggle-icon-placeholder"},_hoisted_5$2={class:"node-icon"},_hoisted_6$2=["title"],_sfc_main$6=defineComponent({__name:"FolderTree",props:{nodes:{},selectedPath:{},expandedPaths:{default:()=>new Set},level:{default:0}},emits:["select","toggleExpand"],setup(e,{emit:t}){const o=e,a=t,n=u=>o.selectedPath===u,s=u=>o.expandedPaths.has(u);function i(u,g){g.stopPropagation(),u.type==="file"?a("select",u):a("toggleExpand",u.path)}function f(u,g){g.stopPropagation(),u.type==="directory"&&a("toggleExpand",u.path)}return(u,g)=>{const p=resolveComponent("FolderTree",!0);return openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.nodes,h=>(openBlock(),createElementBlock(Fragment,{key:h.path},[createBaseVNode("div",{class:normalizeClass(["tree-node",{selected:n(h.path),directory:h.type==="directory",file:h.type==="file"}]),style:normalizeStyle({paddingLeft:`${e.level*16+8}px`}),onClick:x=>i(h,x)},[h.type==="directory"?(openBlock(),createElementBlock("span",{key:0,class:"toggle-icon",onClick:x=>f(h,x)},[s(h.path)?(openBlock(),createBlock(unref(ChevronDown),{key:1,class:"h-4 w-4"})):(openBlock(),createBlock(unref(ChevronRight),{key:0,class:"h-4 w-4"}))],8,_hoisted_3$3)):(openBlock(),createElementBlock("span",_hoisted_4$3)),createBaseVNode("span",_hoisted_5$2,[h.type==="directory"&&!s(h.path)?(openBlock(),createBlock(unref(Folder),{key:0,class:"h-4 w-4"})):h.type==="directory"&&s(h.path)?(openBlock(),createBlock(unref(FolderOpen),{key:1,class:"h-4 w-4"})):(openBlock(),createBlock(unref(File),{key:2,class:"h-4 w-4"}))]),createBaseVNode("span",{class:"node-name",title:h.name},toDisplayString(h.name),9,_hoisted_6$2)],14,_hoisted_2$3),h.type==="directory"&&s(h.path)&&h.children?(openBlock(),createBlock(p,{key:0,nodes:h.children,"selected-path":e.selectedPath,"expanded-paths":e.expandedPaths,level:e.level+1,onSelect:g[0]||(g[0]=x=>a("select",x)),onToggleExpand:g[1]||(g[1]=x=>a("toggleExpand",x))},null,8,["nodes","selected-path","expanded-paths","level"])):createCommentVNode("",!0)],64))),128))])}}}),FolderTree=_export_sfc(_sfc_main$6,[["__scopeId","data-v-a8a577e8"]]),_hoisted_1$3={class:"folder-source-panel h-full flex flex-col"},_hoisted_2$2={class:"panel-header sticky top-0 z-10 bg-background border-b p-2"},_hoisted_3$2={class:"flex items-center justify-between mb-2"},_hoisted_4$2={class:"text-sm font-semibold flex items-center gap-2"},_hoisted_5$1={class:"flex gap-1"},_hoisted_6$1={class:"panel-content flex-1 overflow-y-auto p-2"},_hoisted_7={key:0,class:"flex flex-col items-center justify-center h-full text-center p-4 text-muted-foreground"},_hoisted_8={key:1,class:"flex flex-col items-center justify-center h-full"},_hoisted_9={key:2,class:"flex flex-col items-center justify-center h-full text-center p-4 text-destructive"},_hoisted_10={class:"text-sm"},_hoisted_11={key:3,class:"flex flex-col items-center justify-center h-full text-center p-4 text-muted-foreground"},_hoisted_12={key:4,class:"file-tree-container"},_hoisted_13={class:"text-xs text-muted-foreground mb-2 px-2"},_sfc_main$5=defineComponent({__name:"FolderSourcePanel",setup(e){const t=useFolderSourceStore(),o=usePostStore(),{setCurrentFilePath:a}=useFolderFileSync(),{currentFolderHandle:n,fileTree:s,selectedFilePath:i,isLoading:f,loadError:u,isFileSystemAPISupported:g}=storeToRefs(t),p=ref(new Set);function h(l){p.value.has(l)?p.value.delete(l):p.value.add(l),p.value=new Set(p.value)}async function x(){await t.selectFolder(),await nextTick(),s.value.length>0&&p.value.add(s.value[0].path)}async function _(){n.value&&await t.loadFileTree(n.value.handle)}function w(){t.closeFolder(),p.value.clear(),a(null)}async function C(l){try{const m=await t.readFile(l.path),k=l.name.replace(/\.md$/i,"");o.addPost(k),o.updatePostContent(o.currentPostId,m),a(l.path),toast.success(`已加载文件: ${l.name}`)}catch(m){console.error("打开文件失败:",m)}}return(l,m)=>{const k=_sfc_main$1Q;return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("h3",_hoisted_4$2,[createVNode(unref(FolderTree$1),{class:"h-4 w-4"}),m[0]||(m[0]=createTextVNode(" 本地文件夹 ",-1))]),unref(n)?(openBlock(),createBlock(k,{key:0,variant:"ghost",size:"sm",class:"h-7 w-7 p-0",onClick:w},{default:withCtx(()=>[createVNode(unref(X),{class:"h-3 w-3"})]),_:1})):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$1,[createVNode(k,{variant:"outline",size:"sm",class:"flex-1 text-xs",disabled:unref(f)||!unref(g),onClick:x},{default:withCtx(()=>[unref(f)?(openBlock(),createBlock(unref(LoaderCircle),{key:1,class:"h-3 w-3 mr-1 animate-spin"})):(openBlock(),createBlock(unref(FolderPlus),{key:0,class:"h-3 w-3 mr-1"})),m[1]||(m[1]=createTextVNode(" 打开文件夹 ",-1))]),_:1},8,["disabled"]),unref(n)?(openBlock(),createBlock(k,{key:0,variant:"outline",size:"sm",class:"text-xs",disabled:unref(f),onClick:_},{default:withCtx(()=>[createVNode(unref(RefreshCw),{class:normalizeClass(["h-3 w-3",{"animate-spin":unref(f)}])},null,8,["class"])]),_:1},8,["disabled"])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_6$1,[unref(g)?unref(f)?(openBlock(),createElementBlock("div",_hoisted_8,[createVNode(unref(LoaderCircle),{class:"h-8 w-8 animate-spin text-primary"}),m[4]||(m[4]=createBaseVNode("p",{class:"text-sm text-muted-foreground mt-2"}," 加载中... ",-1))])):unref(u)?(openBlock(),createElementBlock("div",_hoisted_9,[createBaseVNode("p",_hoisted_10,toDisplayString(unref(u)),1)])):unref(n)?(openBlock(),createElementBlock("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,toDisplayString(unref(n).name),1),createVNode(FolderTree,{nodes:unref(s),"selected-path":unref(i),"expanded-paths":unref(p),onSelect:C,onToggleExpand:h},null,8,["nodes","selected-path","expanded-paths"])])):(openBlock(),createElementBlock("div",_hoisted_11,[createVNode(unref(FolderOpen),{class:"h-12 w-12 mb-2 opacity-50"}),m[5]||(m[5]=createBaseVNode("p",{class:"text-sm"}," 未打开文件夹 ",-1)),m[6]||(m[6]=createBaseVNode("p",{class:"text-xs mt-1"}," 点击上方按钮打开本地文件夹 ",-1))])):(openBlock(),createElementBlock("div",_hoisted_7,[createVNode(unref(FolderClosed),{class:"h-12 w-12 mb-2 opacity-50"}),m[2]||(m[2]=createBaseVNode("p",{class:"text-sm"}," 您的浏览器不支持本地文件夹访问 ",-1)),m[3]||(m[3]=createBaseVNode("p",{class:"text-xs mt-1"}," 请使用 Chrome、Edge 或 Opera 浏览器 ",-1))]))])])}}}),FolderSourcePanel=_export_sfc(_sfc_main$5,[["__scopeId","data-v-423cbc50"]]),_hoisted_1$2={key:0,class:"bg-border z-10 h-4 w-3 flex items-center justify-center border rounded-sm"},_sfc_main$4=defineComponent({__name:"ResizableHandle",props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},nonce:{},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:["dragging"],setup(e,{emit:t}){const o=e,a=t,n=reactiveOmit(o,"class"),s=useForwardPropsEmits(n,a);return(i,f)=>(openBlock(),createBlock(unref(SplitterResizeHandle_default),mergeProps(unref(s),{class:unref(cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[orientation=vertical]:h-px data-[orientation=vertical]:w-full data-[orientation=vertical]:after:left-0 data-[orientation=vertical]:after:h-1 data-[orientation=vertical]:after:w-full data-[orientation=vertical]:after:-translate-y-1/2 data-[orientation=vertical]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90",o.class)}),{default:withCtx(()=>[o.withHandle?(openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(unref(GripVertical),{class:"h-2.5 w-2.5"})])):createCommentVNode("",!0)]),_:1},16,["class"]))}}),_sfc_main$3=defineComponent({__name:"ResizablePanelGroup",props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:["layout"],setup(e,{emit:t}){const o=e,a=t,n=reactiveOmit(o,"class"),s=useForwardPropsEmits(n,a);return(i,f)=>(openBlock(),createBlock(unref(SplitterGroup_default),mergeProps(unref(s),{class:unref(cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",o.class)}),{default:withCtx(()=>[renderSlot(i.$slots,"default")]),_:3},16,["class"]))}}),_hoisted_1$1={class:"flex flex-col gap-0.5"},_hoisted_2$1={class:"flex items-center gap-1"},_hoisted_3$1={class:"w-10 select-none text-center text-xs"},_hoisted_4$1={key:0,class:"flex items-center gap-1"},_sfc_main$2=defineComponent({__name:"SearchTab",props:{editorView:{}},setup(e,{expose:t}){const o=e,a=ref(!1),n=ref(null),s=ref(""),i=ref(!1),f=ref(!1),u=ref(!1),g=ref(0),p=ref(!1),h=ref(""),x=ref(null),_=ref([]),w=computed(()=>_.value.length),C=computed(()=>K()?_.value[g.value]:null),l=StateEffect.define(),m=StateField.define({create(){return Decoration.none},update(Z,le){for(const j of le.effects)if(j.is(l))return j.value;return Z},provide:Z=>EditorView.decorations.from(Z)});onMounted(()=>{o.editorView.state.field(m,!1)||o.editorView.dispatch({effects:StateEffect.appendConfig.of(m)})}),watch([s,i,f,u],()=>{useDebounceFn(()=>{_.value=[],s.value===""?k():(g.value=0,v())},300)()}),watch([g,_],()=>{N()}),watch(a,async()=>{if(!a.value)k(),u.value=!1,x.value=null;else{const Z=o.editorView.state.selection.main;Z.empty||(u.value=!0,x.value={from:Z.from,to:Z.to}),N(),await nextTick(),setTimeout(()=>{n.value?.focus(),n.value?.select()},0)}});function k(){o.editorView.dispatch({effects:l.of(Decoration.none)})}function N(){const Z=[];_.value.forEach((j,D)=>{const ie=j[0],de=j[1],te=o.editorView.state.doc.line(ie.line+1),L=o.editorView.state.doc.line(de.line+1),ee=te.from+ie.ch,fe=L.from+de.ch,pe=D===g.value,W=Decoration.mark({class:pe?"cm-searchMatch-selected":"cm-searchMatch"});Z.push(W.range(ee,fe))});const le=Decoration.set(Z,!0);if(o.editorView.dispatch({effects:l.of(le)}),_.value[g.value]?.[0]){const j=_.value[g.value][0],ie=o.editorView.state.doc.line(j.line+1).from+j.ch;o.editorView.dispatch({selection:{anchor:ie,head:ie},scrollIntoView:!0})}}function v(){if(!s.value||!a.value)return;let Z=0,le=o.editorView.state.doc.length;u.value&&x.value&&(Z=x.value.from,le=x.value.to);const j=o.editorView.state.sliceDoc(Z,le),D=s.value,ie=[];if(D)if(i.value)try{const de=`gm${f.value?"":"i"}`,te=new RegExp(D,de);let L;for(;(L=te.exec(j))!==null;){if(L[0].length===0){te.lastIndex++;continue}const ee=L.index+Z,fe=L.index+L[0].length+Z,pe=o.editorView.state.doc.lineAt(ee),W=o.editorView.state.doc.lineAt(fe);ie.push([{line:pe.number-1,ch:ee-pe.from},{line:W.number-1,ch:fe-W.from}])}}catch(de){console.warn("Invalid Regex",de)}else{const de=j.split(`
`),te=f.value?D:D.toLowerCase();de.forEach((L,ee)=>{const fe=f.value?L:L.toLowerCase();let pe=0,W=fe.indexOf(te,pe);for(;W!==-1;){const M=o.editorView.state.doc.lineAt(Z).number-1+ee;ie.push([{line:M,ch:W},{line:M,ch:W+D.length}]),pe=W+1,W=fe.indexOf(te,pe)}})}_.value=ie,_.value.length>0&&g.value>=_.value.length&&(g.value=_.value.length-1)}function V(){K()&&(g.value=(g.value+1)%w.value)}function $(){K()&&(g.value=(g.value-1+w.value)%w.value)}function A(){p.value=!p.value}function S(){i.value=!i.value}function H(){f.value=!f.value}function G(){if(u.value)x.value=null;else{const Z=o.editorView.state.selection.main;Z.empty?x.value={from:0,to:o.editorView.state.doc.length}:x.value={from:Z.from,to:Z.to}}u.value=!u.value}function y(){a.value=!1}function E(Z){Z.key==="Enter"&&(V(),Z.preventDefault())}function R(Z){Z.key==="Enter"&&(F(),Z.preventDefault())}function F(){if(!K()||!C.value)return;const Z=C.value[0],le=C.value[1],j=o.editorView.state.doc.line(Z.line+1),D=o.editorView.state.doc.line(le.line+1),ie=j.from+Z.ch,de=D.from+le.ch;let te=h.value;if(i.value)try{te=o.editorView.state.sliceDoc(ie,de).replace(new RegExp(s.value,"gm"),h.value)}catch(L){console.warn("Invalid Regex Replacement",L)}o.editorView.dispatch({changes:{from:ie,to:de,insert:te},selection:{anchor:ie+te.length}}),v()}function T(){if(!K()||!C.value)return;const le=[..._.value].sort((j,D)=>j[0].line!==D[0].line?D[0].line-j[0].line:D[0].ch-j[0].ch).map(j=>{const D=j[0],ie=j[1],de=o.editorView.state.doc.line(D.line+1),te=o.editorView.state.doc.line(ie.line+1),L=de.from+D.ch,ee=te.from+ie.ch;let fe=h.value;if(i.value)try{fe=o.editorView.state.sliceDoc(L,ee).replace(new RegExp(s.value,"gm"),h.value)}catch(pe){console.warn("Invalid Regex Replacement",pe)}return{from:L,to:ee,insert:fe}});o.editorView.dispatch({changes:le}),v()}function ae(Z){s.value=Z,a.value?setTimeout(()=>{n.value?.focus(),n.value?.select()},0):a.value=!0}function se(Z){s.value=Z,p.value=!0,a.value?setTimeout(()=>{n.value?.focus(),n.value?.select()},0):a.value=!0}onUnmounted(()=>{k()});function K(){return w.value>0}return t({showSearchTab:a,searchWord:s,setSearchWord:ae,setSearchWithReplace:se,showReplace:p}),(Z,le)=>{const j=_sfc_main$1Q,D=_sfc_main$1G;return openBlock(),createBlock(Transition,{name:"slide-down"},{default:withCtx(()=>[unref(a)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["bg-background absolute right-0 top-0 z-50 min-w-[300px] w-fit flex gap-1 border rounded-lg px-2 py-1 shadow-md transition-all",unref(p)?"items-start":"items-center"])},[createVNode(j,{variant:"ghost",title:"切换替换","aria-label":"切换替换",class:"h-7 w-5 flex items-center justify-center p-0",onClick:A},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(p)?unref(ChevronDown):unref(ChevronRight)),{class:"h-3.5 w-3.5"}))]),_:1}),createBaseVNode("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createVNode(D,{ref_key:"searchInputRef",ref:n,modelValue:unref(s),"onUpdate:modelValue":le[0]||(le[0]=ie=>isRef(s)?s.value=ie:null),placeholder:"查找",class:"h-7 w-40 text-sm",onKeydown:E},null,8,["modelValue"]),createVNode(j,{variant:"ghost",size:"xs",title:"区分大小写","aria-label":"区分大小写",class:normalizeClass(["h-6 w-6 p-0",{"bg-accent":unref(f)}]),onClick:H},{default:withCtx(()=>[createVNode(unref(CaseSensitive),{class:"h-3 w-3"})]),_:1},8,["class"]),createVNode(j,{variant:"ghost",size:"xs",title:"正则表达式","aria-label":"正则表达式",class:normalizeClass(["h-6 w-6 p-0",{"bg-accent":unref(i)}]),onClick:S},{default:withCtx(()=>[createVNode(unref(Regex),{class:"h-3 w-3"})]),_:1},8,["class"]),createVNode(j,{variant:"ghost",size:"xs",title:"在选区内查找","aria-label":"在选区内查找",class:normalizeClass(["h-6 w-6 p-0",{"bg-accent":unref(u)}]),onClick:G},{default:withCtx(()=>[createVNode(unref(WholeWord),{class:"h-3 w-3"})]),_:1},8,["class"]),createBaseVNode("span",_hoisted_3$1,toDisplayString(unref(w)?unref(g)+1:0)+"/"+toDisplayString(unref(w)),1),createVNode(j,{variant:"ghost",size:"xs",title:"上一处","aria-label":"上一处",class:"h-6 w-6 p-0",onClick:$},{default:withCtx(()=>[createVNode(unref(ChevronUp),{class:"h-3 w-3"})]),_:1}),createVNode(j,{variant:"ghost",size:"xs",title:"下一处","aria-label":"下一处",class:"h-6 w-6 p-0",onClick:V},{default:withCtx(()=>[createVNode(unref(ChevronDown),{class:"h-3 w-3"})]),_:1}),createVNode(j,{variant:"ghost",size:"xs",title:"关闭","aria-label":"关闭",class:"h-6 w-6 p-0",onClick:y},{default:withCtx(()=>[createVNode(unref(X),{class:"h-3 w-3"})]),_:1})]),unref(p)?(openBlock(),createElementBlock("div",_hoisted_4$1,[createVNode(D,{modelValue:unref(h),"onUpdate:modelValue":le[1]||(le[1]=ie=>isRef(h)?h.value=ie:null),placeholder:"替换",class:"h-7 w-40 text-sm",onKeydown:R},null,8,["modelValue"]),createVNode(j,{variant:"ghost",size:"xs",title:"替换","aria-label":"替换",class:"h-6 w-6 p-0",onClick:F},{default:withCtx(()=>[createVNode(unref(Replace),{class:"h-3 w-3"})]),_:1}),createVNode(j,{variant:"ghost",size:"xs",title:"全部替换","aria-label":"全部替换",class:"h-6 w-6 p-0",onClick:T},{default:withCtx(()=>[createVNode(unref(ReplaceAll),{class:"h-3 w-3"})]),_:1})])):createCommentVNode("",!0)])],2)):createCommentVNode("",!0)]),_:1})}}}),SearchTab=_export_sfc(_sfc_main$2,[["__scopeId","data-v-aa4ec3a4"]]);async function getConfig(e,t){if(e){const n=t==="github"?githubConfig:giteeConfig,{username:s,repoList:i,branch:f,accessTokenList:u}=n,g=Math.floor(Math.random()*u.length),p=u[g].replace("doocsmd",""),h=Math.floor(Math.random()*i.length),x=i[h];return{username:s,repo:x,branch:f,accessToken:p}}const o=await store.getJSON(`${t}Config`,{})||{},a=o.repo.replace(`https://${t}.com/`,"").replace(`http://${t}.com/`,"").replace(`${t}.com/`,"").split("/");return{username:a[0],repo:a[1],branch:o.branch||"master",accessToken:o.accessToken}}function getDir(){const e=new Date,t=e.getFullYear(),o=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return`${t}/${o}/${a}`}function getDateFilename(e){const t=new Date().getTime(),o=e.split(".").pop();return`${t}-${v4()}.${o}`}async function ghFileUpload(e,t){const o=await store.get("imgHost")==="default",{username:a,repo:n,branch:s,accessToken:i}=await getConfig(o,"github"),f=getDir(),u=`https://api.github.com/repos/${a}/${n}/contents/${f}/`,g=getDateFilename(t),p=await service({url:u+g,method:"put",headers:{Authorization:`token ${i}`},data:{content:e,branch:s,message:`Upload by ${window.location.href}`}}),h=`raw.githubusercontent.com/${a}/${n}/${s}/`,x=`fastly.jsdelivr.net/gh/${a}/${n}@${s}/`;return p.content=p.data?.content||p.content,o?p.content.download_url.replace(h,x):p.content.download_url}async function giteeUpload(e,t){const o=await store.get("imgHost")==="default",{username:a,repo:n,branch:s,accessToken:i}=await getConfig(o,"gitee"),f=getDir(),u=getDateFilename(t),g=`https://gitee.com/api/v5/repos/${a}/${n}/contents/${f}/${u}`,p=await service({url:g,method:"POST",data:{content:e,branch:s,access_token:i,message:`Upload by ${window.location.href}`}});return p.content=p.data?.content||p.content,encodeURI(p.content.download_url)}function getQiniuToken(e,t,o){const a=JSON.stringify(o),n=base64encode(utf16to8(a)),i=CryptoJS.HmacSHA1(n,t).toString(CryptoJS.enc.Base64);return`${e}:${safe64(i)}:${n}`}async function qiniuUpload(e){const t=await store.get("qiniuConfig"),{accessKey:o,secretKey:a,bucket:n,region:s,path:i,domain:f}=JSON.parse(t),u=getQiniuToken(o,a,{scope:n,deadline:Math.trunc(new Date().getTime()/1e3)+3600}),p=(i?`${i}/`:"")+getDateFilename(e.name),h=upload(e,p,u,{},{region:s});return new Promise((x,_)=>{h.subscribe({next:w=>{console.log(w)},error:w=>{_(w.message)},complete:w=>{x(`${f}/${w.key}`)}})})}async function aliOSSFileUpload(e){const t=getDateFilename(e.name),o=await store.getJSON("aliOSSConfig",{region:"",bucket:"",accessKeyId:"",accessKeySecret:"",useSSL:!0,cdnHost:"",path:""}),{region:a,bucket:n,accessKeyId:s,accessKeySecret:i,useSSL:f,cdnHost:u,path:g}=o||{region:"",bucket:"",accessKeyId:"",accessKeySecret:"",useSSL:!0,cdnHost:"",path:""},h=f===void 0||f?"https":"http",x=`${h}://${a}.aliyuncs.com`,_={region:a,credentials:{accessKeyId:s,secretAccessKey:i},endpoint:x,forcePathStyle:!1},w=new S3Client(_),l=(g?`${g}/`:"")+t,m=new PutObjectCommand({Bucket:n,Key:l,ContentType:e.type});try{const k=await getSignedUrl(w,m,{expiresIn:300}),N=await window.fetch(k,{method:"PUT",headers:{"Content-Type":e.type},body:e});if(!N.ok)throw new Error(`Upload failed: ${N.statusText}`);return u?`${u.endsWith("/")?u.slice(0,-1):u}/${l}`:`${h}://${n}.${a}.aliyuncs.com/${l}`}catch(k){return Promise.reject(k)}}async function txCOSFileUpload(e){const t=getDateFilename(e.name),o=await store.get("txCOSConfig"),{secretId:a,secretKey:n,bucket:s,region:i,path:f,cdnHost:u}=JSON.parse(o),g=`https://cos.${i}.myqcloud.com`,p={region:i,credentials:{accessKeyId:a,secretAccessKey:n},endpoint:g,forcePathStyle:!1},h=new S3Client(p),_=(f?`${f}/`:"")+t,w=new PutObjectCommand({Bucket:s,Key:_,ContentType:e.type});try{const C=await getSignedUrl(h,w,{expiresIn:300}),l=await window.fetch(C,{method:"PUT",headers:{"Content-Type":e.type},body:e});if(!l.ok)throw new Error(`Upload failed: ${l.statusText}`);return u?f===""?`${u}/${t}`:`${u}/${f}/${t}`:`https://${s}.cos.${i}.myqcloud.com/${_}`}catch(C){return Promise.reject(C)}}async function minioFileUpload(e){const t=getDateFilename(e.name),o=await store.get("minioConfig"),{endpoint:a,port:n,useSSL:s,bucket:i,accessKey:f,secretKey:u}=JSON.parse(o),g=new S3Client({endpoint:`${s?"https":"http"}://${a}${n?`:${n}`:""}`,credentials:{accessKeyId:f,secretAccessKey:u},region:"auto",forcePathStyle:!0}),p=new PutObjectCommand({Bucket:i,Key:t,ContentType:e.type}),h=await getSignedUrl(g,p,{expiresIn:300});return await service(h,{method:"PUT",headers:{"Content-Type":e.type},data:e}).catch(x=>{console.log(x)}),`${s?"https":"http"}://${a}${n?`:${n}`:""}/${i}/${t}`}async function s3Upload(e){const t=getDateFilename(e.name),o=await store.getJSON("s3Config",{endpoint:"",region:"",bucket:"",accessKeyId:"",accessKeySecret:"",path:"",cdnHost:"",pathStyle:!1}),{endpoint:a,region:n,bucket:s,accessKeyId:i,accessKeySecret:f,path:u,cdnHost:g,pathStyle:p}=o,h={region:n,credentials:{accessKeyId:i,secretAccessKey:f},forcePathStyle:p};a&&(h.endpoint=a.startsWith("http")?a:`https://${a}`);const x=new S3Client(h),w=(u?`${u}/`:"")+t,C=new PutObjectCommand({Bucket:s,Key:w,ContentType:e.type});try{const l=await getSignedUrl(x,C,{expiresIn:300}),m=await window.fetch(l,{method:"PUT",headers:{"Content-Type":e.type},body:e});if(!m.ok)throw new Error(`Upload failed: ${m.statusText}`);if(g)return`${g.endsWith("/")?g.slice(0,-1):g}/${w}`;if(a){const k=h.endpoint.startsWith("https")?"https":"http",N=h.endpoint.replace(/^https?:\/\//,"");return p?`${k}://${N}/${s}/${w}`:`${k}://${s}.${N}/${w}`}return`https://${s}.s3.${n}.amazonaws.com/${w}`}catch(l){throw console.error(l),l}}async function getMpToken(e,t,o){const a=await store.get(`mpToken:${e}`);if(a){const f=JSON.parse(a);if(f.expire&&f.expire>new Date().getTime())return f.access_token}const n={method:"POST",data:{grant_type:"client_credential",appid:e,secret:t}};let s="https://api.weixin.qq.com/cgi-bin/stable_token";o&&(s=`${o}/cgi-bin/stable_token`);const i=await service(s,n);if(i.access_token){const f={...i,expire:new Date().getTime()+i.expires_in*1e3};return await store.setJSON(`mpToken:${e}`,f),i.access_token}return""}async function mpFileUpload(e){const t=await store.get("mpConfig");let{appID:o,appsecret:a,proxyOrigin:n}=JSON.parse(t);const s=await getMpToken(o,a,n);if(!s)throw new Error("获取 access_token 失败");const i=new FormData;i.append("media",e,e.name);const f={method:"POST",data:i};let u=`https://api.weixin.qq.com/cgi-bin/material/add_material?access_token=${s}&type=image`;const g=e.size/(1024*1024),p=e.type.toLowerCase();g<1&&(p==="image/jpeg"||p==="image/png")&&(u=`https://api.weixin.qq.com/cgi-bin/media/uploadimg?access_token=${s}`),n&&(u=u.replace("https://api.weixin.qq.com",n));const h=await service(u,f);if(!h.url)throw new Error("上传失败，未获取到URL");let x=h.url;return n&&window.location.href.startsWith("http")&&(x=`https://wsrv.nl?url=${encodeURIComponent(x)}`),x}async function r2Upload(e){const t=await store.get("r2Config"),{accountId:o,accessKey:a,secretKey:n,bucket:s,path:i,domain:f}=JSON.parse(t),g=(i?`${i}/`:"")+getDateFilename(e.name),p=new S3Client({region:"auto",endpoint:`https://${o}.r2.cloudflarestorage.com`,credentials:{accessKeyId:a,secretAccessKey:n}}),h=await getSignedUrl(p,new PutObjectCommand({Bucket:s,Key:g,ContentType:e.type}),{expiresIn:300});return await service(h,{method:"PUT",headers:{"Content-Type":e.type},data:e}).catch(x=>{console.log(x)}),`${f}/${g}`}async function upyunUpload(e){const t=await store.get("upyunConfig"),{bucket:o,operator:a,password:n,path:s,domain:i}=JSON.parse(t),f=`${s}/${getDateFilename(e.name)}`,u=`/${o}/${f}`,g=await e.arrayBuffer(),p=new Date().toUTCString(),x=["PUT",u,p].join("&"),_=CryptoJS.MD5(n).toString(),w=CryptoJS.HmacSHA1(x,_).toString(CryptoJS.enc.Base64),C=`UPYUN ${a}:${w}`,l=`https://v0.api.upyun.com${u}`,m=await window.fetch(l,{method:"PUT",headers:{Authorization:C,"X-Date":p,"Content-Type":e.type},body:g});if(!m.ok)throw new Error(`上传失败: ${await m.text()}`);return`${i}/${f}`}async function telegramUpload(e){const t=await store.getJSON("telegramConfig",{token:"",chatId:""}),{token:o,chatId:a}=t||{token:"",chatId:""},n=new FormData;n.append("chat_id",a),n.append("photo",e,e.name);const s=await service({url:`https://api.telegram.org/bot${o}/sendPhoto`,method:"POST",data:n});if(!s.ok||!s.result.photo.length)throw new Error("Telegram sendPhoto 失败");const i=s.result.photo[s.result.photo.length-1].file_id,f=await service({url:`https://api.telegram.org/bot${o}/getFile?file_id=${i}`,method:"GET"});if(!f.ok)throw new Error("Telegram getFile 失败");const u=f.result.file_path;return`https://api.telegram.org/file/bot${o}/${u}`}async function cloudinaryUpload(e){const t=await store.getJSON("cloudinaryConfig",{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""}),{cloudName:o,apiKey:a,apiSecret:n,uploadPreset:s,folder:i="",domain:f}=t||{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""};if(!o||!a)throw new Error("Cloudinary 配置缺少 cloudName / apiKey");const u=Math.floor(Date.now()/1e3),g=new FormData;if(g.append("file",e),g.append("api_key",a),g.append("timestamp",`${u}`),n){const _=[];i&&_.push(`folder=${i}`),s&&_.push(`upload_preset=${s}`),_.push(`timestamp=${u}`);const w=_.sort().join("&"),C=CryptoJS.SHA1(w+n).toString();g.append("signature",C)}else if(s)g.append("upload_preset",s);else throw new Error("未配置 apiSecret 时必须提供 uploadPreset");i&&g.append("folder",i);const p=`https://api.cloudinary.com/v1_1/${o}/image/upload`,h=await service(p,{method:"POST",data:g}),x=h.secure_url||h.url;if(!x)throw new Error("Cloudinary 返回缺少 url 字段");if(f){const{pathname:_,search:w}=new URL(x);return`${f}${_}${w}`}return x}async function formCustomUpload(content,file){const customConfig=await store.get("formCustomConfig"),str=`
    async (CUSTOM_ARG) => {
      ${customConfig}
    }
  `;return new Promise((resolve,reject)=>{const exportObj={content,file,util:{axios:service,CryptoJS,Buffer,uuidv4:v4,qiniu,tokenTools,getDir,getDateFilename,S3:{S3Client,PutObjectCommand,getSignedUrl}},okCb:resolve,errCb:reject};eval(str)(exportObj).catch(e=>{console.error(e),reject(e)})})}async function fileUpload(e,t){const o=await store.get("imgHost");switch(o||await store.set("imgHost","default"),o){case"aliOSS":return aliOSSFileUpload(t);case"minio":return minioFileUpload(t);case"s3":return s3Upload(t);case"txCOS":return txCOSFileUpload(t);case"qiniu":return qiniuUpload(t);case"gitee":return giteeUpload(e,t.name);case"github":return ghFileUpload(e,t.name);case"mp":return mpFileUpload(t);case"r2":return r2Upload(t);case"upyun":return upyunUpload(t);case"telegram":return telegramUpload(t);case"cloudinary":return cloudinaryUpload(t);case"formCustom":return formCustomUpload(e,t);default:return ghFileUpload(e,t.name)}}const _hoisted_1={class:"container flex flex-col"},_hoisted_2={class:"container-main flex flex-1 flex-col"},_hoisted_3={class:"container-main-section border-radius-10 relative flex flex-1 overflow-hidden border"},_hoisted_4=["innerHTML"],_hoisted_5={key:0,class:"loading-mask"},_hoisted_6={key:0,class:"fixed bottom-16 right-6 z-50 flex flex-col gap-2"},_sfc_main$1=defineComponent({__name:"CodemirrorEditor",setup(e){const t=useEditorStore(),o=usePostStore(),a=useRenderStore(),n=useThemeStore(),s=useUIStore(),i=useCssEditorStore(),{editor:f}=storeToRefs(t),{output:u}=storeToRefs(a),{isDark:g}=storeToRefs(s),{posts:p,currentPostIndex:h}=storeToRefs(o),{previewWidth:x}=storeToRefs(n),{isMobile:_,isEditOnLeft:w,isOpenPostSlider:C,isOpenFolderPanel:l,isOpenRightSlider:m,isOpenConfirmDialog:k}=storeToRefs(s),{toggleShowUploadImgDialog:N}=s;function v(){n.updateCodeTheme();const oe=t.getContent();a.render(oe)}function V(){n.resetStyle(),i.resetCssConfig(),n.applyCurrentTheme(),v(),toast.success("样式已重置")}watch(u,()=>{nextTick(()=>{const oe=document.getElementById("output");oe&&highlightPendingBlocks(HighlightJS,oe)})});const $=ref(!1),A=ref(!1);function S(){return document.querySelector(".cm-scroller")||document.querySelector(".CodeMirror-scroll")}function H(){$.value=!0,A.value=!0}function G(){$.value=!1,setTimeout(()=>{A.value=!1},800)}const y=ref(!0);function E(){y.value=!y.value}const R=useTemplateRef("previewRef"),F=ref(),T=ref(null),ae=new Compartment;function se(){const oe=we=>{let ue,_e;if(clearTimeout(F.value),we==="preview"){if(ue=R.value,_e=S(),!_e){console.warn("Cannot find CodeMirror scroll container");return}const Ve=S();Ve&&(Ve.removeEventListener("scroll",U),F.value=setTimeout(()=>{Ve.addEventListener("scroll",U)},300))}else{if(ue=S(),_e=R.value,!ue){console.warn("Cannot find CodeMirror scroll container");return}_e.removeEventListener("scroll",J,!1),F.value=setTimeout(()=>{_e.addEventListener("scroll",J,!1)},300)}if(!ue||!_e)return;const Ne=ue.scrollHeight-ue.offsetHeight,ve=_e.scrollHeight-_e.offsetHeight;if(Ne<=0||ve<=0)return;const Be=ue.scrollTop/Ne*ve;_e.scrollTo(0,Be)};function U(){oe("editor")}function J(){oe("preview")}R.value&&R.value.addEventListener("scroll",J,!1);const I=S();I&&I.addEventListener("scroll",U)}onMounted(()=>{setTimeout(()=>{se()},300)});const K=useTemplateRef("searchTabRef"),Z=ref(null);function le(oe){const U=oe.state.selection.main,J=oe.state.doc.sliceString(U.from,U.to).trim();K.value?J?K.value.setSearchWord(J):K.value.showSearchTab=!0:Z.value={selected:J}}function j(oe){const U=oe.state.selection.main,J=oe.state.doc.sliceString(U.from,U.to).trim();K.value?K.value.setSearchWithReplace(J):s.openSearchTab(J,!0)}watch(K,oe=>{if(oe&&Z.value){const{selected:U}=Z.value;U?oe.setSearchWord(U):oe.showSearchTab=!0,Z.value=null}});const{searchTabRequest:D}=storeToRefs(s);watch(D,oe=>{if(oe&&K.value){const{word:U,showReplace:J}=oe;J?K.value.setSearchWithReplace(U):U?K.value.setSearchWord(U):K.value.showSearchTab=!0,s.clearSearchTabRequest()}});function ie(oe){const U=T.value;oe.key==="Escape"&&K.value?.showSearchTab&&(K.value.showSearchTab=!1,oe.preventDefault(),U?.focus())}onMounted(()=>{document.addEventListener("keydown",ie,{passive:!1,capture:!1})});async function de(oe){const U=checkImage(oe);if(!U.ok)return toast.error(U.msg),!1;const J=await store.get("imgHost")||"default";await store.set("imgHost",J);const I=await store.get(`${J}Config`);return J==="default"||I?!0:(toast.error(`请先配置 ${J} 图床参数`),!1)}function te(oe){if(!oe){toast.error("上传图片未知异常");return}setTimeout(()=>{N(!1)},1e3);const U=`![](${oe})`;T.value&&T.value.dispatch(T.value.state.replaceSelection(`
${U}
`)),toast.success("图片上传成功")}const L=ref(!1);async function ee(oe){return await imageCompression(oe,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0})}async function fe(oe,U,J){try{L.value=!0,await store.get("useCompression")==="true"&&(oe=await ee(oe));const we=await toBase64(oe),ue=await fileUpload(we,oe);if(U?U(ue,we):te(ue),J)return te(ue)}catch(I){toast.error(I.message)}finally{L.value=!1}}async function pe({list:oe}){return new Promise(U=>{const{path:J,file:I}=oe.find(ue=>ue.path.match(/\.md$/)),we=new FileReader;we.readAsText(I,"UTF-8"),we.onload=ue=>{U({str:ue.target.result,file:I,path:J})}})}async function W(oe){const U=[];let J="";try{const I=[oe];for(const we of I){J+=`${we.name}/`;for await(const[,ue]of we)ue.kind==="file"?U.push({path:J+ue.name,file:await ue.getFile()}):(U.push({path:`${J+ue.name}/`}),I.push(ue))}}catch(I){console.error(I)}return U}async function Y({md:oe,list:U}){const J=[...oe.str.matchAll(/!\[(.*?)\]\((.*?)\)/g)||[]].filter(ue=>ue),I=oe.path.match(/.+?\//)[0];(await Promise.all(J.map(ue=>new Promise(_e=>{let[,,Ne]=ue;Ne=Ne.replace(/^.\//,"");const{file:ve}=U.find(Ce=>Ce.path===`${I}${Ne}`)||{};fe(ve,Ce=>_e({matchStr:Ne,url:Ce}))})))).forEach(ue=>{oe.str=oe.str.replace(`](./${ue.matchStr})`,`](${ue.url})`).replace(`](${ue.matchStr})`,`](${ue.url})`)}),T.value&&T.value.dispatch({changes:{from:0,to:T.value.state.doc.length,insert:oe.str}})}const M=useTemplateRef("codeMirrorWrapper");function P(){const oe=M.value;oe.ondragover=U=>U.preventDefault(),oe.ondrop=async U=>{if(U.preventDefault(),!(U.dataTransfer==null||!Array.isArray(U.dataTransfer.items)))for(const J of U.dataTransfer.items.filter(I=>I.kind==="file"))J.getAsFileSystemHandle().then(async I=>{if(I.kind==="directory"){const we=await W(I),ue=await pe({list:we});Y({md:ue,list:we})}else{const we=await I.getFile();console.log("file",we),await de(we)&&fe(we)}})}}const Q=ref(),me=useTemplateRef("editorRef"),re=ref(0);function ge(oe){const U=EditorState.create({doc:p.value[h.value].content,extensions:[markdownSetup({onSearch:le,onReplace:j}),ae.of(theme(g.value)),EditorView.updateListener.of(I=>{if(I.docChanged){const we=I.state.doc.toString();clearTimeout(Q.value),Q.value=setTimeout(()=>{v();const ue=p.value[h.value];we!==ue.content&&(ue.updateDatetime=new Date,ue.content=we)},300)}})]}),J=new EditorView({state:U,parent:oe});return T.value=J,J.dom.addEventListener("paste",async I=>{if(!I.clipboardData?.items||L.value)return;const ue=(await Promise.all([...I.clipboardData.items].map(ve=>ve.getAsFile()).filter(ve=>ve!=null).map(async ve=>await de(ve)?ve:null))).filter(ve=>ve!=null);if(ue.length===0)return;const _e=setInterval(()=>{const ve=re.value+1;ve>=100||(re.value=ve)},100);for(const ve of ue)I.preventDefault(),await fe(ve);clearInterval(_e),re.value=100,setTimeout(()=>{re.value=0},1e3)}),J}onMounted(()=>{const oe=me.value;oe!=null&&(a.initRendererInstance({isMacCodeBlock:n.isMacCodeBlock,isShowLineNumber:n.isShowLineNumber}),n.applyCurrentTheme(),nextTick(()=>{const U=ge(oe);f.value=U,v(),P()}))}),watch(g,()=>{T.value&&T.value.dispatch({effects:ae.reconfigure(theme(g.value))}),v()}),watch(h,()=>{if(!T.value)return;const oe=p.value[h.value];if(!oe)return;T.value.state.doc.toString()!==oe.content&&(T.value.dispatch({changes:{from:0,to:T.value.state.doc.length,insert:oe.content}}),v())});const be=ref();return onMounted(()=>{be.value=setInterval(()=>{const oe=p.value[h.value];(oe.history||[])[0]?.content!==oe.content&&(oe.history??=[],oe.history.unshift({content:oe.content,datetime:new Date().toLocaleString("zh-CN")}),oe.history.length=Math.min(oe.history.length,10))},30*1e3)}),onUnmounted(()=>{clearTimeout(be.value),clearTimeout(F.value),clearTimeout(Q.value),document.removeEventListener("keydown",ie)}),(oe,U)=>{const J=_sfc_main$1n,I=__unplugin_components_1,we=__unplugin_components_2,ue=_sfc_main$$,_e=_sfc_main$16,Ne=_sfc_main$17,ve=__unplugin_components_6,Ce=__unplugin_components_7,Be=_sfc_main$1b,Ve=_sfc_main$1r,ke=_sfc_main$1x,Ee=_sfc_main$1B,he=_sfc_main$1L,$e=_sfc_main$1M,ye=_sfc_main$1N,ce=_sfc_main$1O,ne=_sfc_main$1P,xe=_sfc_main$1R,De=_sfc_main$1S,Ae=_sfc_main$1T,Le=_sfc_main$1U;return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(J,{modelValue:unref(re),"onUpdate:modelValue":U[0]||(U[0]=Te=>isRef(re)?re.value=Te:null),class:"absolute left-0 right-0 rounded-none",style:{height:"2px"}},null,8,["modelValue"]),createVNode(I,{onStartCopy:H,onEndCopy:G}),createBaseVNode("main",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(unref(_sfc_main$3),{direction:"horizontal"},{default:withCtx(()=>[createVNode(unref(SplitterPanel_default),{"default-size":15,"max-size":unref(C)?20:0,"min-size":unref(C)?10:0},{default:withCtx(()=>[createVNode(we)]),_:1},8,["max-size","min-size"]),createVNode(unref(_sfc_main$4),{class:"hidden md:block"}),createVNode(unref(SplitterPanel_default),{"default-size":unref(l)?15:0,"max-size":unref(l)?25:0,"min-size":unref(l)?10:0},{default:withCtx(()=>[createVNode(FolderSourcePanel)]),_:1},8,["default-size","max-size","min-size"]),unref(l)?(openBlock(),createBlock(unref(_sfc_main$4),{key:0,class:"hidden md:block"})):createCommentVNode("",!0),createVNode(unref(SplitterPanel_default),{class:"flex"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"codeMirrorWrapper",ref:M,class:normalizeClass(["codeMirror-wrapper relative flex-1",{"order-1 border-l":!unref(w),"border-r":unref(w)}])},[unref(T)?(openBlock(),createBlock(unref(SearchTab),{key:0,ref_key:"searchTabRef",ref:K,"editor-view":unref(T)},null,8,["editor-view"])):createCommentVNode("",!0),createVNode(unref(SidebarAIToolbar),{"is-mobile":unref(_),"show-editor":unref(y)},null,8,["is-mobile","show-editor"]),createVNode(ue,null,{default:withCtx(()=>[createBaseVNode("div",{id:"editor",ref_key:"editorRef",ref:me,class:"codemirror-container"},null,512)]),_:1})],2),[[vShow,!unref(_)||unref(_)&&unref(y)]]),withDirectives(createBaseVNode("div",{class:normalizeClass(["relative flex-1 overflow-x-hidden transition-width",[unref(m)?"w-0":"w-100"]])},[createBaseVNode("div",{id:"preview",ref_key:"previewRef",ref:R,class:"preview-wrapper w-full p-5 flex justify-center"},[createBaseVNode("div",{id:"output-wrapper",class:normalizeClass(["w-full max-w-full",{output_night:!unref($)}])},[createBaseVNode("div",{class:normalizeClass(["preview border-x shadow-xl mx-auto",[unref(_)?"w-full":unref(x),unref(n).previewWidth==="w-[375px]"?"max-w-full":""]])},[createBaseVNode("section",{id:"output",class:"w-full",innerHTML:unref(u)},null,8,_hoisted_4),unref(A)?(openBlock(),createElementBlock("div",_hoisted_5,[...U[2]||(U[2]=[createBaseVNode("div",{class:"loading-mask-box"},[createBaseVNode("div",{class:"loading__img"}),createBaseVNode("span",null,"正在生成")],-1)])])):createCommentVNode("",!0)],2)],2),createVNode(_e,{target:"preview",right:unref(_)?24:20,bottom:unref(_)?90:20},null,8,["right","bottom"])],512),createVNode(Ne)],2),[[vShow,!unref(_)||unref(_)&&!unref(y)]]),createVNode(ve),createVNode(Ce)]),_:1})]),_:1})]),unref(_)?(openBlock(),createElementBlock("div",_hoisted_6,[createBaseVNode("button",{class:"bg-primary flex items-center justify-center rounded-full p-3 text-white shadow-lg transition active:scale-95 hover:scale-105 dark:bg-gray-700 dark:text-white dark:ring-2 dark:ring-white/30","aria-label":"切换编辑/预览",onClick:E},[(openBlock(),createBlock(resolveDynamicComponent(unref(y)?unref(Eye):unref(Pen)),{class:"h-5 w-5"}))])])):createCommentVNode("",!0),createVNode(Be,{onUploadImage:fe}),createVNode(Ve),createVNode(ke),createVNode(Ee),createVNode(Ae,{open:unref(k),"onUpdate:open":U[1]||(U[1]=Te=>isRef(k)?k.value=Te:null)},{default:withCtx(()=>[createVNode(De,null,{default:withCtx(()=>[createVNode(ye,null,{default:withCtx(()=>[createVNode(he,null,{default:withCtx(()=>[...U[3]||(U[3]=[createTextVNode("提示",-1)])]),_:1}),createVNode($e,null,{default:withCtx(()=>[...U[4]||(U[4]=[createTextVNode(" 此操作将丢失本地自定义样式，是否继续？ ",-1)])]),_:1})]),_:1}),createVNode(xe,null,{default:withCtx(()=>[createVNode(ce,null,{default:withCtx(()=>[...U[5]||(U[5]=[createTextVNode("取消",-1)])]),_:1}),createVNode(ne,{onClick:V},{default:withCtx(()=>[...U[6]||(U[6]=[createTextVNode(" 确认 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),createVNode(Le)])}}}),CodemirrorEditor=_export_sfc(_sfc_main$1,[["__scopeId","data-v-74ccc963"]]),_sfc_main=defineComponent({__name:"App",setup(e){const t=useUIStore(),{isDark:o}=storeToRefs(t),a=ref(!1);return onMounted(()=>{a.value=!!window.__MD_UTOOLS__,a.value&&document.documentElement.classList.add("is-utools")}),(n,s)=>{const i=__unplugin_components_0$1;return openBlock(),createElementBlock(Fragment,null,[createVNode(i),createVNode(CodemirrorEditor),createVNode(unref(_sfc_main$1V),{"rich-colors":"",position:"top-center",theme:unref(o)?"dark":"light"},null,8,["theme"])],64)}}});class MpCommonProfile extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const t=this.dataset.nickname||"",o=this.dataset.headimg||"",a=this.dataset.signature||"",n=this.dataset.service_type||"1",s=this.dataset.verify_status||"0";this.shadowRoot.innerHTML=`
      <style>
        :host {
          all: initial;
          -webkit-text-size-adjust: inherit;

        }
      </style>
      <style>@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}}@media (prefers-color-scheme:dark){.wx-root[data-weui-mode=care]:not([data-weui-theme=light]),body[data-weui-mode=care]:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}}.wx-root,body,page{--weui-BTN-HEIGHT:48;--weui-BTN-HEIGHT-MEDIUM:40;--weui-BTN-HEIGHT-SMALL:32}.wx-root,body{--weui-BTN-ACTIVE-MASK:rgba(0,0,0,0.1)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BTN-ACTIVE-MASK:hsla(0,0%,100%,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BTN-ACTIVE-MASK:hsla(0,0%,100%,0.1)}}.wx-root,body{--weui-BTN-DEFAULT-ACTIVE-BG:#e6e6e6}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BTN-DEFAULT-ACTIVE-BG:hsla(0,0%,100%,0.126)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BTN-DEFAULT-ACTIVE-BG:hsla(0,0%,100%,0.126)}}.wx-root,body{--weui-DIALOG-LINE-COLOR:rgba(0,0,0,0.1)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-DIALOG-LINE-COLOR:hsla(0,0%,100%,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-DIALOG-LINE-COLOR:hsla(0,0%,100%,0.1)}}.weui-flex{display:flex}.weui-flex__item{flex:1}.wx-root,body{--weui-BG-COLOR-ACTIVE:#ececec}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BG-COLOR-ACTIVE:#373737}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-COLOR-ACTIVE:#373737}}[class*=" weui-icon-"][class*=" weui-icon-"],[class*=" weui-icon-"][class^=weui-icon-],[class^=weui-icon-][class*=" weui-icon-"],[class^=weui-icon-][class^=weui-icon-]{display:inline-block;vertical-align:middle;font-size:10px;width:2.4em;height:2.4em;-webkit-mask-position:50% 50%;mask-position:50% 50%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100%;mask-size:100%;background-color:currentColor}.weui-icon-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='1000' height='1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M500 916.667C269.881 916.667 83.333 730.119 83.333 500 83.333 269.881 269.881 83.333 500 83.333c230.119 0 416.667 186.548 416.667 416.667 0 230.119-186.548 416.667-416.667 416.667zm0-50c202.504 0 366.667-164.163 366.667-366.667 0-202.504-164.163-366.667-366.667-366.667-202.504 0-366.667 164.163-366.667 366.667 0 202.504 164.163 366.667 366.667 366.667z' fill-rule='evenodd' fill-opacity='.9'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='1000' height='1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M500 916.667C269.881 916.667 83.333 730.119 83.333 500 83.333 269.881 269.881 83.333 500 83.333c230.119 0 416.667 186.548 416.667 416.667 0 230.119-186.548 416.667-416.667 416.667zm0-50c202.504 0 366.667-164.163 366.667-366.667 0-202.504-164.163-366.667-366.667-366.667-202.504 0-366.667 164.163-366.667 366.667 0 202.504 164.163 366.667 366.667 366.667z' fill-rule='evenodd' fill-opacity='.9'/%3E%3C/svg%3E")}.weui-icon-download{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.25 12.04l-1.72-1.72-1.06 1.06 2.828 2.83a1 1 0 001.414-.001l2.828-2.828-1.06-1.061-1.73 1.73V7h-1.5v5.04zm0-5.04V2h1.5v5h6.251c.55 0 .999.446.999.996v13.008a.998.998 0 01-.996.996H4.996A.998.998 0 014 21.004V7.996A1 1 0 014.999 7h6.251z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.25 12.04l-1.72-1.72-1.06 1.06 2.828 2.83a1 1 0 001.414-.001l2.828-2.828-1.06-1.061-1.73 1.73V7h-1.5v5.04zm0-5.04V2h1.5v5h6.251c.55 0 .999.446.999.996v13.008a.998.998 0 01-.996.996H4.996A.998.998 0 014 21.004V7.996A1 1 0 014.999 7h6.251z'/%3E%3C/svg%3E")}.weui-icon-info{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.75-12v7h1.5v-7h-1.5zM12 9a1 1 0 100-2 1 1 0 000 2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.75-12v7h1.5v-7h-1.5zM12 9a1 1 0 100-2 1 1 0 000 2z'/%3E%3C/svg%3E")}.weui-icon-safe-success{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.6C315.5 46.7 180.4 93.1 57.6 132c0 129.3.2 231.7.2 339.7 0 304.2 248.3 471.6 443.1 523.7C695.7 943.3 944 775.9 944 471.7c0-108 .2-210.4.2-339.7C821.4 93.1 686.3 46.7 500.9 4.6zm248.3 349.1l-299.7 295c-2.1 2-5.3 2-7.4-.1L304.4 506.1c-2-2.1-2.3-5.7-.6-8l18.3-24.9c1.7-2.3 5-2.8 7.2-1l112.2 86c2.3 1.8 6 1.7 8.1-.1l274.7-228.9c2.2-1.8 5.7-1.7 7.7.3l17 16.8c2.2 2.1 2.2 5.3.2 7.4z' fill-rule='evenodd' clip-rule='evenodd' fill='%23070202'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.6C315.5 46.7 180.4 93.1 57.6 132c0 129.3.2 231.7.2 339.7 0 304.2 248.3 471.6 443.1 523.7C695.7 943.3 944 775.9 944 471.7c0-108 .2-210.4.2-339.7C821.4 93.1 686.3 46.7 500.9 4.6zm248.3 349.1l-299.7 295c-2.1 2-5.3 2-7.4-.1L304.4 506.1c-2-2.1-2.3-5.7-.6-8l18.3-24.9c1.7-2.3 5-2.8 7.2-1l112.2 86c2.3 1.8 6 1.7 8.1-.1l274.7-228.9c2.2-1.8 5.7-1.7 7.7.3l17 16.8c2.2 2.1 2.2 5.3.2 7.4z' fill-rule='evenodd' clip-rule='evenodd' fill='%23070202'/%3E%3C/svg%3E")}.weui-icon-safe-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.5c-185.4 42-320.4 88.4-443.2 127.3 0 129.3.2 231.7.2 339.6 0 304.1 248.2 471.4 443 523.6 194.7-52.2 443-219.5 443-523.6 0-107.9.2-210.3.2-339.6C821.3 92.9 686.2 46.5 500.9 4.5zm-26.1 271.1h52.1c5.8 0 10.3 4.7 10.1 10.4l-11.6 313.8c-.1 2.8-2.5 5.2-5.4 5.2h-38.2c-2.9 0-5.3-2.3-5.4-5.2L464.8 286c-.2-5.8 4.3-10.4 10-10.4zm26.1 448.3c-20.2 0-36.5-16.3-36.5-36.5s16.3-36.5 36.5-36.5 36.5 16.3 36.5 36.5-16.4 36.5-36.5 36.5z' fill-rule='evenodd' clip-rule='evenodd' fill='%23020202'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.5c-185.4 42-320.4 88.4-443.2 127.3 0 129.3.2 231.7.2 339.6 0 304.1 248.2 471.4 443 523.6 194.7-52.2 443-219.5 443-523.6 0-107.9.2-210.3.2-339.6C821.3 92.9 686.2 46.5 500.9 4.5zm-26.1 271.1h52.1c5.8 0 10.3 4.7 10.1 10.4l-11.6 313.8c-.1 2.8-2.5 5.2-5.4 5.2h-38.2c-2.9 0-5.3-2.3-5.4-5.2L464.8 286c-.2-5.8 4.3-10.4 10-10.4zm26.1 448.3c-20.2 0-36.5-16.3-36.5-36.5s16.3-36.5 36.5-36.5 36.5 16.3 36.5 36.5-16.4 36.5-36.5 36.5z' fill-rule='evenodd' clip-rule='evenodd' fill='%23020202'/%3E%3C/svg%3E")}.weui-icon-success{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 001.414 0l5.952-5.95-1.062-1.062-5.6 5.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 001.414 0l5.952-5.95-1.062-1.062-5.6 5.6z'/%3E%3C/svg%3E")}.weui-icon-success-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm-1.172-6.242l5.809-5.808.848.849-5.95 5.95a1 1 0 01-1.414 0L7 12.426l.849-.849 2.98 2.98z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm-1.172-6.242l5.809-5.808.848.849-5.95 5.95a1 1 0 01-1.414 0L7 12.426l.849-.849 2.98 2.98z'/%3E%3C/svg%3E")}.weui-icon-success-no-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.657 18.435L3 12.778l1.414-1.414 4.95 4.95L20.678 5l1.414 1.414-12.02 12.021a1 1 0 01-1.415 0z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.657 18.435L3 12.778l1.414-1.414 4.95 4.95L20.678 5l1.414 1.414-12.02 12.021a1 1 0 01-1.415 0z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-waiting{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.75 11.38V6h-1.5v6l4.243 4.243 1.06-1.06-3.803-3.804zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.75 11.38V6h-1.5v6l4.243 4.243 1.06-1.06-3.803-3.804zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-waiting-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.6 11.503l3.891 3.891-.848.849L11.4 12V6h1.2v5.503zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.6 11.503l3.891 3.891-.848.849L11.4 12V6h1.2v5.503zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z'/%3E%3C/svg%3E")}.weui-icon-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z'/%3E%3C/svg%3E")}.weui-icon-outlined-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12zm18.8 0a8.8 8.8 0 11-17.6 0 8.8 8.8 0 0117.6 0zm-8.14-5.569l-.089 7.06H11.43l-.088-7.06h1.318zm-1.495 9.807c0 .469.366.835.835.835a.82.82 0 00.835-.835.817.817 0 00-.835-.835.821.821 0 00-.835.835z' fill='%23000'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12zm18.8 0a8.8 8.8 0 11-17.6 0 8.8 8.8 0 0117.6 0zm-8.14-5.569l-.089 7.06H11.43l-.088-7.06h1.318zm-1.495 9.807c0 .469.366.835.835.835a.82.82 0 00.835-.835.817.817 0 00-.835-.835.821.821 0 00-.835.835z' fill='%23000'/%3E%3C/svg%3E")}.weui-icon-info-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zM11.4 10h1.2v7h-1.2v-7zm.6-1a1 1 0 110-2 1 1 0 010 2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zM11.4 10h1.2v7h-1.2v-7zm.6-1a1 1 0 110-2 1 1 0 010 2z'/%3E%3C/svg%3E")}.weui-icon-cancel{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill-rule='evenodd'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z' fill-rule='nonzero'/%3E%3Cpath d='M12.849 12l3.11 3.111-.848.849L12 12.849l-3.111 3.11-.849-.848L11.151 12l-3.11-3.111.848-.849L12 11.151l3.111-3.11.849.848L12.849 12z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill-rule='evenodd'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z' fill-rule='nonzero'/%3E%3Cpath d='M12.849 12l3.11 3.111-.848.849L12 12.849l-3.111 3.11-.849-.848L11.151 12l-3.11-3.111.848-.849L12 11.151l3.111-3.11.849.848L12.849 12z'/%3E%3C/g%3E%3C/svg%3E")}.weui-icon-search{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.31 15.561l4.114 4.115-.848.848-4.123-4.123a7 7 0 11.857-.84zM16.8 11a5.8 5.8 0 10-11.6 0 5.8 5.8 0 0011.6 0z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.31 15.561l4.114 4.115-.848.848-4.123-4.123a7 7 0 11.857-.84zM16.8 11a5.8 5.8 0 10-11.6 0 5.8 5.8 0 0011.6 0z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-clear{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.06 12l3.006-3.005-1.06-1.06L12 10.938 8.995 7.934l-1.06 1.06L10.938 12l-3.005 3.005 1.06 1.06L12 13.062l3.005 3.005 1.06-1.06L13.062 12zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.06 12l3.006-3.005-1.06-1.06L12 10.938 8.995 7.934l-1.06 1.06L10.938 12l-3.005 3.005 1.06 1.06L12 13.062l3.005 3.005 1.06-1.06L13.062 12zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z'/%3E%3C/svg%3E")}.weui-icon-back{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm1.999-6.563L10.68 12 14 8.562 12.953 7.5 9.29 11.277a1.045 1.045 0 000 1.446l3.663 3.777L14 15.437z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm1.999-6.563L10.68 12 14 8.562 12.953 7.5 9.29 11.277a1.045 1.045 0 000 1.446l3.663 3.777L14 15.437z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-delete{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.774 6.4l.812 13.648a.8.8 0 00.798.752h7.232a.8.8 0 00.798-.752L17.226 6.4H6.774zm11.655 0l-.817 13.719A2 2 0 0115.616 22H8.384a2 2 0 01-1.996-1.881L5.571 6.4H3.5v-.7a.5.5 0 01.5-.5h16a.5.5 0 01.5.5v.7h-2.071zM14 3a.5.5 0 01.5.5v.7h-5v-.7A.5.5 0 0110 3h4zM9.5 9h1.2l.5 9H10l-.5-9zm3.8 0h1.2l-.5 9h-1.2l.5-9z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.774 6.4l.812 13.648a.8.8 0 00.798.752h7.232a.8.8 0 00.798-.752L17.226 6.4H6.774zm11.655 0l-.817 13.719A2 2 0 0115.616 22H8.384a2 2 0 01-1.996-1.881L5.571 6.4H3.5v-.7a.5.5 0 01.5-.5h16a.5.5 0 01.5.5v.7h-2.071zM14 3a.5.5 0 01.5.5v.7h-5v-.7A.5.5 0 0110 3h4zM9.5 9h1.2l.5 9H10l-.5-9zm3.8 0h1.2l-.5 9h-1.2l.5-9z'/%3E%3C/svg%3E")}.weui-icon-success-no-circle-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.864 16.617l-5.303-5.303-1.061 1.06 5.657 5.657a1 1 0 001.414 0L21.238 6.364l-1.06-1.06L8.864 16.616z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.864 16.617l-5.303-5.303-1.061 1.06 5.657 5.657a1 1 0 001.414 0L21.238 6.364l-1.06-1.06L8.864 16.616z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-arrow{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.454 6.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061 5.425-5.425-5.425-5.424z' fill='%23B2B2B2' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.454 6.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061 5.425-5.425-5.425-5.424z' fill='%23B2B2B2' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-arrow-bold{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.157 12.711L4.5 18.368l-1.414-1.414 4.95-4.95-4.95-4.95L4.5 5.64l5.657 5.657a1 1 0 010 1.414z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.157 12.711L4.5 18.368l-1.414-1.414 4.95-4.95-4.95-4.95L4.5 5.64l5.657 5.657a1 1 0 010 1.414z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-arrow{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3.343 12l7.071 7.071L9 20.485l-7.778-7.778a1 1 0 010-1.414L9 3.515l1.414 1.414L3.344 12z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3.343 12l7.071 7.071L9 20.485l-7.778-7.778a1 1 0 010-1.414L9 3.515l1.414 1.414L3.344 12z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-arrow-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 19.438L8.955 20.5l-7.666-7.79a1.02 1.02 0 010-1.42L8.955 3.5 10 4.563 2.682 12 10 19.438z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 19.438L8.955 20.5l-7.666-7.79a1.02 1.02 0 010-1.42L8.955 3.5 10 4.563 2.682 12 10 19.438z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-close{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5l-6.193 6.193z' fill='%23000'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5l-6.193 6.193z' fill='%23000'/%3E%3C/svg%3E")}.weui-icon-close-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm1.999-5.363L12.953 16.5 9.29 12.723a1.045 1.045 0 010-1.446L12.953 7.5 14 8.563 10.68 12 14 15.438z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm1.999-5.363L12.953 16.5 9.29 12.723a1.045 1.045 0 010-1.446L12.953 7.5 14 8.563 10.68 12 14 15.438z'/%3E%3C/svg%3E")}.weui-icon-success{color:var(--weui-BRAND)}.weui-icon-waiting{color:var(--weui-BLUE)}.weui-icon-warn{color:var(--weui-RED)}.weui-icon-info{color:var(--weui-BLUE)}.weui-icon-success-circle,.weui-icon-success-no-circle,.weui-icon-success-no-circle-thin{color:var(--weui-BRAND)}.weui-icon-waiting-circle{color:var(--weui-BLUE)}.weui-icon-circle{color:var(--weui-FG-2)}.weui-icon-download{color:var(--weui-BRAND)}.weui-icon-info-circle{color:var(--weui-FG-2)}.weui-icon-safe-success{color:var(--weui-BRAND)}.weui-icon-safe-warn{color:var(--weui-YELLOW)}.weui-icon-cancel{color:var(--weui-RED)}.weui-icon-search{color:var(--weui-FG-1)}.weui-icon-clear{color:var(--weui-FG-2)}.weui-icon-clear:active{color:var(--weui-FG-1)}.weui-icon-delete.weui-icon_gallery-delete{color:var(--weui-WHITE)}.weui-icon-arrow-bold.weui-icon-arrow,.weui-icon-arrow-bold.weui-icon-arrow-bold,.weui-icon-arrow-bold.weui-icon-back-arrow,.weui-icon-arrow-bold.weui-icon-back-arrow-thin,.weui-icon-arrow.weui-icon-arrow,.weui-icon-arrow.weui-icon-arrow-bold,.weui-icon-arrow.weui-icon-back-arrow,.weui-icon-arrow.weui-icon-back-arrow-thin,.weui-icon-back-arrow-thin.weui-icon-arrow,.weui-icon-back-arrow-thin.weui-icon-arrow-bold,.weui-icon-back-arrow-thin.weui-icon-back-arrow,.weui-icon-back-arrow-thin.weui-icon-back-arrow-thin,.weui-icon-back-arrow.weui-icon-arrow,.weui-icon-back-arrow.weui-icon-arrow-bold,.weui-icon-back-arrow.weui-icon-back-arrow,.weui-icon-back-arrow.weui-icon-back-arrow-thin{width:1.2em}.weui-icon-arrow,.weui-icon-arrow-bold{color:var(--weui-FG-2)}.weui-icon-back,.weui-icon-back-arrow,.weui-icon-back-arrow-thin,.weui-icon-back-circle{color:var(--weui-FG-0)}.weui-icon_msg.weui-icon_msg{width:6.4em;height:6.4em}.weui-icon_msg.weui-icon_msg.weui-icon-warn{color:var(--weui-RED)}.weui-icon_msg.weui-icon_msg.weui-icon-info-circle{color:var(--weui-BLUE)}.weui-icon_msg-primary.weui-icon_msg-primary{width:6.4em;height:6.4em}.weui-icon_msg-primary.weui-icon_msg-primary.weui-icon-warn{color:var(--weui-YELLOW)}.wx-root,body{--weui-BG-0:#ededed;--weui-BG-1:#f7f7f7;--weui-BG-2:#fff;--weui-BG-3:#f7f7f7;--weui-BG-4:#4c4c4c;--weui-BG-5:#fff;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#3fbeff;--weui-BLUE-170:#b7e6ff;--weui-BLUE-80:#0c8bcc;--weui-BLUE-90:#0e9ce6;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#5aafe4;--weui-BLUE-BG-130:#7fc0ea;--weui-BLUE-BG-90:#4095cb;--weui-BRAND-100:#07c160;--weui-BRAND-120:#38cd7f;--weui-BRAND-170:#b4ecce;--weui-BRAND-80:#059a4c;--weui-BRAND-90:#06ae56;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#3eb575;--weui-BRAND-BG-130:#69c694;--weui-BRAND-BG-90:#259c5c;--weui-FG-0:rgba(0,0,0,0.9);--weui-FG-0_5:rgba(0,0,0,0.9);--weui-FG-1:rgba(0,0,0,0.55);--weui-FG-2:rgba(0,0,0,0.3);--weui-FG-3:rgba(0,0,0,0.1);--weui-FG-4:rgba(0,0,0,0.15);--weui-GLYPH-0:rgba(0,0,0,0.9);--weui-GLYPH-1:rgba(0,0,0,0.55);--weui-GLYPH-2:rgba(0,0,0,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#91d300;--weui-GREEN-120:#a7db33;--weui-GREEN-170:#def1b3;--weui-GREEN-80:#74a800;--weui-GREEN-90:#82bd00;--weui-GREEN-BG-100:#96be40;--weui-GREEN-BG-110:#a0c452;--weui-GREEN-BG-130:#b5d179;--weui-GREEN-BG-90:#86aa39;--weui-INDIGO-100:#1485ee;--weui-INDIGO-120:#439df1;--weui-INDIGO-170:#b8daf9;--weui-INDIGO-80:#106abe;--weui-INDIGO-90:#1277d6;--weui-INDIGO-BG-100:#2b77bf;--weui-INDIGO-BG-110:#3f84c5;--weui-INDIGO-BG-130:#6ba0d2;--weui-INDIGO-BG-90:#266aab;--weui-LIGHTGREEN-100:#95ec69;--weui-LIGHTGREEN-120:#aaef87;--weui-LIGHTGREEN-170:#def9d1;--weui-LIGHTGREEN-80:#77bc54;--weui-LIGHTGREEN-90:#85d35e;--weui-LIGHTGREEN-BG-100:#72cf60;--weui-LIGHTGREEN-BG-110:#80d370;--weui-LIGHTGREEN-BG-130:#9cdd90;--weui-LIGHTGREEN-BG-90:#66b956;--weui-LINK-100:#576b95;--weui-LINK-120:#7888aa;--weui-LINK-170:#ccd2de;--weui-LINK-80:#455577;--weui-LINK-90:#4e6085;--weui-LINKFINDER-100:#002666;--weui-MATERIAL-ATTACHMENTCOLUMN:hsla(0,0%,96.1%,0.95);--weui-MATERIAL-NAVIGATIONBAR:hsla(0,0%,92.9%,0.94);--weui-MATERIAL-REGULAR:hsla(0,0%,96.9%,0.3);--weui-MATERIAL-THICK:hsla(0,0%,96.9%,0.8);--weui-MATERIAL-THIN:hsla(0,0%,100%,0.2);--weui-MATERIAL-TOOLBAR:hsla(0,0%,96.5%,0.82);--weui-ORANGE-100:#fa9d3b;--weui-ORANGE-120:#fbb062;--weui-ORANGE-170:#fde1c3;--weui-ORANGE-80:#c87d2f;--weui-ORANGE-90:#e08c34;--weui-ORANGE-BG-100:#ea7800;--weui-ORANGE-BG-110:#ec8519;--weui-ORANGE-BG-130:#f0a04d;--weui-ORANGE-BG-90:#d26b00;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.5);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#6467f0;--weui-PURPLE-120:#8385f3;--weui-PURPLE-170:#d0d1fa;--weui-PURPLE-80:#5052c0;--weui-PURPLE-90:#595cd7;--weui-PURPLE-BG-100:#6769ba;--weui-PURPLE-BG-110:#7678c1;--weui-PURPLE-BG-130:#9496ce;--weui-PURPLE-BG-90:#5c5ea7;--weui-RED-100:#fa5151;--weui-RED-120:#fb7373;--weui-RED-170:#fdcaca;--weui-RED-80:#c84040;--weui-RED-90:#e14949;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#d3625a;--weui-RED-BG-130:#dd847e;--weui-RED-BG-90:#b94840;--weui-SECONDARY-BG:rgba(0,0,0,0.05);--weui-SEPARATOR-0:rgba(0,0,0,0.1);--weui-SEPARATOR-1:rgba(0,0,0,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:rgba(0,0,0,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:rgba(0,0,0,0.2);--weui-YELLOW-100:#ffc300;--weui-YELLOW-120:#ffcf33;--weui-YELLOW-170:#ffecb2;--weui-YELLOW-80:#cc9c00;--weui-YELLOW-90:#e6af00;--weui-YELLOW-BG-100:#efb600;--weui-YELLOW-BG-110:#f0bd19;--weui-YELLOW-BG-130:#f3cc4d;--weui-YELLOW-BG-90:#d7a400;--weui-FG-HALF:rgba(0,0,0,0.9);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#fa9d3b;--weui-YELLOW:#ffc300;--weui-GREEN:#91d300;--weui-LIGHTGREEN:#95ec69;--weui-TEXTGREEN:#06ae56;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1485ee;--weui-PURPLE:#6467f0;--weui-LINK:#576b95;--weui-TAG-TEXT-ORANGE:#fa9d3b;--weui-TAG-TEXT-GREEN:#06ae56;--weui-TAG-TEXT-BLUE:#10aeff;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:rgba(0,0,0,0.5);--weui-TAG-BACKGROUND-BLACK:rgba(0,0,0,0.05);--weui-WHITE:#fff;--weui-BG:#fff;--weui-FG:#000;--weui-FG-5:rgba(0,0,0,0.05);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}.wx-root[data-weui-mode=care],body[data-weui-mode=care]{--weui-BG-0:#ededed;--weui-BG-1:#f7f7f7;--weui-BG-2:#fff;--weui-BG-3:#f7f7f7;--weui-BG-4:#4c4c4c;--weui-BG-5:#fff;--weui-BLUE-100:#007dbb;--weui-BLUE-120:#3fbeff;--weui-BLUE-170:#b7e6ff;--weui-BLUE-80:#0c8bcc;--weui-BLUE-90:#0e9ce6;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#5aafe4;--weui-BLUE-BG-130:#7fc0ea;--weui-BLUE-BG-90:#4095cb;--weui-BRAND-100:#018942;--weui-BRAND-120:#38cd7f;--weui-BRAND-170:#b4ecce;--weui-BRAND-80:#059a4c;--weui-BRAND-90:#06ae56;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#3eb575;--weui-BRAND-BG-130:#69c694;--weui-BRAND-BG-90:#259c5c;--weui-FG-0:#000;--weui-FG-0_5:#000;--weui-FG-1:rgba(0,0,0,0.6);--weui-FG-2:rgba(0,0,0,0.42);--weui-FG-3:rgba(0,0,0,0.1);--weui-FG-4:rgba(0,0,0,0.15);--weui-GLYPH-0:#000;--weui-GLYPH-1:rgba(0,0,0,0.6);--weui-GLYPH-2:rgba(0,0,0,0.42);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#4f8400;--weui-GREEN-120:#a7db33;--weui-GREEN-170:#def1b3;--weui-GREEN-80:#74a800;--weui-GREEN-90:#82bd00;--weui-GREEN-BG-100:#96be40;--weui-GREEN-BG-110:#a0c452;--weui-GREEN-BG-130:#b5d179;--weui-GREEN-BG-90:#86aa39;--weui-INDIGO-100:#0075e2;--weui-INDIGO-120:#439df1;--weui-INDIGO-170:#b8daf9;--weui-INDIGO-80:#106abe;--weui-INDIGO-90:#1277d6;--weui-INDIGO-BG-100:#2b77bf;--weui-INDIGO-BG-110:#3f84c5;--weui-INDIGO-BG-130:#6ba0d2;--weui-INDIGO-BG-90:#266aab;--weui-LIGHTGREEN-100:#2e8800;--weui-LIGHTGREEN-120:#aaef87;--weui-LIGHTGREEN-170:#def9d1;--weui-LIGHTGREEN-80:#77bc54;--weui-LIGHTGREEN-90:#85d35e;--weui-LIGHTGREEN-BG-100:#72cf60;--weui-LIGHTGREEN-BG-110:#80d370;--weui-LIGHTGREEN-BG-130:#9cdd90;--weui-LIGHTGREEN-BG-90:#66b956;--weui-LINK-100:#576b95;--weui-LINK-120:#7888aa;--weui-LINK-170:#ccd2de;--weui-LINK-80:#455577;--weui-LINK-90:#4e6085;--weui-LINKFINDER-100:#002666;--weui-MATERIAL-ATTACHMENTCOLUMN:hsla(0,0%,96.1%,0.95);--weui-MATERIAL-NAVIGATIONBAR:hsla(0,0%,92.9%,0.94);--weui-MATERIAL-REGULAR:hsla(0,0%,96.9%,0.3);--weui-MATERIAL-THICK:hsla(0,0%,96.9%,0.8);--weui-MATERIAL-THIN:hsla(0,0%,100%,0.2);--weui-MATERIAL-TOOLBAR:hsla(0,0%,96.5%,0.82);--weui-ORANGE-100:#e17719;--weui-ORANGE-120:#fbb062;--weui-ORANGE-170:#fde1c3;--weui-ORANGE-80:#c87d2f;--weui-ORANGE-90:#e08c34;--weui-ORANGE-BG-100:#ea7800;--weui-ORANGE-BG-110:#ec8519;--weui-ORANGE-BG-130:#f0a04d;--weui-ORANGE-BG-90:#d26b00;--weui-ORANGERED-100:#d14730;--weui-OVERLAY:rgba(0,0,0,0.5);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#6265f1;--weui-PURPLE-120:#8385f3;--weui-PURPLE-170:#d0d1fa;--weui-PURPLE-80:#5052c0;--weui-PURPLE-90:#595cd7;--weui-PURPLE-BG-100:#6769ba;--weui-PURPLE-BG-110:#7678c1;--weui-PURPLE-BG-130:#9496ce;--weui-PURPLE-BG-90:#5c5ea7;--weui-RED-100:#dc3636;--weui-RED-120:#fb7373;--weui-RED-170:#fdcaca;--weui-RED-80:#c84040;--weui-RED-90:#e14949;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#d3625a;--weui-RED-BG-130:#dd847e;--weui-RED-BG-90:#b94840;--weui-SECONDARY-BG:rgba(0,0,0,0.1);--weui-SEPARATOR-0:rgba(0,0,0,0.1);--weui-SEPARATOR-1:rgba(0,0,0,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:rgba(0,0,0,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:rgba(0,0,0,0.2);--weui-YELLOW-100:#bb8e00;--weui-YELLOW-120:#ffcf33;--weui-YELLOW-170:#ffecb2;--weui-YELLOW-80:#cc9c00;--weui-YELLOW-90:#e6af00;--weui-YELLOW-BG-100:#efb600;--weui-YELLOW-BG-110:#f0bd19;--weui-YELLOW-BG-130:#f3cc4d;--weui-YELLOW-BG-90:#d7a400;--weui-FG-HALF:#000;--weui-RED:#dc3636;--weui-ORANGERED:#d14730;--weui-ORANGE:#e17719;--weui-YELLOW:#bb8e00;--weui-GREEN:#4f8400;--weui-LIGHTGREEN:#2e8800;--weui-TEXTGREEN:#06ae56;--weui-BRAND:#018942;--weui-BLUE:#007dbb;--weui-INDIGO:#0075e2;--weui-PURPLE:#6265f1;--weui-LINK:#576b95;--weui-TAG-TEXT-ORANGE:#e17719;--weui-TAG-TEXT-GREEN:#06ae56;--weui-TAG-TEXT-BLUE:#007dbb;--weui-REDORANGE:#d14730;--weui-TAG-TEXT-BLACK:rgba(0,0,0,0.5);--weui-WHITE:#fff;--weui-BG:#fff;--weui-FG:#000;--weui-FG-5:rgba(0,0,0,0.05);--weui-TAG-BACKGROUND-ORANGE:rgba(225,119,25,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(0,125,187,0.1);--weui-TAG-BACKGROUND-BLACK:rgba(0,0,0,0.05)}@media (prefers-color-scheme:dark){.wx-root[data-weui-mode=care]:not([data-weui-theme=light]),body[data-weui-mode=care]:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}}.wx-root[data-weui-mode=care][data-weui-theme=dark],body[data-weui-mode=care][data-weui-theme=dark]{--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}.wx-root{pointer-events:auto;font-family:system-ui,-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif}.wx-root,.wx_card_root{position:relative}.wxw_hide{display:none!important}.wx_uninteractive{pointer-events:none}.wx-root,body{--APPMSGCARD-BG:#fafafa}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--APPMSGCARD-BG:#1e1e1e}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--APPMSGCARD-BG:#1e1e1e}}.wx-root,body{--APPMSGCARD-LINE-BG:rgba(0,0,0,0.07)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--APPMSGCARD-LINE-BG:hsla(0,0%,100%,0.07)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--APPMSGCARD-LINE-BG:hsla(0,0%,100%,0.07)}}.appmsg_card_context{position:relative;background-color:var(--APPMSGCARD-BG);border-radius:8px;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}:host(.wx_tap_highlight_active) .wx_tap_link{opacity:.5}:host(.wx_tap_highlight_active) .wx_tap_card{background-color:#f3f3f3}:host(.wx_tap_highlight_active) .wx_tap_cell{background-color:rgba(0,0,0,.05)}@media (prefers-color-scheme:dark){:host(.wx_tap_highlight_active) .wx_tap_card{background-color:#252525}:host(.wx_tap_highlight_active) .wx_tap_cell{background-color:hsla(0,0%,100%,.1)}}.wx_css_active :active{opacity:.5}.weui-flex__item{min-width:0}.weui-flex_align-center{align-items:center}[tabindex]{outline:0}.wx_hover_card:before{border-radius:8px;border:1px solid rgba(7,193,96,.3)}.wx_hover_card:before,.wx_selected_card:before{content:" ";position:absolute;top:0;left:0;right:0;bottom:0;box-sizing:border-box;pointer-events:none;z-index:9}.wx_selected_card:before{border-radius:8px;border:1.5px solid #07c160;background:rgba(7,193,96,.1)}img{pointer-events:none}.wx_profile_card{line-height:1.4;text-align:left;text-decoration:none;clear:both;position:relative}.wx_profile_card_ft{padding:8px 16px;align-items:center;position:relative;color:var(--weui-FG-2);font-size:14px}.wx_profile_card_ft:before{content:"";content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid var(--APPMSGCARD-LINE-BG);color:var(--APPMSGCARD-LINE-BG);transform-origin:0 0;transform:scaleY(.5);left:16px;right:16px}.wx_profile_msg{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1;background:hsla(0,0%,100%,.5);font-size:14px;font-weight:400}.common-web{margin:0 auto;max-width:350px}.wx_card_disabled .wx_profile_card_bd{filter:blur(2px)}.wx_profile{padding:20px 16px}.wx_profile .weui-icon-arrow{width:1em;height:2em}.wx_profile_hd{display:flex;padding-right:10px}.wx_profile_hd .wx_profile_avatar{width:44px;height:44px!important;border-radius:100%}.wx_profile_ft{padding-left:10px}.wx_profile_bd{align-items:center}.wx_profile_bd>.weui-flex__item{padding-right:16px}.wx_profile_nickname{display:inline-block;flex-shrink:1;color:var(--weui-FG-0);font-weight:500}.wx_profile_desc{width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.wx_profile_desc,.wx_profile_tips{color:var(--weui-FG-1);font-size:14px;margin-top:4px}.wx_profile_tips{display:flex;min-height:1.4em}.wx_profile_tips:empty{display:none}.wx_profile_nickname_wrp{position:relative;display:flex;flex-direction:row;align-items:center;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;font-size:17px;line-height:1.2;font-weight:500}.wx_follow_verify{flex-shrink:0;height:14px;width:14px;margin-left:2px;background-size:cover;background-position:50%;background-repeat:no-repeat}.wx_follow_verify.show-verify-personal{display:block;background-image:url(https://res.wx.qq.com/op_res/nLnAiLrrETuU96Aym1ZDNuddJ2beY0iOs-D3h-7MPQeIIoXE5kLrgfPY_Vr_hrKamxAjISc12pBthrd7Ja4S4w)}.wx_follow_verify.show-verify-company{display:block;background-image:url(https://res.wx.qq.com/op_res/nLnAiLrrETuU96Aym1ZDNjhMga6Fe1hiYp332DlZsT_u4THJyu8XegVlG723G5FblhAwxLO31iFVMkzq62jS3w)}.wx_follow_verify.show-verify-media{display:block;background-image:url(https://res.wx.qq.com/op_res/n1-Xym4hWn0AbVImOFGmT9sRdHV1rjoe3lnMHwxRdfbguJjDQH16CE7AIfDZy1KVMHWCPJIoAC4jrMEFqmqR4A)}</style>
      <div role="option" tabindex="0"
           aria-labelledby="js_a11y_wx_profile_nickname js_a11y_comma js_a11y_wx_profile_desc js_a11y_comma0 js_a11y_wx_profile_tips js_a11y_comma1 js_a11y_wx_profile_logo"
           class="appmsg_card_context wx_profile_card wx-root wx_tap_card wx_card_root common-web"
           data-weui-theme="light">
        <div class="wx_profile_card_inner">
          <div class="wx_profile_card_bd" aria-hidden="true">
            <div class="wx_profile weui-flex">
              <div class="wx_profile_hd">
                <img src="${o}" alt="" class="wx_profile_avatar">
              </div>
              <div class="wx_profile_bd weui-flex weui-flex__item">
                <div class="weui-flex__item">
                  <div class="wx_profile_nickname_wrp">
                    <strong id="js_a11y_wx_profile_nickname" class="wx_profile_nickname">${t}</strong>
                    <span class="wx_follow_verify ${s==="1"?"show-verify-personal":s==="2"?"show-verify-company":""}"></span>
                  </div>
                  <div id="js_a11y_wx_profile_desc" class="wx_profile_desc">${a}</div>
                </div>
                <i class="weui-icon-arrow"></i>
              </div>
            </div>
          </div>
          <div id="js_a11y_wx_profile_logo" aria-hidden="true" class="wx_profile_card_ft">
            ${n==="1"?"公众号":"服务号"}
          </div>
        </div>
        <span aria-hidden="true" id="js_a11y_comma" class="weui-a11y_ref" style="display: none;">，</span>
      </div>
    `}}function setupComponents(){customElements.define("mp-common-profile",MpCommonProfile)}initializeMermaid().catch(console.error);setupComponents();const app=createApp(_sfc_main);app.use(createPinia());app.mount("#app");const isInExtension=typeof chrome<"u"&&chrome.runtime&&chrome.runtime.id;async function getCurrentTab(){const e={active:!0,lastFocusedWindow:!0};if(typeof browser<"u"&&browser.tabs&&browser.tabs.query){const[o]=await browser.tabs.query(e);return o}const[t]=await chrome.tabs.query(e);return t}window.addEventListener("copyToMp",e=>{const t=e;isInExtension&&getCurrentTab().then(o=>{chrome.tabs.sendMessage(o.id,{type:"copyToMp",content:t.detail.content})})});
